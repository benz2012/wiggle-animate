(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+wdc":function(e,s,t){"use strict";
/** @license React v0.18.0
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a,l,u,c,n;if(Object.defineProperty(s,"__esModule",{value:!0}),"undefined"==typeof window||"function"!=typeof MessageChannel){var r=null,i=null,o=function(){if(null!==r)try{var e=s.unstable_now();r(!0,e),r=null}catch(e){throw setTimeout(o,0),e}},h=Date.now();s.unstable_now=function(){return Date.now()-h},a=function(e){null!==r?setTimeout(a,0,e):(r=e,setTimeout(o,0))},l=function(e,t){i=setTimeout(e,t)},u=function(){clearTimeout(i)},c=function(){return!1},n=s.unstable_forceFrameRate=function(){}}else{var d=window.performance,p=window.Date,f=window.setTimeout,g=window.clearTimeout;if("undefined"!=typeof console){var v=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof d&&"function"==typeof d.now)s.unstable_now=function(){return d.now()};else{var m=p.now();s.unstable_now=function(){return p.now()-m}}var _=!1,y=null,b=-1,w=5,C=0;c=function(){return s.unstable_now()>=C},n=function(){},s.unstable_forceFrameRate=function(e){e<0||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,S=x.port2;x.port1.onmessage=function(){if(null!==y){var e=s.unstable_now();C=e+w;try{y(!0,e)?S.postMessage(null):(_=!1,y=null)}catch(e){throw S.postMessage(null),e}}else _=!1},a=function(e){y=e,_||(_=!0,S.postMessage(null))},l=function(e,t){b=f(function(){e(s.unstable_now())},t)},u=function(){g(b),b=-1}}function J(e,t){var n=e.length;e.push(t);e:for(;;){var r=Math.floor((n-1)/2),i=e[r];if(!(void 0!==i&&0<K(i,t)))break e;e[r]=t,e[n]=i,n=r}}function L(e){return void 0===(e=e[0])?null:e}function M(e){var t=e[0];if(void 0===t)return null;var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=1+a,l=e[s];if(void 0!==o&&K(o,n)<0)r=void 0!==l&&K(l,o)<0?(e[r]=l,e[s]=n,s):(e[r]=o,e[a]=n,a);else{if(!(void 0!==l&&K(l,n)<0))break e;e[r]=l,e[s]=n,r=s}}}return t}function K(e,t){var n=e.sortIndex-t.sortIndex;return 0!=n?n:e.id-t.id}var E=[],k=[],T=1,P=null,I=3,O=!1,N=!1,A=!1;function V(e){for(var t=L(k);null!==t;){if(null===t.callback)M(k);else{if(!(t.startTime<=e))break;M(k),t.sortIndex=t.expirationTime,J(E,t)}t=L(k)}}function W(e){if(A=!1,V(e),!N)if(null!==L(E))N=!0,a(X);else{var t=L(k);null!==t&&l(W,t.startTime-e)}}function X(e,t){N=!1,A&&(A=!1,u()),O=!0;var n=I;try{for(V(t),P=L(E);null!==P&&(!(P.expirationTime>t)||e&&!c());){var r=P.callback;if(null!==r){P.callback=null,I=P.priorityLevel;var i=r(P.expirationTime<=t);t=s.unstable_now(),"function"==typeof i?P.callback=i:P===L(E)&&M(E),V(t)}else M(E);P=L(E)}if(null!==P)var a=!0;else{var o=L(k);null!==o&&l(W,o.startTime-t),a=!1}return a}finally{P=null,I=n,O=!1}}function Y(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var R=n;s.unstable_ImmediatePriority=1,s.unstable_UserBlockingPriority=2,s.unstable_NormalPriority=3,s.unstable_IdlePriority=5,s.unstable_LowPriority=4,s.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},s.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},s.unstable_scheduleCallback=function(e,t,n){var r=s.unstable_now();if("object"==typeof n&&null!==n){var i=n.delay;i="number"==typeof i&&0<i?r+i:r,n="number"==typeof n.timeout?n.timeout:Y(e)}else n=Y(e),i=r;return e={id:T++,callback:t,priorityLevel:e,startTime:i,expirationTime:n=i+n,sortIndex:-1},r<i?(e.sortIndex=i,J(k,e),null===L(E)&&e===L(k)&&(A?u():A=!0,l(W,i-r))):(e.sortIndex=n,J(E,e),N||O||(N=!0,a(X))),e},s.unstable_cancelCallback=function(e){e.callback=null},s.unstable_wrapCallback=function(t){var n=I;return function(){var e=I;I=n;try{return t.apply(this,arguments)}finally{I=e}}},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_shouldYield=function(){var e=s.unstable_now();V(e);var t=L(E);return t!==P&&null!==P&&null!==t&&null!==t.callback&&t.startTime<=e&&t.expirationTime<P.expirationTime||c()},s.unstable_requestPaint=R,s.unstable_continueExecution=function(){N||O||(N=!0,a(X))},s.unstable_pauseExecution=function(){},s.unstable_getFirstCallbackNode=function(){return L(E)},s.unstable_Profiling=null},"0cfB":function(e,t,n){"use strict";e.exports=n("7B0+")},"2vnA":function(e,fe,ge){"use strict";(function(n,e){ge.d(fe,"a",function(){return s}),ge.d(fe,"b",function(){return W}),ge.d(fe,"c",function(){return allowStateChanges}),ge.d(fe,"d",function(){return G}),ge.d(fe,"e",function(){return autorun}),ge.d(fe,"f",function(){return I}),ge.d(fe,"g",function(){return configure}),ge.d(fe,"h",function(){return createAtom}),ge.d(fe,"i",function(){return getDependencyTree}),ge.d(fe,"j",function(){return isObservableArray}),ge.d(fe,"k",function(){return ae}),ge.d(fe,"l",function(){return isObservableObject}),ge.d(fe,"m",function(){return C}),ge.d(fe,"n",function(){return reaction}),ge.d(fe,"o",function(){return runInAction}),ge.d(fe,"p",function(){return spy}),ge.d(fe,"q",function(){return transaction}),ge.d(fe,"r",function(){return untracked});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}var l=function(){return(l=Object.assign||function __assign(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function __values(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function __read(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function __spread(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e}var i="An invariant failed, however the error is obfuscated because this is an production build.",u=[];Object.freeze(u);var d={};function getNextId(){return++U.mobxGuid}function fail(e){throw invariant(!1,e),"X"}function invariant(e,t){if(!e)throw new Error("[mobx] "+(t||i))}Object.freeze(d);function once(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var a=function(){};function isObject(e){return null!==e&&"object"==typeof e}function isPlainObject(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function addHiddenProp(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function createInstanceofPredicate(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return isObject(e)&&!0===e[n]}}function isES6Map(e){return e instanceof Map}function isES6Set(e){return e instanceof Set}function getPlainObjectKeys(t){var n=new Set;for(var e in t)n.add(e);return Object.getOwnPropertySymbols(t).forEach(function(e){Object.getOwnPropertyDescriptor(t,e).enumerable&&n.add(e)}),Array.from(n)}function stringifyKey(e){return e&&e.toString?e.toString():new String(e).toString()}function toPrimitive(e){return null===e?null:"object"==typeof e?""+e:e}var s=Symbol("mobx administration"),o=(Atom.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(e){return e()})},Atom.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(e){return e()})},Atom.prototype.reportObserved=function(){return reportObserved(this)},Atom.prototype.reportChanged=function(){startBatch(),function propagateChanged(t){t.lowestObserverState!==x.STALE&&(t.lowestObserverState=x.STALE,t.observers.forEach(function(e){e.dependenciesState===x.UP_TO_DATE&&(e.isTracing!==E.NONE&&logTraceInfo(e,t),e.onBecomeStale()),e.dependenciesState=x.STALE}))}(this),endBatch()},Atom.prototype.toString=function(){return this.name},Atom);function Atom(e){void 0===e&&(e="Atom@"+getNextId()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=x.NOT_TRACKING}var c=createInstanceofPredicate("Atom",o);function createAtom(e,t,n){void 0===t&&(t=a),void 0===n&&(n=a);var r=new o(e);return t!==a&&function onBecomeObserved(e,t,n){return interceptHook("onBecomeObserved",e,t,n)}(r,t),n!==a&&onBecomeUnobserved(r,n),r}var p={identity:function identityComparer(e,t){return e===t},structural:function structuralComparer(e,t){return deepEqual(e,t)},default:function defaultComparer(e,t){return Object.is(e,t)},shallow:function shallowComparer(e,t){return deepEqual(e,t,1)}},h=Symbol("mobx did run lazy initializers"),f=Symbol("mobx pending decorators"),g={},v={};function initializeInstance(e){var t,n;if(!0!==e[h]){var r=e[f];if(r){addHiddenProp(e,h,!0);var i=__spread(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var a=__values(i),o=a.next();!o.done;o=a.next()){var s=r[o.value];s.propertyCreator(e,s.prop,s.descriptor,s.decoratorTarget,s.decoratorArguments)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}}}function createPropDecorator(o,s){return function decoratorFactory(){function Cj(e,t,n,r){if(!0===r)return s(e,t,n,e,a),null;if(0,!Object.prototype.hasOwnProperty.call(e,f)){var i=e[f];addHiddenProp(e,f,l({},i))}return e[f][t]={prop:t,propertyCreator:s,descriptor:n,decoratorTarget:e,decoratorArguments:a},function createPropertyInitializerDescriptor(t,e){var n=e?g:v;return n[t]||(n[t]={configurable:!0,enumerable:e,get:function(){return initializeInstance(this),this[t]},set:function(e){initializeInstance(this),this[t]=e}})}(t,o)}var a;return function quacksLikeADecorator(e){return(2===e.length||3===e.length)&&("string"==typeof e[1]||"symbol"==typeof e[1])||4===e.length&&!0===e[3]}(arguments)?(a=u,Cj.apply(null,arguments)):(a=Array.prototype.slice.call(arguments),Cj)}}function deepEnhancer(e,t,n){return isObservable(e)?e:Array.isArray(e)?C.array(e,{name:n}):isPlainObject(e)?C.object(e,void 0,{name:n}):isES6Map(e)?C.map(e,{name:n}):isES6Set(e)?C.set(e,{name:n}):e}function referenceEnhancer(e){return e}function createDecoratorForEnhancer(o){invariant(o);var e=createPropDecorator(!0,function(e,t,n,r,i){var a=n?n.initializer?n.initializer.call(e):n.value:void 0;asObservableObject(e).addObservableProp(t,a,o)}),t=(void 0!==n&&n.env,e);return t.enhancer=o,t}var t={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function asCreateObservableOptions(e){return null==e?t:"string"==typeof e?{name:e,deep:!0,proxy:!0}:e}Object.freeze(t);var m=createDecoratorForEnhancer(deepEnhancer),_=createDecoratorForEnhancer(function shallowEnhancer(e,t,n){return null==e?e:isObservableObject(e)||isObservableArray(e)||ae(e)||le(e)?e:Array.isArray(e)?C.array(e,{name:n,deep:!1}):isPlainObject(e)?C.object(e,void 0,{name:n,deep:!1}):isES6Map(e)?C.map(e,{name:n,deep:!1}):isES6Set(e)?C.set(e,{name:n,deep:!1}):fail(!1)}),y=createDecoratorForEnhancer(referenceEnhancer),b=createDecoratorForEnhancer(function refStructEnhancer(e,t,n){return deepEqual(e,t)?t:e});function getEnhancerFromOptions(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?referenceEnhancer:deepEnhancer}var w={box:function(e,t){2<arguments.length&&incorrectlyUsedAsDecorator("box");var n=asCreateObservableOptions(t);return new L(e,getEnhancerFromOptions(n),n.name,!0,n.equals)},array:function(e,t){2<arguments.length&&incorrectlyUsedAsDecorator("array");var n=asCreateObservableOptions(t);return function createObservableArray(e,t,n,r){void 0===n&&(n="ObservableArray@"+getNextId());void 0===r&&(r=!1);var i=new Z(n,t,r);!function addHiddenFinalProp(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}(i.values,s,i);var a=new Proxy(i.values,J);if(i.proxy=a,e&&e.length){var o=allowStateChangesStart(!0);i.spliceWithArray(0,0,e),allowStateChangesEnd(o)}return a}(e,getEnhancerFromOptions(n),n.name)},map:function(e,t){2<arguments.length&&incorrectlyUsedAsDecorator("map");var n=asCreateObservableOptions(t);return new re(e,getEnhancerFromOptions(n),n.name)},set:function(e,t){2<arguments.length&&incorrectlyUsedAsDecorator("set");var n=asCreateObservableOptions(t);return new se(e,getEnhancerFromOptions(n),n.name)},object:function(e,t,n){"string"==typeof t&&incorrectlyUsedAsDecorator("object");var r=asCreateObservableOptions(n);if(!1===r.proxy)return extendObservable({},e,t,r);var i=getDefaultDecoratorFromObjectOptions(r),a=function createDynamicObservableObject(e){var t=new Proxy(e,Y);return e[s].proxy=t}(extendObservable({},void 0,void 0,r));return extendObservableObjectWithProperties(a,e,t,i),a},ref:y,shallow:_,deep:m,struct:b},C=function createObservable(e,t,n){if("string"==typeof t||"symbol"==typeof t)return m.apply(null,arguments);if(isObservable(e))return e;var r=isPlainObject(e)?C.object(e,t,n):Array.isArray(e)?C.array(e,t):isES6Map(e)?C.map(e,t):isES6Set(e)?C.set(e,t):e;if(r!==e)return r;fail(!1)};function incorrectlyUsedAsDecorator(e){fail("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(w).forEach(function(e){return C[e]=w[e]});var x,S,E,k,T=createPropDecorator(!1,function(e,t,n,r,i){var a=n.get,o=n.set,s=i[0]||{};asObservableObject(e).addComputedProp(e,t,l({get:a,set:o,context:e},s))}),P=T({equals:p.structural}),I=function computed(e,t){if("string"==typeof t)return T.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return T.apply(null,arguments);var n="object"==typeof t?t:{};return n.get=e,n.set="function"==typeof t?t:n.set,n.name=n.name||e.name||"",new M(n)};I.struct=P,(S=x=x||{})[S.NOT_TRACKING=-1]="NOT_TRACKING",S[S.UP_TO_DATE=0]="UP_TO_DATE",S[S.POSSIBLY_STALE=1]="POSSIBLY_STALE",S[S.STALE=2]="STALE",(k=E=E||{})[k.NONE=0]="NONE",k[k.LOG=1]="LOG",k[k.BREAK=2]="BREAK";var O=function CaughtException(e){this.cause=e};function isCaughtException(e){return e instanceof O}function shouldCompute(e){switch(e.dependenciesState){case x.UP_TO_DATE:return!1;case x.NOT_TRACKING:case x.STALE:return!0;case x.POSSIBLY_STALE:for(var t=untrackedStart(),n=e.observing,r=n.length,i=0;i<r;i++){var a=n[i];if(D(a)){if(U.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return untrackedEnd(t),!0}if(e.dependenciesState===x.STALE)return untrackedEnd(t),!0}}return changeDependenciesStateTo0(e),untrackedEnd(t),!1}}function checkIfStateModificationsAreAllowed(e){var t=0<e.observers.size;0<U.computationDepth&&t&&fail(!1),U.allowStateChanges||!t&&"strict"!==U.enforceActions||fail(!1)}function trackDerivedFunction(e,t,n){var r=allowStateReadsStart(!0);changeDependenciesStateTo0(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++U.runId;var i,a=U.trackingDerivation;if(U.trackingDerivation=e,!0===U.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new O(e)}return U.trackingDerivation=a,function bindDependencies(e){for(var t=e.observing,n=e.observing=e.newObserving,r=x.UP_TO_DATE,i=0,a=e.unboundDepsCount,o=0;o<a;o++){0===(s=n[o]).diffValue&&(s.diffValue=1,i!==o&&(n[i]=s),i++),s.dependenciesState>r&&(r=s.dependenciesState)}n.length=i,e.newObserving=null,a=t.length;for(;a--;){0===(s=t[a]).diffValue&&removeObserver(s,e),s.diffValue=0}for(;i--;){var s;1===(s=n[i]).diffValue&&(s.diffValue=0,addObserver(s,e))}r!==x.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}(e),allowStateReadsEnd(r),i}function clearObserving(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)removeObserver(t[n],e);e.dependenciesState=x.NOT_TRACKING}function untracked(e){var t=untrackedStart();try{return e()}finally{untrackedEnd(t)}}function untrackedStart(){var e=U.trackingDerivation;return U.trackingDerivation=null,e}function untrackedEnd(e){U.trackingDerivation=e}function allowStateReadsStart(e){var t=U.allowStateReads;return U.allowStateReads=e,t}function allowStateReadsEnd(e){U.allowStateReads=e}function changeDependenciesStateTo0(e){if(e.dependenciesState!==x.UP_TO_DATE){e.dependenciesState=x.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=x.UP_TO_DATE}}var N=0,A=1;function createAction(e,t,n){function sm(){return executeAction(e,t,n||this,arguments)}return sm.isMobxAction=!0,sm}function executeAction(e,t,n,r){var i=function _startAction(e,t,n){var r=0;{}var i=untrackedStart();startBatch();var a=allowStateChangesStart(!0),o=allowStateReadsStart(!0),s={prevDerivation:i,prevAllowStateChanges:a,prevAllowStateReads:o,notifySpy:!1,startTime:r,actionId:A++,parentActionId:N};return N=s.actionId,s}();try{return t.apply(n,r)}catch(e){throw i.error=e}finally{!function _endAction(e){N!==e.actionId&&fail("invalid action stack. did you forget to finish an action?");N=e.parentActionId,void 0!==e.error&&(U.suppressReactionErrors=!0);allowStateChangesEnd(e.prevAllowStateChanges),allowStateReadsEnd(e.prevAllowStateReads),endBatch(),untrackedEnd(e.prevDerivation),e.notifySpy,0;U.suppressReactionErrors=!1}(i)}}function allowStateChanges(e,t){var n,r=allowStateChangesStart(e);try{n=t()}finally{allowStateChangesEnd(r)}return n}function allowStateChangesStart(e){var t=U.allowStateChanges;return U.allowStateChanges=e,t}function allowStateChangesEnd(e){U.allowStateChanges=e}var R,L=(__extends(ObservableValue,R=o),ObservableValue.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},ObservableValue.prototype.set=function(e){this.value,(e=this.prepareNewValue(e))!==U.UNCHANGED&&this.setNewValue(e)},ObservableValue.prototype.prepareNewValue=function(e){if(checkIfStateModificationsAreAllowed(this),hasInterceptors(this)){var t=interceptChange(this,{object:this,type:"update",newValue:e});if(!t)return U.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?U.UNCHANGED:e},ObservableValue.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),hasListeners(this)&&notifyListeners(this,{type:"update",object:this,newValue:e,oldValue:t})},ObservableValue.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},ObservableValue.prototype.intercept=function(e){return registerInterceptor(this,e)},ObservableValue.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),registerListener(this,e)},ObservableValue.prototype.toJSON=function(){return this.get()},ObservableValue.prototype.toString=function(){return this.name+"["+this.value+"]"},ObservableValue.prototype.valueOf=function(){return toPrimitive(this.get())},ObservableValue.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},ObservableValue);function ObservableValue(e,t,n,r,i){void 0===n&&(n="ObservableValue@"+getNextId()),void 0===r&&(r=!0),void 0===i&&(i=p.default);var a=R.call(this,n)||this;return a.enhancer=t,a.name=n,a.equals=i,a.hasUnreportedChange=!1,a.value=t(e,void 0,n),a}createInstanceofPredicate("ObservableValue",L);var M=(ComputedValue.prototype.onBecomeStale=function(){!function propagateMaybeChanged(t){t.lowestObserverState===x.UP_TO_DATE&&(t.lowestObserverState=x.POSSIBLY_STALE,t.observers.forEach(function(e){e.dependenciesState===x.UP_TO_DATE&&(e.dependenciesState=x.POSSIBLY_STALE,e.isTracing!==E.NONE&&logTraceInfo(e,t),e.onBecomeStale())}))}(this)},ComputedValue.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(e){return e()})},ComputedValue.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(e){return e()})},ComputedValue.prototype.get=function(){this.isComputing&&fail("Cycle detected in computation "+this.name+": "+this.derivation),0!==U.inBatch||0!==this.observers.size||this.keepAlive?(reportObserved(this),shouldCompute(this)&&this.trackAndCompute()&&function propagateChangeConfirmed(t){t.lowestObserverState!==x.STALE&&(t.lowestObserverState=x.STALE,t.observers.forEach(function(e){e.dependenciesState===x.POSSIBLY_STALE?e.dependenciesState=x.STALE:e.dependenciesState===x.UP_TO_DATE&&(t.lowestObserverState=x.UP_TO_DATE)}))}(this)):shouldCompute(this)&&(this.warnAboutUntrackedRead(),startBatch(),this.value=this.computeValue(!1),endBatch());var e=this.value;if(isCaughtException(e))throw e.cause;return e},ComputedValue.prototype.peek=function(){var e=this.computeValue(!1);if(isCaughtException(e))throw e.cause;return e},ComputedValue.prototype.set=function(e){if(this.setter){invariant(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else invariant(!1,!1)},ComputedValue.prototype.trackAndCompute=function(){var e=this.value,t=this.dependenciesState===x.NOT_TRACKING,n=this.computeValue(!0),r=t||isCaughtException(e)||isCaughtException(n)||!this.equals(e,n);return r&&(this.value=n),r},ComputedValue.prototype.computeValue=function(e){var t;if(this.isComputing=!0,U.computationDepth++,e)t=trackDerivedFunction(this,this.derivation,this.scope);else if(!0===U.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new O(e)}return U.computationDepth--,this.isComputing=!1,t},ComputedValue.prototype.suspend=function(){this.keepAlive||(clearObserving(this),this.value=void 0)},ComputedValue.prototype.observe=function(n,r){var i=this,a=!0,o=void 0;return autorun(function(){var e=i.get();if(!a||r){var t=untrackedStart();n({type:"update",object:i,newValue:e,oldValue:o}),untrackedEnd(t)}a=!1,o=e})},ComputedValue.prototype.warnAboutUntrackedRead=function(){},ComputedValue.prototype.toJSON=function(){return this.get()},ComputedValue.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},ComputedValue.prototype.valueOf=function(){return toPrimitive(this.get())},ComputedValue.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},ComputedValue);function ComputedValue(e){this.dependenciesState=x.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=x.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+getNextId(),this.value=new O(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=E.NONE,this.derivation=e.get,this.name=e.name||"ComputedValue@"+getNextId(),e.set&&(this.setter=createAction(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?p.structural:p.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}var D=createInstanceofPredicate("ComputedValue",M),F=function MobXGlobals(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},V={};function getGlobal(){return"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:V}var j,B=!0,z=!1,U=(0<(j=getGlobal()).__mobxInstanceCount&&!j.__mobxGlobals&&(B=!1),j.__mobxGlobals&&j.__mobxGlobals.version!==(new F).version&&(B=!1),B?j.__mobxGlobals?(j.__mobxInstanceCount+=1,j.__mobxGlobals.UNCHANGED||(j.__mobxGlobals.UNCHANGED={}),j.__mobxGlobals):(j.__mobxInstanceCount=1,j.__mobxGlobals=new F):(setTimeout(function(){z||fail("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new F));function addObserver(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function removeObserver(e,t){e.observers.delete(t),0===e.observers.size&&queueForUnobservation(e)}function queueForUnobservation(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,U.pendingUnobservations.push(e))}function startBatch(){U.inBatch++}function endBatch(){if(0==--U.inBatch){runReactions();for(var e=U.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof M&&n.suspend())}U.pendingUnobservations=[]}}function reportObserved(e){!function checkIfStateReadsAreAllowed(){0}();var t=U.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,(t.newObserving[t.unboundDepsCount++]=e).isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.size&&0<U.inBatch&&queueForUnobservation(e),!1)}function logTraceInfo(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===E.BREAK){var n=[];!function printDepTree(e,t,n){if(1e3<=t.length)return void t.push("(and many more)");t.push(""+new Array(n).join("\t")+e.name);e.dependencies&&e.dependencies.forEach(function(e){return printDepTree(e,t,n+1)})}(getDependencyTree(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof M?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}var W=(Reaction.prototype.onBecomeStale=function(){this.schedule()},Reaction.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,U.pendingReactions.push(this),runReactions())},Reaction.prototype.isScheduled=function(){return this._isScheduled},Reaction.prototype.runReaction=function(){if(!this.isDisposed){if(startBatch(),this._isScheduled=!1,shouldCompute(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(e){this.reportExceptionInDerivation(e)}}endBatch()}},Reaction.prototype.track=function(e){if(!this.isDisposed){startBatch(),this._isRunning=!0;var t=trackDerivedFunction(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&clearObserving(this),isCaughtException(t)&&this.reportExceptionInDerivation(t.cause),endBatch()}},Reaction.prototype.reportExceptionInDerivation=function(t){var n=this;if(this.errorHandler)this.errorHandler(t,this);else{if(U.disableErrorBoundaries)throw t;var e="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";U.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(e,t),U.globalReactionErrorHandlers.forEach(function(e){return e(t,n)})}},Reaction.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(startBatch(),clearObserving(this),endBatch()))},Reaction.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[s]=this,e},Reaction.prototype.toString=function(){return"Reaction["+this.name+"]"},Reaction.prototype.trace=function(e){void 0===e&&(e=!1),function trace(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=function getAtomFromArgs(e){switch(e.length){case 0:return U.trackingDerivation;case 1:return getAtom(e[0]);case 2:return getAtom(e[0],e[1])}}(e);if(!r)return fail(!1);r.isTracing===E.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?E.BREAK:E.LOG}(this,e)},Reaction);function Reaction(e,t,n,r){void 0===e&&(e="Reaction@"+getNextId()),void 0===r&&(r=!1),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=x.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+getNextId(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=E.NONE}var q=100,Q=function(e){return e()};function runReactions(){0<U.inBatch||U.isRunningReactions||Q(runReactionsHelper)}function runReactionsHelper(){U.isRunningReactions=!0;for(var e=U.pendingReactions,t=0;0<e.length;){++t===q&&(console.error("Reaction doesn't converge to a stable state after "+q+" iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction()}U.isRunningReactions=!1}var H=createInstanceofPredicate("Reaction",W);function spy(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function dontReassignFields(){fail(!1)}function namedActionDecorator(i){return function(e,t,n){if(n){if(0,n.value)return{value:createAction(i,n.value),enumerable:!1,configurable:!0,writable:!0};var r=n.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return createAction(i,r.call(this))}}}return function actionFieldDecorator(r){return function(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!1,get:function(){},set:function(e){addHiddenProp(this,t,G(r,e))}})}}(i).apply(this,arguments)}}var G=function action(e,t,n,r){return 1===arguments.length&&"function"==typeof e?createAction(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?createAction(e,t):1===arguments.length&&"string"==typeof e?namedActionDecorator(e):!0!==r?namedActionDecorator(t).apply(null,arguments):void addHiddenProp(e,t,createAction(e.name||t,n.value,this))};function runInAction(e,t){"string"==typeof e||e.name;return executeAction(0,"function"==typeof e?e:t,this,void 0)}function defineBoundAction(e,t,n){addHiddenProp(e,t,createAction(t,n.bind(e)))}function autorun(e,t){void 0===t&&(t=d);var n,r=t&&t.name||e.name||"Autorun@"+getNextId();if(!t.scheduler&&!t.delay)n=new W(r,function(){this.track(reactionRunner)},t.onError,t.requiresObservable);else{var i=createSchedulerFromOptions(t),a=!1;n=new W(r,function(){a||(a=!0,i(function(){a=!1,n.isDisposed||n.track(reactionRunner)}))},t.onError,t.requiresObservable)}function reactionRunner(){e(n)}return n.schedule(),n.getDisposer()}G.bound=function boundActionDecorator(e,t,n,r){return!0===r?(defineBoundAction(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return defineBoundAction(this,t,n.value||n.initializer.call(this)),this[t]},set:dontReassignFields}:{enumerable:!1,configurable:!0,set:function(e){defineBoundAction(this,t,e)},get:function(){}}};var K=function(e){return e()};function createSchedulerFromOptions(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:K}function reaction(n,e,r){void 0===r&&(r=d);var i,t=r.name||"Reaction@"+getNextId(),a=G(t,r.onError?function wrapErrorHandler(t,e){return function(){try{return e.apply(this,arguments)}catch(e){t.call(this,e)}}}(r.onError,e):e),o=!r.scheduler&&!r.delay,s=createSchedulerFromOptions(r),l=!0,u=!1,c=r.compareStructural?p.structural:r.equals||p.default,h=new W(t,function(){l||o?reactionRunner():u||(u=!0,s(reactionRunner))},r.onError,r.requiresObservable);function reactionRunner(){if(u=!1,!h.isDisposed){var t=!1;h.track(function(){var e=n(h);t=l||!c(i,e),i=e}),l&&r.fireImmediately&&a(i,h),l||!0!==t||a(i,h),l=l&&!1}}return h.schedule(),h.getDisposer()}function onBecomeUnobserved(e,t,n){return interceptHook("onBecomeUnobserved",e,t,n)}function interceptHook(e,t,n,r){var i="function"==typeof r?getAtom(t,n):getAtom(t),a="function"==typeof r?r:n,o=e+"Listeners";return i[o]?i[o].add(a):i[o]=new Set([a]),"function"!=typeof i[e]?fail(!1):function(){var e=i[o];e&&(e.delete(a),0===e.size&&delete i[o])}}function configure(e){var t=e.enforceActions,n=e.computedRequiresReaction,r=e.computedConfigurable,i=e.disableErrorBoundaries,a=e.reactionScheduler,o=e.reactionRequiresObservable,s=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&!function isolateGlobalState(){(U.pendingReactions.length||U.inBatch||U.isRunningReactions)&&fail("isolateGlobalState should be called before MobX is running any reactions"),z=!0,B&&(0==--getGlobal().__mobxInstanceCount&&(getGlobal().__mobxGlobals=void 0),U=new F)}(),void 0!==t){var l=void 0;switch(t){case!0:case"observed":l=!0;break;case!1:case"never":l=!1;break;case"strict":case"always":l="strict";break;default:fail("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}U.enforceActions=l,U.allowStateChanges=!0!==l&&"strict"!==l}void 0!==n&&(U.computedRequiresReaction=!!n),void 0!==o&&(U.reactionRequiresObservable=!!o),void 0!==s&&(U.observableRequiresReaction=!!s,U.allowStateReads=!U.observableRequiresReaction),void 0!==r&&(U.computedConfigurable=!!r),void 0!==i&&(!0===i&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),U.disableErrorBoundaries=!!i),a&&function setReactionScheduler(t){var n=Q;Q=function(e){return t(function(){return n(e)})}}(a)}function extendObservable(e,t,n,r){var i=getDefaultDecoratorFromObjectOptions(r=asCreateObservableOptions(r));return initializeInstance(e),asObservableObject(e,r.name,i.enhancer),t&&extendObservableObjectWithProperties(e,t,n,i),e}function getDefaultDecoratorFromObjectOptions(e){return e.defaultDecorator||(!1===e.deep?y:m)}function extendObservableObjectWithProperties(e,t,n,r){var i,a;startBatch();try{var o=getPlainObjectKeys(t);try{for(var s=__values(o),l=s.next();!l.done;l=s.next()){var u=l.value,c=Object.getOwnPropertyDescriptor(t,u);0;var h=(n&&u in n?n[u]:c.get?T:r)(e,u,c,!0);h&&Object.defineProperty(e,u,h)}}catch(e){i={error:e}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}}finally{endBatch()}}function getDependencyTree(e,t){return nodeToDependencyTree(getAtom(e,t))}function nodeToDependencyTree(e){var t={name:e.name};return e.observing&&0<e.observing.length&&(t.dependencies=function unique(e){var t=[];return e.forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),t}(e.observing).map(nodeToDependencyTree)),t}var $;__extends(FlowCancellationError,$=Error);function FlowCancellationError(){return $.call(this,"FLOW_CANCELLED")||this}function _isObservable(e,t){return null!=e&&(void 0!==t?!!isObservableObject(e)&&e[s].values.has(t):isObservableObject(e)||!!e[s]||c(e)||H(e)||D(e))}function isObservable(e){return 1!==arguments.length&&fail(!1),_isObservable(e)}function transaction(e,t){void 0===t&&(t=void 0),startBatch();try{return e.apply(t)}finally{endBatch()}}function getAdm(e){return e[s]}function isPropertyKey(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e}var Y={has:function(e,t){if(t===s||"constructor"===t||t===h)return!0;var n=getAdm(e);return isPropertyKey(t)?n.has(t):t in e},get:function(e,t){if(t===s||"constructor"===t||t===h)return e[t];var n=getAdm(e),r=n.values.get(t);if(r instanceof o){var i=r.get();return void 0===i&&n.has(t),i}return isPropertyKey(t)&&n.has(t),e[t]},set:function(e,t,n){return!!isPropertyKey(t)&&(function set(e,t,n){if(2!==arguments.length||le(e))if(isObservableObject(e)){var r=e[s];r.values.get(t)?r.write(t,n):r.addObservableProp(t,n,r.defaultEnhancer)}else if(ae(e))e.set(t,n);else if(le(e))e.add(t);else{if(!isObservableArray(e))return fail(!1);"number"!=typeof t&&(t=parseInt(t,10)),invariant(0<=t,"Not a valid index: '"+t+"'"),startBatch(),t>=e.length&&(e.length=t+1),e[t]=n,endBatch()}else{startBatch();var i=t;try{for(var a in i)set(e,a,i[a])}finally{endBatch()}}}(e,t,n),!0)},deleteProperty:function(e,t){return!!isPropertyKey(t)&&(getAdm(e).remove(t),!0)},ownKeys:function(e){return getAdm(e).keysAtom.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(e){return fail("Dynamic observable objects cannot be frozen"),!1}};function hasInterceptors(e){return void 0!==e.interceptors&&0<e.interceptors.length}function registerInterceptor(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),once(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function interceptChange(e,t){var n=untrackedStart();try{for(var r=__spread(e.interceptors||[]),i=0,a=r.length;i<a&&(invariant(!(t=r[i](t))||t.type,"Intercept handlers should return nothing or a change object"),t);i++);return t}finally{untrackedEnd(n)}}function hasListeners(e){return void 0!==e.changeListeners&&0<e.changeListeners.length}function registerListener(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),once(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function notifyListeners(e,t){var n=untrackedStart(),r=e.changeListeners;if(r){for(var i=0,a=(r=r.slice()).length;i<a;i++)r[i](t);untrackedEnd(n)}}var J={get:function(e,t){return t===s?e[s]:"length"===t?e[s].getArrayLength():"number"==typeof t?X.get.call(e,t):"string"!=typeof t||isNaN(t)?X.hasOwnProperty(t)?X[t]:e[t]:X.get.call(e,parseInt(t))},set:function(e,t,n){return"length"===t&&e[s].setArrayLength(n),"number"==typeof t&&X.set.call(e,t,n),"symbol"==typeof t||isNaN(t)?e[t]=n:X.set.call(e,parseInt(t),n),!0},preventExtensions:function(e){return fail("Observable arrays cannot be frozen"),!1}};var Z=(ObservableArrayAdministration.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},ObservableArrayAdministration.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&0<e.length?e.map(this.dehancer):e},ObservableArrayAdministration.prototype.intercept=function(e){return registerInterceptor(this,e)},ObservableArrayAdministration.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),registerListener(this,e)},ObservableArrayAdministration.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},ObservableArrayAdministration.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(t<e){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},ObservableArrayAdministration.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t},ObservableArrayAdministration.prototype.spliceWithArray=function(e,t,n){var r=this;checkIfStateModificationsAreAllowed(this.atom);var i=this.values.length;if(void 0===e?e=0:i<e?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=u),hasInterceptors(this)){var a=interceptChange(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:n});if(!a)return u;t=a.removedCount,n=a.added}n=0===n.length?n:n.map(function(e){return r.enhancer(e,void 0)});var o=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,o),this.dehanceValues(o)},ObservableArrayAdministration.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,__spread([e,t],n));var i=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),i},ObservableArrayAdministration.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&!1,i=hasListeners(this),a=i||r?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:n}:null;this.atom.reportChanged(),i&&notifyListeners(this,a)},ObservableArrayAdministration.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&!1,i=hasListeners(this),a=i||r?{object:this.proxy,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom.reportChanged(),i&&notifyListeners(this,a)},ObservableArrayAdministration);function ObservableArrayAdministration(n,r,e){this.owned=e,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new o(n||"ObservableArray@"+getNextId()),this.enhancer=function(e,t){return r(e,t,n+"[..]")}}var X={intercept:function(e){return this[s].intercept(e)},observe:function(e,t){return void 0===t&&(t=!1),this[s].observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[s];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this[s];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray(e);case 2:return i.spliceWithArray(e,t)}return i.spliceWithArray(e,t,n)},spliceWithArray:function(e,t,n){return this[s].spliceWithArray(e,t,n)},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[s];return n.spliceWithArray(n.values.length,0,e),n.values.length},pop:function(){return this.splice(Math.max(this[s].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[s];return n.spliceWithArray(0,0,e),n.values.length},reverse:function(){var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(e){var t=this.slice();return t.sort.apply(t,arguments)},remove:function(e){var t=this[s],n=t.dehanceValues(t.values).indexOf(e);return-1<n&&(this.splice(n,1),!0)},get:function(e){var t=this[s];if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(e,t){var n=this[s],r=n.values;if(e<r.length){checkIfStateModificationsAreAllowed(n.atom);var i=r[e];if(hasInterceptors(n)){var a=interceptChange(n,{type:"update",object:n.proxy,index:e,newValue:t});if(!a)return;t=a.newValue}(t=n.enhancer(t,i))!==i&&(r[e]=t,n.notifyArrayChildUpdate(e,t,i))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}}};["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(n){X[n]=function(){var e=this[s];e.atom.reportObserved();var t=e.dehanceValues(e.values);return t[n].apply(t,arguments)}});var ee,te=createInstanceofPredicate("ObservableArrayAdministration",Z);function isObservableArray(e){return isObject(e)&&te(e[s])}var ne={},re=(ObservableMap.prototype._has=function(e){return this._data.has(e)},ObservableMap.prototype.has=function(e){var t=this;if(!U.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var r=n=new L(this._has(e),referenceEnhancer,this.name+"."+stringifyKey(e)+"?",!1);this._hasMap.set(e,r),onBecomeUnobserved(r,function(){return t._hasMap.delete(e)})}return n.get()},ObservableMap.prototype.set=function(e,t){var n=this._has(e);if(hasInterceptors(this)){var r=interceptChange(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},ObservableMap.prototype.delete=function(e){var t=this;if(hasInterceptors(this)&&!(r=interceptChange(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=hasListeners(this),r=n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return transaction(function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)}),n&&notifyListeners(this,r),!0}return!1},ObservableMap.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},ObservableMap.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==U.UNCHANGED){var r=hasListeners(this),i=r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;n.setNewValue(t),r&&notifyListeners(this,i)}},ObservableMap.prototype._addValue=function(t,n){var r=this;checkIfStateModificationsAreAllowed(this._keysAtom),transaction(function(){var e=new L(n,r.enhancer,r.name+"."+stringifyKey(t),!1);r._data.set(t,e),n=e.value,r._updateHasMapEntry(t,!0),r._keysAtom.reportChanged()});var e=hasListeners(this),i=e?{type:"add",object:this,name:t,newValue:n}:null;e&&notifyListeners(this,i)},ObservableMap.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},ObservableMap.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},ObservableMap.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},ObservableMap.prototype.values=function(){var e=this,t=0,n=Array.from(this.keys());return makeIterable({next:function(){return t<n.length?{value:e.get(n[t++]),done:!1}:{done:!0}}})},ObservableMap.prototype.entries=function(){var t=this,n=0,r=Array.from(this.keys());return makeIterable({next:function(){if(n<r.length){var e=r[n++];return{value:[e,t.get(e)],done:!1}}return{done:!0}}})},ObservableMap.prototype[(ee=s,Symbol.iterator)]=function(){return this.entries()},ObservableMap.prototype.forEach=function(e,t){var n,r;try{for(var i=__values(this),a=i.next();!a.done;a=i.next()){var o=__read(a.value,2),s=o[0],l=o[1];e.call(t,l,s,this)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},ObservableMap.prototype.merge=function(t){var i=this;return ae(t)&&(t=t.toJS()),transaction(function(){isPlainObject(t)?getPlainObjectKeys(t).forEach(function(e){return i.set(e,t[e])}):Array.isArray(t)?t.forEach(function(e){var t=__read(e,2),n=t[0],r=t[1];return i.set(n,r)}):isES6Map(t)?(t.constructor!==Map&&fail("Cannot initialize from classes that inherit from Map: "+t.constructor.name),t.forEach(function(e,t){return i.set(t,e)})):null!=t&&fail("Cannot initialize map from "+t)}),this},ObservableMap.prototype.clear=function(){var a=this;transaction(function(){untracked(function(){var t,e;try{for(var n=__values(a.keys()),r=n.next();!r.done;r=n.next()){var i=r.value;a.delete(i)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}})})},ObservableMap.prototype.replace=function(e){var n=this;return transaction(function(){var t=function getMapLikeKeys(e){return isPlainObject(e)?Object.keys(e):Array.isArray(e)?e.map(function(e){return __read(e,1)[0]}):isES6Map(e)||ae(e)?Array.from(e.keys()):fail("Cannot get keys from '"+e+"'")}(e);Array.from(n.keys()).filter(function(e){return-1===t.indexOf(e)}).forEach(function(e){return n.delete(e)}),n.merge(e)}),this},Object.defineProperty(ObservableMap.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),ObservableMap.prototype.toPOJO=function(){var t,e,n={};try{for(var r=__values(this),i=r.next();!i.done;i=r.next()){var a=__read(i.value,2),o=a[0],s=a[1];n["symbol"==typeof o?o:stringifyKey(o)]=s}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},ObservableMap.prototype.toJS=function(){return new Map(this)},ObservableMap.prototype.toJSON=function(){return this.toPOJO()},ObservableMap.prototype.toString=function(){var t=this;return this.name+"[{ "+Array.from(this.keys()).map(function(e){return stringifyKey(e)+": "+t.get(e)}).join(", ")+" }]"},ObservableMap.prototype.observe=function(e,t){return registerListener(this,e)},ObservableMap.prototype.intercept=function(e){return registerInterceptor(this,e)},ObservableMap);function ObservableMap(e,t,n){if(void 0===t&&(t=deepEnhancer),void 0===n&&(n="ObservableMap@"+getNextId()),this.enhancer=t,this.name=n,this[ee]=ne,this._keysAtom=createAtom(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}var ie,ae=createInstanceofPredicate("ObservableMap",re),oe={},se=(ObservableSet.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},ObservableSet.prototype.clear=function(){var a=this;transaction(function(){untracked(function(){var t,e;try{for(var n=__values(a._data.values()),r=n.next();!r.done;r=n.next()){var i=r.value;a.delete(i)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}})})},ObservableSet.prototype.forEach=function(e,t){var n,r;try{for(var i=__values(this),a=i.next();!a.done;a=i.next()){var o=a.value;e.call(t,o,o,this)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},Object.defineProperty(ObservableSet.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),ObservableSet.prototype.add=function(e){var t=this;if(checkIfStateModificationsAreAllowed(this._atom),hasInterceptors(this)&&!(r=interceptChange(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){transaction(function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()});var n=hasListeners(this),r=n?{type:"add",object:this,newValue:e}:null;n&&notifyListeners(this,r)}return this},ObservableSet.prototype.delete=function(e){var t=this;if(hasInterceptors(this)&&!(r=interceptChange(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=hasListeners(this),r=n?{type:"delete",object:this,oldValue:e}:null;return transaction(function(){t._atom.reportChanged(),t._data.delete(e)}),n&&notifyListeners(this,r),!0}return!1},ObservableSet.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},ObservableSet.prototype.entries=function(){var t=0,n=Array.from(this.keys()),r=Array.from(this.values());return makeIterable({next:function(){var e=t;return t+=1,e<r.length?{value:[n[e],r[e]],done:!1}:{done:!0}}})},ObservableSet.prototype.keys=function(){return this.values()},ObservableSet.prototype.values=function(){this._atom.reportObserved();var e=this,t=0,n=Array.from(this._data.values());return makeIterable({next:function(){return t<n.length?{value:e.dehanceValue(n[t++]),done:!1}:{done:!0}}})},ObservableSet.prototype.replace=function(e){var t=this;return le(e)&&(e=e.toJS()),transaction(function(){Array.isArray(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):isES6Set(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):null!=e&&fail("Cannot initialize set from "+e)}),this},ObservableSet.prototype.observe=function(e,t){return registerListener(this,e)},ObservableSet.prototype.intercept=function(e){return registerInterceptor(this,e)},ObservableSet.prototype.toJS=function(){return new Set(this)},ObservableSet.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},ObservableSet.prototype[(ie=s,Symbol.iterator)]=function(){return this.values()},ObservableSet);function ObservableSet(e,n,r){if(void 0===n&&(n=deepEnhancer),void 0===r&&(r="ObservableSet@"+getNextId()),this.name=r,this[ie]=oe,this._data=new Set,this._atom=createAtom(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,t){return n(e,t,r)},e&&this.replace(e)}var le=createInstanceofPredicate("ObservableSet",se),ue=(ObservableObjectAdministration.prototype.read=function(e){return this.values.get(e).get()},ObservableObjectAdministration.prototype.write=function(e,t){var n=this.target,r=this.values.get(e);if(r instanceof M)r.set(t);else{if(hasInterceptors(this)){if(!(a=interceptChange(this,{type:"update",object:this.proxy||n,name:e,newValue:t})))return;t=a.newValue}if((t=r.prepareNewValue(t))!==U.UNCHANGED){var i=hasListeners(this),a=i?{type:"update",object:this.proxy||n,oldValue:r.value,name:e,newValue:t}:null;r.setNewValue(t),i&&notifyListeners(this,a)}}},ObservableObjectAdministration.prototype.has=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map),n=t.get(e);if(n)return n.get();var r=!!this.values.get(e);return n=new L(r,referenceEnhancer,this.name+"."+stringifyKey(e)+"?",!1),t.set(e,n),n.get()},ObservableObjectAdministration.prototype.addObservableProp=function(e,t,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(hasInterceptors(this)){var i=interceptChange(this,{object:this.proxy||r,name:e,type:"add",newValue:t});if(!i)return;t=i.newValue}var a=new L(t,n,this.name+"."+stringifyKey(e),!1);this.values.set(e,a),t=a.value,Object.defineProperty(r,e,function generateObservablePropConfig(t){return ce[t]||(ce[t]={configurable:!0,enumerable:!0,get:function(){return this[s].read(t)},set:function(e){this[s].write(t,e)}})}(e)),this.notifyPropertyAddition(e,t)},ObservableObjectAdministration.prototype.addComputedProp=function(e,t,n){var r=this.target;n.name=n.name||this.name+"."+stringifyKey(t),this.values.set(t,new M(n)),e!==r&&!function isPropertyConfigurable(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!n||!1!==n.configurable&&!1!==n.writable}(e,t)||Object.defineProperty(e,t,function generateComputedPropConfig(t){return he[t]||(he[t]={configurable:U.computedConfigurable,enumerable:!1,get:function(){return getAdministrationForComputedPropOwner(this).read(t)},set:function(e){getAdministrationForComputedPropOwner(this).write(t,e)}})}(t))},ObservableObjectAdministration.prototype.remove=function(e){if(this.values.has(e)){var t=this.target;if(hasInterceptors(this)&&!(o=interceptChange(this,{object:this.proxy||t,name:e,type:"remove"})))return;try{startBatch();var n=hasListeners(this),r=this.values.get(e),i=r&&r.get();if(r&&r.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var a=this.pendingKeys.get(e);a&&a.set(!1)}delete this.target[e];var o=n?{type:"remove",object:this.proxy||t,oldValue:i,name:e}:null;n&&notifyListeners(this,o)}finally{endBatch()}}},ObservableObjectAdministration.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},ObservableObjectAdministration.prototype.observe=function(e,t){return registerListener(this,e)},ObservableObjectAdministration.prototype.intercept=function(e){return registerInterceptor(this,e)},ObservableObjectAdministration.prototype.notifyPropertyAddition=function(e,t){var n=hasListeners(this),r=n?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(n&&notifyListeners(this,r),this.pendingKeys){var i=this.pendingKeys.get(e);i&&i.set(!0)}this.keysAtom.reportChanged()},ObservableObjectAdministration.prototype.getKeys=function(){var t,e;this.keysAtom.reportObserved();var n=[];try{for(var r=__values(this.values),i=r.next();!i.done;i=r.next()){var a=__read(i.value,2),o=a[0];a[1]instanceof L&&n.push(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},ObservableObjectAdministration);function ObservableObjectAdministration(e,t,n,r){void 0===t&&(t=new Map),this.target=e,this.values=t,this.name=n,this.defaultEnhancer=r,this.keysAtom=new o(n+".keys")}function asObservableObject(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=deepEnhancer),Object.prototype.hasOwnProperty.call(e,s))return e[s];isPlainObject(e)||(t=(e.constructor.name||"ObservableObject")+"@"+getNextId()),t=t||"ObservableObject@"+getNextId();var r=new ue(e,new Map,stringifyKey(t),n);return addHiddenProp(e,s,r),r}var ce=Object.create(null),he=Object.create(null);function getAdministrationForComputedPropOwner(e){var t=e[s];return t||(initializeInstance(e),e[s])}var de=createInstanceofPredicate("ObservableObjectAdministration",ue);function isObservableObject(e){return!!isObject(e)&&(initializeInstance(e),de(e[s]))}function getAtom(e,t){if("object"==typeof e&&null!==e){if(isObservableArray(e))return void 0!==t&&fail(!1),e[s].atom;if(le(e))return e[s];if(ae(e)){var n=e;return void 0===t?n._keysAtom:((r=n._data.get(t)||n._hasMap.get(t))||fail(!1),r)}var r;if(initializeInstance(e),t&&!e[s]&&e[t],isObservableObject(e))return t?((r=e[s].values.get(t))||fail(!1),r):fail(!1);if(c(e)||D(e)||H(e))return e}else if("function"==typeof e&&H(e[s]))return e[s];return fail(!1)}function getAdministration(e,t){return e||fail("Expecting some object"),void 0!==t?getAdministration(getAtom(e,t)):c(e)||D(e)||H(e)?e:ae(e)||le(e)?e:(initializeInstance(e),e[s]?e[s]:void fail(!1))}var pe=Object.prototype.toString;function deepEqual(e,t,n){return void 0===n&&(n=-1),function eq(e,t,n,r,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var a=typeof e;if("function"!=a&&"object"!=a&&"object"!=typeof t)return!1;e=unwrap(e);t=unwrap(t);var o=pe.call(e);if(o!==pe.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t)}var s="[object Array]"===o;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,u=t.constructor;if(l!==u&&!("function"==typeof l&&l instanceof l&&"function"==typeof u&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}{if(0===n)return!1;n<0&&(n=-1)}r=r||[];i=i||[];var c=r.length;for(;c--;)if(r[c]===e)return i[c]===t;r.push(e);i.push(t);if(s){if((c=e.length)!==t.length)return!1;for(;c--;)if(!eq(e[c],t[c],n-1,r,i))return!1}else{var h=Object.keys(e),d=void 0;if(c=h.length,Object.keys(t).length!==c)return!1;for(;c--;)if(d=h[c],p=t,f=d,!Object.prototype.hasOwnProperty.call(p,f)||!eq(e[d],t[d],n-1,r,i))return!1}var p,f;r.pop();i.pop();return!0}(e,t,n)}function unwrap(e){return isObservableArray(e)?e.slice():isES6Map(e)||ae(e)?Array.from(e.entries()):isES6Set(e)||le(e)?Array.from(e.entries()):e}function makeIterable(e){return e[Symbol.iterator]=getSelf,e}function getSelf(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:spy,extras:{getDebugName:function getDebugName(e,t){return(void 0!==t?getAtom(e,t):isObservableObject(e)||ae(e)||le(e)?getAdministration(e):getAtom(e)).name}},$mobx:s})}).call(this,ge("8oxB"),ge("yLpj"))},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"7B0+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(n("q1tI"));function AppContainer(e){return AppContainer.warnAboutHMRDisabled&&(AppContainer.warnAboutHMRDisabled=!0,console.error("React-Hot-Loader: misconfiguration detected, using production version in non-production environment."),console.error("React-Hot-Loader: Hot Module Replacement is not enabled.")),r.Children.only(e.children)}function HA(){return HA.shouldWrapWithAppContainer?function(t){return function(e){return r.createElement(AppContainer,null,r.createElement(t,e))}}:function(e){return e}}HA.shouldWrapWithAppContainer=AppContainer.warnAboutHMRDisabled=!1;t.AppContainer=AppContainer,t.hot=HA,t.areComponentsEqual=function(e,t){return e===t},t.setConfig=function(){},t.cold=function(e){return e},t.configureComponent=function(){}},"8oxB":function(e,t){var n,r,i=e.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(t){if(n===setTimeout)return setTimeout(t,0);if((n===defaultSetTimout||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){n=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){r=defaultClearTimeout}}();var a,o=[],s=!1,l=-1;function cleanUpNextTick(){s&&a&&(s=!1,a.length?o=a.concat(o):l=-1,o.length&&drainQueue())}function drainQueue(){if(!s){var e=runTimeout(cleanUpNextTick);s=!0;for(var t=o.length;t;){for(a=o,o=[];++l<t;)a&&a[l].run();l=-1,t=o.length}a=null,s=!1,function runClearTimeout(t){if(r===clearTimeout)return clearTimeout(t);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];o.push(new Item(e,t)),1!==o.length||s||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=noop,i.addListener=noop,i.once=noop,i.off=noop,i.removeListener=noop,i.removeAllListeners=noop,i.emit=noop,i.prependListener=noop,i.prependOnceListener=noop,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},IiLU:function(se,le,ue){var ce,he,de;(function(p,B){var k=(p=p||ue(0)).window,T=p.document,z=new function(){function PC(e,t,n){if(e){var r=d(e,"length");(r&&"number"==typeof r.value?a:function(e,t){for(var n in this)this.hasOwnProperty(n)&&e.call(t,this[n],n,this)}).call(e,t,n=n||e)}return n}var i=/^(statics|enumerable|beans|preserve)$/,e=[],r=e.slice,o=Object.create,d=Object.getOwnPropertyDescriptor,p=Object.defineProperty,a=e.forEach||function(e,t){for(var n=0,r=this.length;n<r;n++)e.call(t,this[n],n,this)},s=Object.assign||function(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e};function inject(o,s,l,u,c){var h={};function field(e,t){"string"==typeof(t=t||(t=d(s,e))&&(t.get?t:t.value))&&"#"===t[0]&&(t=o[t.substring(1)]||t);var n,r="function"==typeof t,i=t,a=c||r&&!t.base?t&&t.get?e in o:o[e]:null;c&&a||(r&&a&&(t.base=a),r&&!1!==u&&(n=e.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(h[n[3].toLowerCase()+n[4]]=n[2]),i&&!r&&i.get&&"function"==typeof i.get&&Base.isPlainObject(i)||(i={value:i,writable:!0}),(d(o,e)||{configurable:!0}).configurable&&(i.configurable=!0,i.enumerable=null!=l?l:!n),p(o,e,i))}if(s){for(var e in s)s.hasOwnProperty(e)&&!i.test(e)&&field(e);for(var e in h){var t=h[e],n=o["set"+t],r=o["get"+t]||n&&o["is"+t];!r||!0!==u&&0!==r.length||field(e,{get:r,set:n})}}return o}function Base(){for(var e=0,t=arguments.length;e<t;e++){var n=arguments[e];n&&s(this,n)}return this}return inject(Base,{inject:function(e){if(e){var t=!0===e.statics?e:e.statics,n=e.beans,r=e.preserve;t!==e&&inject(this.prototype,e,e.enumerable,n,r),inject(this,t,null,n,r)}for(var i=1,a=arguments.length;i<a;i++)this.inject(arguments[i]);return this},extend:function(){for(var e,t,n,r=this,i=0,a=arguments.length;i<a&&(!e||!t);i++)n=arguments[i],e=e||n.initialize,t=t||n.prototype;return t=(e=e||function(){r.apply(this,arguments)}).prototype=t||o(this.prototype),p(t,"constructor",{value:e,writable:!0,configurable:!0}),inject(e,this),arguments.length&&this.inject.apply(e,arguments),e.base=r,e}}).inject({enumerable:!1,initialize:Base,set:Base,inject:function(){for(var e=0,t=arguments.length;e<t;e++){var n=arguments[e];n&&inject(this,n,n.enumerable,n.beans,n.preserve)}return this},extend:function(){var e=o(this);return e.inject.apply(e,arguments)},each:function(e,t){return PC(this,e,t)},clone:function(){return new this.constructor(this)},statics:{set:s,each:PC,create:o,define:p,describe:d,clone:function(e){return s(new e.constructor,e)},isPlainObject:function(e){var t=null!=e&&e.constructor;return t&&(t===Object||t===Base||"Object"===t.name)},pick:function(e,t){return e!==B?e:t},slice:function(e,t,n){return r.call(e,t,n)}}})};(se.exports=z).inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+z.each(this,function(e,t){if(!/^_/.test(t)){var n=typeof e;this.push(t+": "+("number"==n?w.instance.number(e):"string"==n?"'"+e+"'":e))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(e){return z.importJSON(e,this)},exportJSON:function(e){return z.exportJSON(this,e)},toJSON:function(){return z.serialize(this)},set:function(e,t){return e&&z.filter(this,e,t,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function extend(){var e=extend.base.apply(this,arguments),t=e.prototype._class;return t&&!z.exports[t]&&(z.exports[t]=e),e},equals:function(e,t){if(e===t)return!0;if(e&&e.equals)return e.equals(t);if(t&&t.equals)return t.equals(e);if(e&&t&&"object"==typeof e&&"object"==typeof t){if(Array.isArray(e)&&Array.isArray(t)){if((n=e.length)!==t.length)return!1;for(;n--;)if(!z.equals(e[n],t[n]))return!1}else{var n,r=Object.keys(e);if((n=r.length)!==Object.keys(t).length)return!1;for(;n--;){var i=r[n];if(!t.hasOwnProperty(i)||!z.equals(e[i],t[i]))return!1}}return!0}return!1},read:function(e,t,n,r){if(this===z){var i=this.peek(e,t);return e.__index++,i}var a=this.prototype,o=a._readIndex,s=t||o&&e.__index||0,l=e.length,u=e[s];if(r=r||l-s,u instanceof this||n&&n.readNull&&null==u&&r<=1)return o&&(e.__index=s+1),u&&n&&n.clone?u.clone():u;if(u=z.create(a),o&&(u.__read=!0),u=u.initialize.apply(u,0<s||s+r<l?z.slice(e,s,s+r):e)||u,o){e.__index=s+u.__read;var c=u.__filtered;c&&(e.__filtered=c,u.__filtered=B),u.__read=B}return u},peek:function(e,t){return e[e.__index=t||e.__index||0]},remain:function(e){return e.length-(e.__index||0)},readList:function(e,t,n,r){for(var i,a=[],o=t||0,s=r?o+r:e.length,l=o;l<s;l++)a.push(Array.isArray(i=e[l])?this.read(i,0,n):this.read(e,l,n,1));return a},readNamed:function(e,t,n,r,i){var a=this.getNamed(e,t),o=a!==B;if(o){var s=e.__filtered;s||((s=e.__filtered=z.create(e[0])).__unfiltered=e[0]),s[t]=B}var l=o?[a]:e;return this.read(l,n,r,i)},getNamed:function(e,t){var n=e[0];if(e._hasObject===B&&(e._hasObject=1===e.length&&z.isPlainObject(n)),e._hasObject)return t?n[t]:e.__filtered||n},hasNamed:function(e,t){return!!this.getNamed(e,t)},filter:function(n,r,i,e){var a;function handleKey(e){if(!(i&&e in i||a&&e in a)){var t=r[e];t!==B&&(n[e]=t)}}if(e){for(var t,o={},s=0,l=e.length;s<l;s++)(t=e[s])in r&&(handleKey(t),o[t]=!0);a=o}return Object.keys(r.__unfiltered||r).forEach(handleKey),n},isPlainValue:function(e,t){return z.isPlainObject(e)||Array.isArray(e)||t&&"string"==typeof e},serialize:function(e,t,n,r){t=t||{};var i,a=!r;if(a&&(t.formatter=new w(t.precision),r={length:0,definitions:{},references:{},add:function(e,t){var n="#"+e._id,r=this.references[n];if(!r){this.length++;var i=t.call(e),a=e._class;a&&i[0]!==a&&i.unshift(a),this.definitions[n]=i,r=this.references[n]=[n]}return r}}),e&&e._serialize){i=e._serialize(t,r);var o=e._class;!o||e._compactSerialize||!a&&n||i[0]===o||i.unshift(o)}else if(Array.isArray(e)){i=[];for(var s=0,l=e.length;s<l;s++)i[s]=z.serialize(e[s],t,n,r)}else if(z.isPlainObject(e)){i={};var u=Object.keys(e);for(s=0,l=u.length;s<l;s++){var c=u[s];i[c]=z.serialize(e[c],t,n,r)}}else i="number"==typeof e?t.formatter.number(e,t.precision):e;return a&&0<r.length?[["dictionary",r.definitions],i]:i},deserialize:function(e,t,n,r,i){var a=e,o=!n,s=o&&e&&e.length&&"dictionary"===e[0][0];if(n=n||{},Array.isArray(e)){var l=e[0],u="dictionary"===l;if(1==e.length&&/^#/.test(l))return n.dictionary[l];a=[];for(var c=(l=z.exports[l])?1:0,h=e.length;c<h;c++)a.push(z.deserialize(e[c],t,n,u,s));if(l){var d=a;a=t?t(l,d,o||i):new l(d)}}else if(z.isPlainObject(e))for(var p in a={},r&&(n.dictionary=a),e)a[p]=z.deserialize(e[p],t,n);return s?a[1]:a},exportJSON:function(e,t){var n=z.serialize(e,t);return t&&0==t.asString?n:JSON.stringify(n)},importJSON:function(e,o){return z.deserialize("string"==typeof e?JSON.parse(e):e,function(e,t,n){var r=n&&o&&o.constructor===e,i=r?o:z.create(e.prototype);if(1===t.length&&i instanceof S&&(r||!(i instanceof s))){var a=t[0];z.isPlainObject(a)&&(a.insert=!1,r&&(t=t.concat([{insert:!0}])))}return(r?i.set:e).apply(i,t),r&&(o=null),i})},push:function(e,t){var n=t.length;if(n<4096)e.push.apply(e,t);else{var r=e.length;e.length+=n;for(var i=0;i<n;i++)e[r+i]=t[i]}return e},splice:function(e,t,n,r){var i=t&&t.length,a=n===B;(n=a?e.length:n)>e.length&&(n=e.length);for(var o=0;o<i;o++)t[o]._index=n+o;if(a)return z.push(e,t),[];var s=[n,r];t&&z.push(s,t);for(var l=e.splice.apply(e,s),u=(o=0,l.length);o<u;o++)l[o]._index=B;for(o=n+i,u=e.length;o<u;o++)e[o]._index=o;return l},capitalize:function(e){return e.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var e={on:function(e,t){if("string"!=typeof e)z.each(e,function(e,t){this.on(t,e)},this);else{var n=this._eventTypes,r=n&&n[e],i=this._callbacks=this._callbacks||{};-1===(i=i[e]=i[e]||[]).indexOf(t)&&(i.push(t),r&&r.install&&1===i.length&&r.install.call(this,e))}return this},off:function(e,t){if("string"==typeof e){var n,r=this._eventTypes,i=r&&r[e],a=this._callbacks&&this._callbacks[e];return a&&(!t||-1!==(n=a.indexOf(t))&&1===a.length?(i&&i.uninstall&&i.uninstall.call(this,e),delete this._callbacks[e]):-1!==n&&a.splice(n,1)),this}z.each(e,function(e,t){this.off(t,e)},this)},once:function(e,t){return this.on(e,function handler(){t.apply(this,arguments),this.off(e,handler)})},emit:function(e,t){var n=this._callbacks&&this._callbacks[e];if(!n)return!1;var r=z.slice(arguments,1),i=t&&t.target&&!t.currentTarget;n=n.slice(),i&&(t.currentTarget=this);for(var a=0,o=n.length;a<o;a++)if(0==n[a].apply(this,r)){t&&t.stop&&t.stop();break}return i&&delete t.currentTarget,!0},responds:function(e){return!(!this._callbacks||!this._callbacks[e])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var t=this._eventTypes,n=this._callbacks,r=e?"install":"uninstall";if(t)for(var i in n)if(0<n[i].length){var a=t[i],o=a&&a[r];o&&o.call(this,i)}},statics:{inject:function inject(o){var e=o._events;if(e){var s={};z.each(e,function(e,t){var n="string"==typeof e,r=n?e:t,i=z.capitalize(r),a=r.substring(2).toLowerCase();s[a]=n?{}:e,r="_"+r,o["get"+i]=function(){return this[r]},o["set"+i]=function(e){var t=this[r];t&&this.off(a,t),e&&this.on(a,e),this[r]=e}}),o._eventTypes=s}return inject.base.apply(this,arguments)}}},l=z.extend({_class:"PaperScope",initialize:function PaperScope(){(oe=this).settings=new z({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=PaperScope._id++,PaperScope._scopes[this._id]=this;var e=PaperScope.prototype;if(!this.support){var t=ne.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in t||"mozDash"in t,nativeBlendModes:re.nativeModes},ne.release(t)}if(!this.agent){var n=p.navigator.userAgent.toLowerCase(),r=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(n)||[])[0],i="darwin"===r?"mac":r,o=e.agent=e.browser={platform:i};i&&(o[i]=!0),n.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(e,t,n,r,i){if(!o.chrome){var a="opera"===t?r:/^(node|trident)$/.test(t)?i:n;o.version=a,o.versionNumber=parseFloat(a),t={trident:"msie",jsdom:"node"}[t]||t,o.name=t,o[t]=!0}}),o.chrome&&delete o.webkit,o.atom&&delete o.chrome}},version:"0.12.3",getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this},execute:function(e,t){var n=oe.PaperScript.execute(e,this,t);return F.updateFocus(),n},install:function(t){var n=this;for(var e in z.each(["project","view","tool"],function(e){z.define(t,e,{configurable:!0,get:function(){return n[e]}})}),this)!/^_/.test(e)&&this[e]&&(t[e]=this[e])},setup:function(e){return(oe=this).project=new r(e),this},createCanvas:function(e,t){return ne.getCanvas(e,t)},activate:function(){oe=this},clear:function(){for(var e=this.projects,t=this.tools,n=e.length-1;0<=n;n--)e[n].remove();for(n=t.length-1;0<=n;n--)t[n].remove()},remove:function(){this.clear(),delete l._scopes[this._id]},statics:new function(){function handleAttribute(n){return n+="Attribute",function(e,t){return e[n](t)||e[n]("data-paper-"+t)}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:handleAttribute("get"),hasAttribute:handleAttribute("has")}}}),t=z.extend(e,{initialize:function(e){this._scope=oe,this._index=this._scope[this._list].push(this)-1,!e&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;var e=this._scope[this._reference];return e&&e!==this&&e.emit("deactivate"),(this._scope[this._reference]=this).emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(z.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),!(this._scope=null))},getView:function(){return this._scope.getView()}}),w=z.extend({initialize:function(e){this.precision=z.pick(e,5),this.multiplier=Math.pow(10,this.precision)},number:function(e){return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,t,n){return this.number(e)+(n||",")+this.number(t)},point:function(e,t){return this.number(e.x)+(t||",")+this.number(e.y)},size:function(e,t){return this.number(e.width)+(t||",")+this.number(e.height)},rectangle:function(e,t){return this.point(e,t)+(t||",")+this.size(e,t)}});w.instance=new w;var U=new function(){var d=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],p=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],w=Math.abs,C=Math.sqrt,x=Math.pow,t=Math.log2||function(e){return Math.log(e)*Math.LOG2E},S=1e-12,E=112e-18;function clamp(e,t,n){return e<t?t:n<e?n:e}function getDiscriminant(e,t,n){function split(e){var t=134217729*e,n=e-t+t;return[n,e-n]}var r=t*t-e*n,i=t*t+e*n;if(3*w(r)<i){var a=split(e),o=split(t),s=split(n),l=t*t,u=e*n;r=l-u+(o[0]*o[0]-l+2*o[0]*o[1]+o[1]*o[1]-(a[0]*s[0]-u+a[0]*s[1]+a[1]*s[0]+a[1]*s[1]))}return r}function getNormalizationFactor(){var e=Math.max.apply(Math,arguments);return e&&(e<1e-8||1e8<e)?x(2,-Math.round(t(e))):0}return{EPSILON:S,MACHINE_EPSILON:E,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(C(2)-1)/3,isZero:function(e){return-S<=e&&e<=S},clamp:clamp,integrate:function(e,t,n,r){for(var i=d[r-2],a=p[r-2],o=.5*(n-t),s=o+t,l=0,u=r+1>>1,c=1&r?a[l++]*e(s):0;l<u;){var h=o*i[l];c+=a[l++]*(e(s+h)+e(s-h))}return o*c},findRoot:function(e,t,n,r,i,a,o){for(var s=0;s<a;s++){var l=e(n),u=l/t(n),c=n-u;if(w(u)<o){n=c;break}n=0<l?(i=n,c<=r?.5*(r+i):c):(r=n,i<=c?.5*(r+i):c)}return clamp(n,r,i)},solveQuadratic:function(e,t,n,r,i,a){var o,s=1/0;if(w(e)<S){if(w(t)<S)return w(n)<S?-1:0;o=-n/t}else{var l=getDiscriminant(e,t*=-.5,n);if(l&&w(l)<E){var u=getNormalizationFactor(w(e),w(t),w(n));u&&(l=getDiscriminant(e*=u,t*=u,n*=u))}if(-E<=l){var c=l<0?0:C(l),h=t+(t<0?-c:c);s=0===h?-(o=n/e):(o=h/e,n/h)}}var d=0,p=null==i,f=i-S,g=a+S;return isFinite(o)&&(p||f<o&&o<g)&&(r[d++]=p?o:clamp(o,i,a)),s!==o&&isFinite(s)&&(p||f<s&&s<g)&&(r[d++]=p?s:clamp(s,i,a)),d},solveCubic:function(n,r,i,a,e,t,o){var s,l,u,c,h,d=getNormalizationFactor(w(n),w(r),w(i),w(a));function evaluate(e){var t=n*(s=e);c=(t+(l=t+r))*s+(u=l*s+i),h=u*s+a}if(d&&(n*=d,r*=d,i*=d,a*=d),w(n)<S)n=r,l=i,u=a,s=1/0;else if(w(a)<S)l=r,u=i,s=0;else{evaluate(-r/n/3);var p=h/n,f=x(w(p),1/3),g=p<0?-1:1,v=-c/n,m=0<v?1.324717957244746*Math.max(f,C(v)):f,_=s-g*m;if(_!==s){for(;evaluate(_),g*s<g*(_=0===c?s:s-h/c/(1+E)););w(n)*s*s>w(a/s)&&(l=((u=-a/s)-i)/s)}}var y=U.solveQuadratic(n,l,u,e,t,o),b=null==t;return isFinite(s)&&(0===y||0<y&&s!==e[0]&&s!==e[1])&&(b||t-S<s&&s<o+S)&&(e[y++]=b?s:clamp(s,t,o)),y}}},u={_id:1,_pools:{},get:function(e){if(e){var t=this._pools[e];return(t=t||(this._pools[e]={_id:1}))._id++}return this._id++}},W=z.extend({_class:"Point",_readIndex:!0,initialize:function Point(e,t){var n=typeof e,r=this.__read,i=0;if("number"==n){var a="number"==typeof t;this._set(e,a?t:e),r&&(i=a?2:1)}else if("undefined"==n||null===e)this._set(0,0),r&&(i=null===e?1:0);else{var o="string"==n?e.split(/[\s,]+/)||[]:e;i=1,Array.isArray(o)?this._set(+o[0],+(1<o.length?o[1]:o[0])):"x"in o?this._set(o.x||0,o.y||0):"width"in o?this._set(o.width||0,o.height||0):"angle"in o?(this._set(o.length||0,0),this.setAngle(o.angle||0)):(this._set(0,0),i=0)}return r&&(this.__read=i),this},set:"#initialize",_set:function(e,t){return this.x=e,this.y=t,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1},clone:function(){return new W(this.x,this.y)},toString:function(){var e=w.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){var t=this._angle||0;this._set(Math.cos(t)*e,Math.sin(t)*e)}else{var n=e/this.getLength();U.isZero(n)&&this.getAngle(),this._set(this.x*n,this.y*n)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var e=W.read(arguments),t=this.getLength()*e.getLength();if(U.isZero(t))return NaN;var n=this.dot(e)/t;return Math.acos(n<-1?-1:1<n?1:n)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var t=this.getLength();this._set(Math.cos(e)*t,Math.sin(e)*t)}},getQuadrant:function(){return 0<=this.x?0<=this.y?1:4:0<=this.y?2:3}},{beans:!1,getDirectedAngle:function(){var e=W.read(arguments);return 180*Math.atan2(this.cross(e),this.dot(e))/Math.PI},getDistance:function(){var e=W.read(arguments),t=e.x-this.x,n=e.y-this.y,r=t*t+n*n;return z.read(arguments)?r:Math.sqrt(r)},normalize:function(e){e===B&&(e=1);var t=this.getLength(),n=0!==t?e/t:0,r=new W(this.x*n,this.y*n);return 0<=n&&(r._angle=this._angle),r},rotate:function(e,t){if(0===e)return this.clone();e=e*Math.PI/180;var n=t?this.subtract(t):this,r=Math.sin(e),i=Math.cos(e);return n=new W(n.x*i-n.y*r,n.x*r+n.y*i),t?n.add(t):n},transform:function(e){return e?e._transformPoint(this):this},add:function(){var e=W.read(arguments);return new W(this.x+e.x,this.y+e.y)},subtract:function(){var e=W.read(arguments);return new W(this.x-e.x,this.y-e.y)},multiply:function(){var e=W.read(arguments);return new W(this.x*e.x,this.y*e.y)},divide:function(){var e=W.read(arguments);return new W(this.x/e.x,this.y/e.y)},modulo:function(){var e=W.read(arguments);return new W(this.x%e.x,this.y%e.y)},negate:function(){return new W(-this.x,-this.y)},isInside:function(){return P.read(arguments).contains(this)},isClose:function(){var e=W.read(arguments),t=z.read(arguments);return this.getDistance(e)<=t},isCollinear:function(){var e=W.read(arguments);return W.isCollinear(this.x,this.y,e.x,e.y)},isColinear:"#isCollinear",isOrthogonal:function(){var e=W.read(arguments);return W.isOrthogonal(this.x,this.y,e.x,e.y)},isZero:function(){var e=U.isZero;return e(this.x)&&e(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(e){return 0<=this.x*(1<e&&e<4?-1:1)&&0<=this.y*(2<e?-1:1)},dot:function(){var e=W.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){var e=W.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=W.read(arguments),t=e.isZero()?0:this.dot(e)/e.dot(e);return new W(e.x*t,e.y*t)},statics:{min:function(){var e=W.read(arguments),t=W.read(arguments);return new W(Math.min(e.x,t.x),Math.min(e.y,t.y))},max:function(){var e=W.read(arguments),t=W.read(arguments);return new W(Math.max(e.x,t.x),Math.max(e.y,t.y))},random:function(){return new W(Math.random(),Math.random())},isCollinear:function(e,t,n,r){return Math.abs(e*r-t*n)<=1e-8*Math.sqrt((e*e+t*t)*(n*n+r*r))},isOrthogonal:function(e,t,n,r){return Math.abs(e*n+t*r)<=1e-8*Math.sqrt((e*e+t*t)*(n*n+r*r))}}},z.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new W(t(this.x),t(this.y))}},{})),h=W.extend({initialize:function Point(e,t,n,r){this._x=e,this._y=t,this._owner=n,this._setter=r},_set:function(e,t,n){return this._x=e,this._y=t,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),q=z.extend({_class:"Size",_readIndex:!0,initialize:function Size(e,t){var n=typeof e,r=this.__read,i=0;if("number"==n){var a="number"==typeof t;this._set(e,a?t:e),r&&(i=a?2:1)}else if("undefined"==n||null===e)this._set(0,0),r&&(i=null===e?1:0);else{var o="string"==n?e.split(/[\s,]+/)||[]:e;i=1,Array.isArray(o)?this._set(+o[0],+(1<o.length?o[1]:o[0])):"width"in o?this._set(o.width||0,o.height||0):"x"in o?this._set(o.x||0,o.y||0):(this._set(0,0),i=0)}return r&&(this.__read=i),this},set:"#initialize",_set:function(e,t){return this.width=e,this.height=t,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1},clone:function(){return new q(this.width,this.height)},toString:function(){var e=w.instance;return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.width),t.number(this.height)]},add:function(){var e=q.read(arguments);return new q(this.width+e.width,this.height+e.height)},subtract:function(){var e=q.read(arguments);return new q(this.width-e.width,this.height-e.height)},multiply:function(){var e=q.read(arguments);return new q(this.width*e.width,this.height*e.height)},divide:function(){var e=q.read(arguments);return new q(this.width/e.width,this.height/e.height)},modulo:function(){var e=q.read(arguments);return new q(this.width%e.width,this.height%e.height)},negate:function(){return new q(-this.width,-this.height)},isZero:function(){var e=U.isZero;return e(this.width)&&e(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,t){return new q(Math.min(e.width,t.width),Math.min(e.height,t.height))},max:function(e,t){return new q(Math.max(e.width,t.width),Math.max(e.height,t.height))},random:function(){return new q(Math.random(),Math.random())}}},z.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new q(t(this.width),t(this.height))}},{})),n=q.extend({initialize:function Size(e,t,n,r){this._width=e,this._height=t,this._owner=n,this._setter=r},_set:function(e,t,n){return this._width=e,this._height=t,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){this._height=e,this._owner[this._setter](this)}}),P=z.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function Rectangle(e,t,n,r){var i,a=typeof e;if("number"==a?(this._set(e,t,n,r),i=4):"undefined"==a||null===e?(this._set(0,0,0,0),i=null===e?1:0):1===arguments.length&&(Array.isArray(e)?(this._set.apply(this,e),i=1):e.x!==B||e.width!==B?(this._set(e.x||0,e.y||0,e.width||0,e.height||0),i=1):e.from===B&&e.to===B&&(this._set(0,0,0,0),z.filter(this,e),i=1)),i===B){var o,s,l=W.readNamed(arguments,"from"),u=z.peek(arguments),c=l.x,h=l.y;if(u&&u.x!==B||z.hasNamed(arguments,"to")){var d=W.readNamed(arguments,"to");o=d.x-c,s=d.y-h,o<0&&(c=d.x,o=-o),s<0&&(h=d.y,s=-s)}else{var p=q.read(arguments);o=p.width,s=p.height}this._set(c,h,o,s),i=arguments.__index;var f=arguments.__filtered;f&&(this.__filtered=f)}return this.__read&&(this.__read=i),this},set:"#initialize",_set:function(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this},clone:function(){return new P(this.x,this.y,this.width,this.height)},equals:function(e){var t=z.isPlainValue(e)?P.read(arguments):e;return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height||!1},toString:function(){var e=w.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y),t.number(this.width),t.number(this.height)]},getPoint:function(e){return new(e?W:h)(this.x,this.y,this,"setPoint")},setPoint:function(){var e=W.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){return new(e?q:n)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var e=q.read(arguments),t=this._sx,n=this._sy,r=e.width,i=e.height;t&&(this.x+=(this.width-r)*t),n&&(this.y+=(this.height-i)*n),this.width=r,this.height=i,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(e){if(!this._fw){var t=e-this.x;this.width-=.5===this._sx?2*t:t}this.x=e,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(e){if(!this._fh){var t=e-this.y;this.height-=.5===this._sy?2*t:t}this.y=e,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(e){if(!this._fw){var t=e-this.x;this.width=.5===this._sx?2*t:t}this.x=e-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(e){if(!this._fh){var t=e-this.y;this.height=.5===this._sy?2*t:t}this.y=e-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(e){this._fw||.5===this._sx?this.x=e-this.width/2:(this._sx&&(this.x+=2*(e-this.x)*this._sx),this.width=2*(e-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(e){this._fh||.5===this._sy?this.y=e-this.height/2:(this._sy&&(this.y+=2*(e-this.y)*this._sy),this.height=2*(e-this.y)),this._sy=.5,this._fh=0},getCenter:function(e){return new(e?W:h)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var e=W.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(e){return e&&e.width!==B||4===(Array.isArray(e)?e:arguments).length?this._containsRectangle(P.read(arguments)):this._containsPoint(W.read(arguments))},_containsPoint:function(e){var t=e.x,n=e.y;return t>=this.x&&n>=this.y&&t<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(e){var t=e.x,n=e.y;return t>=this.x&&n>=this.y&&t+e.width<=this.x+this.width&&n+e.height<=this.y+this.height},intersects:function(){var e=P.read(arguments),t=z.read(arguments)||0;return e.x+e.width>this.x-t&&e.y+e.height>this.y-t&&e.x<this.x+this.width+t&&e.y<this.y+this.height+t},intersect:function(){var e=P.read(arguments),t=Math.max(this.x,e.x),n=Math.max(this.y,e.y),r=Math.min(this.x+this.width,e.x+e.width),i=Math.min(this.y+this.height,e.y+e.height);return new P(t,n,r-t,i-n)},unite:function(){var e=P.read(arguments),t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.x+this.width,e.x+e.width),i=Math.max(this.y+this.height,e.y+e.height);return new P(t,n,r-t,i-n)},include:function(){var e=W.read(arguments),t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.x+this.width,e.x),i=Math.max(this.y+this.height,e.y);return new P(t,n,r-t,i-n)},expand:function(){var e=q.read(arguments),t=e.width,n=e.height;return new P(this.x-t/2,this.y-n/2,this.width+t,this.height+n)},scale:function(e,t){return this.expand(this.width*e-this.width,this.height*(t===B?e:t)-this.height)}},z.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(e,t){var n=e.join(""),r=/^[RL]/.test(n);4<=t&&(e[1]+=r?"Y":"X");var i=e[r?0:1],a=e[r?1:0],o="get"+i,s="get"+a,l="set"+i,u="set"+a,c="set"+n;this["get"+n]=function(e){return new(e?W:h)(this[o](),this[s](),this,c)},this[c]=function(){var e=W.read(arguments);this[l](e.x),this[u](e.y)}},{beans:!0})),a=P.extend({initialize:function Rectangle(e,t,n,r,i,a){this._set(e,t,n,r,!0),this._owner=i,this._setter=a},_set:function(e,t,n,r,i){return this._x=e,this._y=t,this._width=n,this._height=r,i||this._owner[this._setter](this),this}},new function(){var n=P.prototype;return z.each(["x","y","width","height"],function(e){var t=z.capitalize(e),n="_"+e;this["get"+t]=function(){return this[n]},this["set"+t]=function(e){this[n]=e,this._dontNotify||this._owner[this._setter](this)}},z.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var t="set"+e;this[t]=function(){this._dontNotify=!0,n[t].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(e){var t=this._owner;t._changeSelection&&t._changeSelection(2,e)}}))}),Q=z.extend({_class:"Matrix",initialize:function Matrix(e,t){var n=arguments.length,r=!0;if(6<=n?this._set.apply(this,arguments):1===n||2===n?e instanceof Matrix?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,t):Array.isArray(e)?this._set.apply(this,t?e.concat([t]):e):r=!1:n?r=!1:this.reset(),!r)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(e,t,n,r,i,a,o){return this._a=e,this._b=t,this._c=n,this._d=r,this._tx=i,this._ty=a,o||this._changed(),this},_serialize:function(e,t){return z.serialize(this.getValues(),e,!0,t)},_changed:function(){var e=this._owner;e&&(e._applyMatrix?e.transform(null,!0):e._changed(25))},clone:function(){return new Q(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(e){return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty},toString:function(){var e=w.instance;return"[["+[e.number(this._a),e.number(this._c),e.number(this._tx)].join(", ")+"], ["+[e.number(this._b),e.number(this._d),e.number(this._ty)].join(", ")+"]]"},reset:function(e){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,e||this._changed(),this},apply:function(e,t){var n=this._owner;return!!n&&(n.transform(null,!0,z.pick(e,!0),t),this.isIdentity())},translate:function(){var e=W.read(arguments),t=e.x,n=e.y;return this._tx+=t*this._a+n*this._c,this._ty+=t*this._b+n*this._d,this._changed(),this},scale:function(){var e=W.read(arguments),t=W.read(arguments,0,{readNull:!0});return t&&this.translate(t),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,t&&this.translate(t.negate()),this._changed(),this},rotate:function(e){e*=Math.PI/180;var t=W.read(arguments,1),n=t.x,r=t.y,i=Math.cos(e),a=Math.sin(e),o=n-n*i+r*a,s=r-n*a-r*i,l=this._a,u=this._b,c=this._c,h=this._d;return this._a=i*l+a*c,this._b=i*u+a*h,this._c=-a*l+i*c,this._d=-a*u+i*h,this._tx+=o*l+s*c,this._ty+=o*u+s*h,this._changed(),this},shear:function(){var e=W.read(arguments),t=W.read(arguments,0,{readNull:!0});t&&this.translate(t);var n=this._a,r=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*n,this._d+=e.x*r,t&&this.translate(t.negate()),this._changed(),this},skew:function(){var e=W.read(arguments),t=W.read(arguments,0,{readNull:!0}),n=Math.PI/180,r=new W(Math.tan(e.x*n),Math.tan(e.y*n));return this.shear(r,t)},append:function(e,t){if(e){var n=this._a,r=this._b,i=this._c,a=this._d,o=e._a,s=e._c,l=e._b,u=e._d,c=e._tx,h=e._ty;this._a=o*n+l*i,this._c=s*n+u*i,this._b=o*r+l*a,this._d=s*r+u*a,this._tx+=c*n+h*i,this._ty+=c*r+h*a,t||this._changed()}return this},prepend:function(e,t){if(e){var n=this._a,r=this._b,i=this._c,a=this._d,o=this._tx,s=this._ty,l=e._a,u=e._c,c=e._b,h=e._d,d=e._tx,p=e._ty;this._a=l*n+u*r,this._c=l*i+u*a,this._b=c*n+h*r,this._d=c*i+h*a,this._tx=l*o+u*s+d,this._ty=c*o+h*s+p,t||this._changed()}return this},appended:function(e){return this.clone().append(e)},prepended:function(e){return this.clone().prepend(e)},invert:function(){var e=this._a,t=this._b,n=this._c,r=this._d,i=this._tx,a=this._ty,o=e*r-t*n,s=null;return o&&!isNaN(o)&&isFinite(i)&&isFinite(a)&&(this._a=r/o,this._b=-t/o,this._c=-n/o,this._d=e/o,this._tx=(n*a-r*i)/o,this._ty=(t*i-e*a)/o,s=this),s},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new Q(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var e=this._a*this._d-this._c*this._b;return e&&!isNaN(e)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(e,t,n){return arguments.length<3?this._transformPoint(W.read(arguments)):this._transformCoordinates(e,t,n)},_transformPoint:function(e,t,n){var r=e.x,i=e.y;return(t=t||new W)._set(r*this._a+i*this._c+this._tx,r*this._b+i*this._d+this._ty,n)},_transformCoordinates:function(e,t,n){for(var r=0,i=2*n;r<i;r+=2){var a=e[r],o=e[r+1];t[r]=a*this._a+o*this._c+this._tx,t[r+1]=a*this._b+o*this._d+this._ty}return t},_transformCorners:function(e){var t=e.x,n=e.y,r=t+e.width,i=n+e.height,a=[t,n,r,n,r,i,t,i];return this._transformCoordinates(a,a,4)},_transformBounds:function(e,t,n){for(var r=this._transformCorners(e),i=r.slice(0,2),a=i.slice(),o=2;o<8;o++){var s=r[o],l=1&o;s<i[l]?i[l]=s:s>a[l]&&(a[l]=s)}return(t=t||new P)._set(i[0],i[1],a[0]-i[0],a[1]-i[1],n)},inverseTransform:function(){return this._inverseTransform(W.read(arguments))},_inverseTransform:function(e,t,n){var r=this._a,i=this._b,a=this._c,o=this._d,s=this._tx,l=this._ty,u=r*o-i*a,c=null;if(u&&!isNaN(u)&&isFinite(s)&&isFinite(l)){var h=e.x-this._tx,d=e.y-this._ty;c=(t=t||new W)._set((h*o-d*a)/u,(d*r-h*i)/u,n)}return c},decompose:function(){var e,t,n,r=this._a,i=this._b,a=this._c,o=this._d,s=r*o-i*a,l=Math.sqrt,u=Math.atan2,c=180/Math.PI;if(0!==r||0!==i){var h=l(r*r+i*i);e=Math.acos(r/h)*(0<i?1:-1),t=[h,s/h],n=[u(r*a+i*o,h*h),0]}else if(0!==a||0!==o){var d=l(a*a+o*o);e=Math.asin(a/d)*(0<o?1:-1),t=[s/d,d],n=[0,u(r*a+i*o,d*d)]}else n=t=[e=0,0];return{translation:this.getTranslation(),rotation:e*c,scaling:new W(t),skewing:new W(n[0]*c,n[1]*c)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new W(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(e){this.isIdentity()||e.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},z.each(["a","b","c","d","tx","ty"],function(e){var t=z.capitalize(e),n="_"+e;this["get"+t]=function(){return this[n]},this["set"+t]=function(e){this[n]=e,this._changed()}},{})),H=z.extend({_class:"Line",initialize:function Line(e,t,n,r,i){(4<=arguments.length?(this._px=e,this._py=t,this._vx=n,this._vy=r,i):(this._px=e.x,this._py=e.y,this._vx=t.x,this._vy=t.y,n))||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new W(this._px,this._py)},getVector:function(){return new W(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(e,t){return H.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,t)},getSide:function(e,t){return H.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,t)},getDistance:function(e){return Math.abs(this.getSignedDistance(e))},getSignedDistance:function(e){return H.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0)},isCollinear:function(e){return W.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){return W.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,t,n,r,i,a,o,s,l,u){l||(n-=e,r-=t,o-=i,s-=a);var c=n*s-r*o;if(!U.isZero(c)){var h=e-i,d=t-a,p=(o*d-s*h)/c,f=(n*d-r*h)/c;if(u||-1e-12<p&&p<1+1e-12&&-1e-12<f&&f<1+1e-12)return u||(p=p<=0?0:1<=p?1:p),new W(e+p*n,t+p*r)}},getSide:function(e,t,n,r,i,a,o,s){o||(n-=e,r-=t);var l=i-e,u=l*r-(a-t)*n;return!s&&U.isZero(u)&&0<=(u=(l*n+l*n)/(n*n+r*r))&&u<=1&&(u=0),u<0?-1:0<u?1:0},getSignedDistance:function(e,t,n,r,i,a,o){return o||(n-=e,r-=t),0===n?0<r?i-e:e-i:0===r?n<0?a-t:t-a:((i-e)*r-(a-t)*n)/Math.sqrt(n*n+r*r)},getDistance:function(e,t,n,r,i,a,o){return Math.abs(H.getSignedDistance(e,t,n,r,i,a,o))}}}),r=t.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function Project(e){t.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new m(null,null,this),this._view=F.create(this,e||ne.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(e,t){return z.serialize(this._children,e,!0,t)},_changed:function(e,t){if(1&e){var n=this._view;n&&(n._needsUpdate=!0,!n._requested&&n._autoUpdate&&n.requestUpdate())}var r=this._changes;if(r&&t){var i=this._changesById,a=t._id,o=i[a];o?o.flags|=e:r.push(i[a]={item:t,flags:e})}},clear:function(){for(var e=this._children,t=e.length-1;0<=t;t--)e[t].remove()},isEmpty:function(){return!this._children.length},remove:function remove(){return!!remove.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(e){this._currentStyle.set(e)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new s({project:this,insert:!0})},getSymbolDefinitions:function(){var r=[],i={};return this.getItems({class:o,match:function(e){var t=e._definition,n=t._id;return i[n]||(i[n]=!0,r.push(t)),!1}}),r},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var e=this._selectionItems,t=[];for(var n in e){var r=e[n],i=r._selection;1&i&&r.isInserted()?t.push(r):i||this._updateSelection(r)}return t},_updateSelection:function(e){var t=e._id,n=this._selectionItems;e._selection?n[t]!==e&&(this._selectionCount++,n[t]=e):n[t]===e&&(this._selectionCount--,delete n[t])},selectAll:function(){for(var e=this._children,t=0,n=e.length;t<n;t++)e[t].setFullySelected(!0)},deselectAll:function(){var e=this._selectionItems;for(var t in e)e[t].setFullySelected(!1)},addLayer:function(e){return this.insertLayer(B,e)},insertLayer:function(e,t){if(t instanceof s){t._remove(!1,!0),z.splice(this._children,[t],e,0),t._setProject(this,!0);var n=t._name;n&&t.setName(n),this._changes&&t._changed(5),this._activeLayer||(this._activeLayer=t)}else t=null;return t},_insertItem:function(e,t,n){return t=this.insertLayer(e,t)||(this._activeLayer||this._insertItem(B,new s(S.NO_INSERT),!0)).insertChild(e,t),n&&t.activate&&t.activate(),t},getItems:function(e){return S._getItems(this,e)},getItem:function(e){return S._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();var t=this._activeLayer;return z.importJSON(e,t&&t.isEmpty()&&t)},removeOn:function(e){var t=this._removeSets;if(t){"mouseup"===e&&(t.mousedrag=null);var n=t[e];if(n){for(var r in n){var i=n[r];for(var a in t){var o=t[a];o&&o!=n&&delete o[i._id]}i.remove()}t[e]=null}}},draw:function(e,t,n){this._updateVersion++,e.save(),t.applyToContext(e);for(var r=this._children,i=new z({offset:new W(0,0),pixelRatio:n,viewMatrix:t.isIdentity()?null:t,matrices:[new Q],updateMatrix:!0}),a=0,o=r.length;a<o;a++)r[a].draw(e,i);if(e.restore(),0<this._selectionCount){e.save(),e.strokeWidth=1;var s=this._selectionItems,l=this._scope.settings.handleSize,u=this._updateVersion;for(var c in s)s[c]._drawSelection(e,t,l,s,u);e.restore()}}}),S=z.extend(e,{statics:{extend:function extend(e){return e._serializeFields&&(e._serializeFields=z.set({},this.prototype._serializeFields,e._serializeFields)),extend.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new Q,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var e=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return z.each(e,function(e){this._events[e]={install:function(e){this.getView()._countItemEvent(e,1)},uninstall:function(e){this.getView()._countItemEvent(e,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:e}})},{initialize:function Item(){},_initialize:function(e,t){var n=e&&z.isPlainObject(e),r=n&&!0===e.internal,i=this._matrix=new Q,a=n&&e.project||oe.project,o=oe.settings;return this._id=r?null:u.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&o.applyMatrix,t&&i.translate(t),(i._owner=this)._style=new m(a._currentStyle,this,a),r||n&&0==e.insert||!o.insertItems&&(!n||!0!==e.insert)?this._setProject(a):(n&&e.parent||a)._insertItem(B,this,!0),n&&e!==S.NO_INSERT&&this.set(e,{internal:!0,insert:!0,project:!0,parent:!0}),n},_serialize:function(r,i){var a={},o=this;function serialize(e){for(var t in e){var n=o[t];z.equals(n,"leading"===t?1.2*e.fontSize:e[t])||(a[t]=z.serialize(n,r,"data"!==t,i))}}return serialize(this._serializeFields),this instanceof y||serialize(this._style._defaults),[this._class,a]},_changed:function(e){var t=this._symbol,n=this._parent||t,r=this._project;8&e&&(this._bounds=this._position=this._decomposed=B),16&e&&(this._globalMatrix=B),n&&72&e&&S._clearBoundsCache(n),2&e&&S._clearBoundsCache(this),r&&r._changed(e,this),t&&t._changed(e)},getId:function(){return this._id},getName:function(){return this._name},setName:function(e){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var t=this._getOwner();if(e&&t){var n=t._children,r=t._namedChildren;(r[e]=r[e]||[]).push(this),e in n||(n[e]=this)}this._name=e||B,this._changed(256)},getStyle:function(){return this._style},setStyle:function(e){this.getStyle().set(e)}},z.each(["locked","visible","blendMode","opacity","guide"],function(t){var e=z.capitalize(t),n="_"+t,r={locked:256,visible:265};this["get"+e]=function(){return this[n]},this["set"+e]=function(e){e!=this[n]&&(this[n]=e,this._changed(r[t]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(e){if(e!==this._selection){this._selection=e;var t=this._project;t&&(t._updateSelection(this),this._changed(257))}},_changeSelection:function(e,t){var n=this._selection;this.setSelection(t?n|e:n&~e)},isSelected:function(){if(this._selectChildren)for(var e=this._children,t=0,n=e.length;t<n;t++)if(e[t].isSelected())return!0;return!!(1&this._selection)},setSelected:function(e){if(this._selectChildren)for(var t=this._children,n=0,r=t.length;n<r;n++)t[n].setSelected(e);this._changeSelection(1,e)},isFullySelected:function(){var e=this._children,t=!!(1&this._selection);if(e&&t){for(var n=0,r=e.length;n<r;n++)if(!e[n].isFullySelected())return!1;return!0}return t},setFullySelected:function(e){var t=this._children;if(t)for(var n=0,r=t.length;n<r;n++)t[n].setFullySelected(e);this._changeSelection(1,e)},isClipMask:function(){return this._clipMask},setClipMask:function(e){this._clipMask!=(e=!!e)&&((this._clipMask=e)&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(e){this._data=e},getPosition:function(e){var t=e?W:h,n=this._position||(this._position=this._getPositionFromBounds());return new t(n.x,n.y,this,"setPosition")},setPosition:function(){this.translate(W.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(e){return this._pivot?this._matrix._transformPoint(this._pivot):(e||this.getBounds()).getCenter(!0)},getPivot:function(){var e=this._pivot;return e?new h(e.x,e.y,this,"setPivot"):null},setPivot:function(){this._pivot=W.read(arguments,0,{clone:!0,readNull:!0}),this._position=B}},z.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,e){this[e]=function(e){return this.getBounds(e,t)}},{beans:!0,getBounds:function(e,t){var n=t||e instanceof Q,r=z.set({},n?t:e,this._boundsOptions);r.stroke&&!this.getStrokeScaling()||(r.cacheItem=this);var i=this._getCachedBounds(n&&e,r).rect;return arguments.length?i:new a(i.x,i.y,i.width,i.height,this,"setBounds")},setBounds:function(){var e=P.read(arguments),t=this.getBounds(),n=this._matrix,r=new Q,i=e.getCenter();r.translate(i),e.width==t.width&&e.height==t.height||(n.isInvertible()||(n.set(n._backup||(new Q).translate(n.getTranslation())),t=this.getBounds()),r.scale(0!==t.width?e.width/t.width:0,0!==t.height?e.height/t.height:0)),i=t.getCenter(),r.translate(-i.x,-i.y),this.transform(r)},_getBounds:function(e,t){var n=this._children;return n&&n.length?(S._updateBoundsCache(this,t.cacheItem),S._getBounds(n,e,t)):new P},_getBoundsCacheKey:function(e,t){return[e.stroke?1:0,e.handle?1:0,t?1:0].join("")},_getCachedBounds:function(e,t,n){e=e&&e._orNullIfIdentity();var r=t.internal&&!n,i=t.cacheItem,a=r?null:this._matrix._orNullIfIdentity(),o=i&&(!e||e.equals(a))&&this._getBoundsCacheKey(t,r),s=this._bounds;if(S._updateBoundsCache(this._parent||this._symbol,i),o&&s&&o in s)return{rect:(d=s[o]).rect.clone(),nonscaling:d.nonscaling};var l=this._getBounds(e||a,t),u=l.rect||l,c=this._style,h=l.nonscaling||c.hasStroke()&&!c.getStrokeScaling();if(o){s||(this._bounds=s={});var d=s[o]={rect:u.clone(),nonscaling:h,internal:r}}return{rect:u,nonscaling:h}},_getStrokeMatrix:function(e,t){var n=this.getStrokeScaling()?null:t&&t.internal?this:this._parent||this._symbol&&this._symbol._item,r=n?n.getViewMatrix().invert():e;return r&&r._shiftless()},statics:{_updateBoundsCache:function(e,t){if(e&&t){var n=t._id,r=e._boundsCache=e._boundsCache||{ids:{},list:[]};r.ids[n]||(r.list.push(t),r.ids[n]=t)}},_clearBoundsCache:function(e){var t=e._boundsCache;if(t){e._bounds=e._position=e._boundsCache=B;for(var n=0,r=t.list,i=r.length;n<i;n++){var a=r[n];a!==e&&(a._bounds=a._position=B,a._boundsCache&&S._clearBoundsCache(a))}}},_getBounds:function(e,t,n){var r=1/0,i=-r,a=r,o=i,s=!1;n=n||{};for(var l=0,u=e.length;l<u;l++){var c=e[l];if(c._visible&&!c.isEmpty(!0)){var h=c._getCachedBounds(t&&t.appended(c._matrix),n,!0),d=h.rect;r=Math.min(d.x,r),a=Math.min(d.y,a),i=Math.max(d.x+d.width,i),o=Math.max(d.y+d.height,o),h.nonscaling&&(s=!0)}}return{rect:isFinite(r)?new P(r,a,i-r,o-a):new P,nonscaling:s}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var e=this._decompose();return e?e.rotation:0},setRotation:function(e){var t=this.getRotation();if(null!=t&&null!=e){var n=this._decomposed;this.rotate(e-t),n&&(n.rotation=e,this._decomposed=n)}},getScaling:function(){var e=this._decompose(),t=e&&e.scaling;return new h(t?t.x:1,t?t.y:1,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=W.read(arguments,0,{clone:!0,readNull:!0});if(e&&t&&!e.equals(t)){var n=this.getRotation(),r=this._decomposed,i=new Q,a=this.getPosition(!0);i.translate(a),n&&i.rotate(n),i.scale(t.x/e.x,t.y/e.y),n&&i.rotate(-n),i.translate(a.negate()),this.transform(i),r&&(r.scaling=t,this._decomposed=r)}},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.initialize.apply(e,arguments)},getGlobalMatrix:function(e){var t=this._globalMatrix;if(t)for(var n=this._parent,r=[];n;){if(!n._globalMatrix){t=null;for(var i=0,a=r.length;i<a;i++)r[i]._globalMatrix=null;break}r.push(n),n=n._parent}t||(t=this._globalMatrix=this._matrix.clone(),(n=this._parent)&&t.prepend(n.getGlobalMatrix(!0)));return e?t:t.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){(this._applyMatrix=this._canApplyMatrix&&!!e)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(e,t){if(this._project!==e){this._project&&this._installEvents(!1),this._project=e;for(var n=this._children,r=0,i=n&&n.length;r<i;r++)n[r]._setProject(e);t=!0}t&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function _installEvents(e){_installEvents.base.call(this,e);for(var t=this._children,n=0,r=t&&t.length;n<r;n++)t[n]._installEvents(e)},getLayer:function(){for(var e=this;e=e._parent;)if(e instanceof s)return e;return null},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(e){this.removeChildren(),this.addChildren(e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1},_equals:function(e){return z.equals(this._children,e._children)},clone:function(e){var t=new this.constructor(S.NO_INSERT),n=this._children,r=z.pick(e?e.insert:B,e===B||!0===e),i=z.pick(e?e.deep:B,!0);n&&t.copyAttributes(this),n&&!i||t.copyContent(this),n||t.copyAttributes(this),r&&t.insertAbove(this);var a=this._name,o=this._parent;if(a&&o){n=o._children;for(var s=a,l=1;n[a];)a=s+" "+l++;a!==s&&t.setName(a)}return t},copyContent:function(e){for(var t=e._children,n=0,r=t&&t.length;n<r;n++)this.addChild(t[n].clone(!1),!0)},copyAttributes:function(e,t){this.setStyle(e._style);for(var n=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],r=0,i=n.length;r<i;r++){var a=n[r];e.hasOwnProperty(a)&&(this[a]=e[a])}t||this._matrix.set(e._matrix,!0),this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelection(e._selection);var o=e._data,s=e._name;this._data=o?z.clone(o):null,s&&this.setName(s)},rasterize:function(e,t){var n=this.getStrokeBounds(),r=(e||this.getView().getResolution())/72,i=n.getTopLeft().floor(),a=n.getBottomRight().ceil(),o=new q(a.subtract(i)),s=new g(S.NO_INSERT);if(!o.isZero()){var l=ne.getCanvas(o.multiply(r)),u=l.getContext("2d"),c=(new Q).scale(r).translate(i.negate());u.save(),c.applyToContext(u),this.draw(u,new z({matrices:[c]})),u.restore(),s.setCanvas(l)}return s.transform((new Q).translate(i.add(o.divide(2))).scale(1/r)),t!==B&&!t||s.insertAbove(this),s},contains:function(){var e=this._matrix;return e.isInvertible()&&!!this._contains(e._inverseTransform(W.read(arguments)))},_contains:function(e){var t=this._children;if(t){for(var n=t.length-1;0<=n;n--)if(t[n].contains(e))return!0;return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return P.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new I.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(e,t){return e instanceof S&&0<this._asPathItem().getIntersections(e._asPathItem(),null,t,!0).length}},new function(){function hitTest(){return this._hitTest(W.read(arguments),E.getOptions(arguments))}function hitTestAll(){var e=W.read(arguments),t=E.getOptions(arguments),n=[];return this._hitTest(e,z.set({all:n},t)),n}function hitTestChildren(e,t,n,r){var i=this._children;if(i)for(var a=i.length-1;0<=a;a--){var o=i[a],s=o!==r&&o._hitTest(e,t,n);if(s&&!t.all)return s}return null}return r.inject({hitTest:hitTest,hitTestAll:hitTestAll,_hitTest:hitTestChildren}),{hitTest:hitTest,hitTestAll:hitTestAll,_hitTestChildren:hitTestChildren}},{_hitTest:function(r,t,e){if(this._locked||!this._visible||this._guide&&!t.guides||this.isEmpty())return null;var n=this._matrix,i=e?e.appended(n):this.getGlobalMatrix().prepend(this.getView()._matrix),a=Math.max(t.tolerance,1e-12),o=t._tolerancePadding=new q(I._getStrokePadding(a,n._shiftless().invert()));if(!(r=n._inverseTransform(r))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(o.multiply(2))._containsPoint(r))return null;var s,l,u=!(t.guides&&!this._guide||t.selected&&!this.isSelected()||t.type&&t.type!==z.hyphenate(this._class)||t.class&&!(this instanceof t.class)),c=t.match,h=this;function filter(e){return e&&c&&!c(e)&&(e=null),e&&t.all&&t.all.push(e),e}function checkPoint(e,t){var n=t?s["get"+t]():h.getPosition();if(r.subtract(n).divide(o).length<=1)return new E(e,h,{name:t?z.hyphenate(t):e,point:n})}var d=t.position,p=t.center,f=t.bounds;if(u&&this._parent&&(d||p||f)){if((p||f)&&(s=this.getInternalBounds()),!(l=d&&checkPoint("position")||p&&checkPoint("center","Center"))&&f)for(var g=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],v=0;v<8&&!l;v++)l=checkPoint("bounds",g[v]);l=filter(l)}return(l=l||(this._hitTestChildren(r,t,i)||u&&filter(this._hitTestSelf(r,t,i,this.getStrokeScaling()?null:i._shiftless().invert()))||null))&&l.point&&(l.point=n.transform(l.point)),l},_hitTestSelf:function(e,t){if(t.fill&&this.hasFill()&&this._contains(e))return new E("fill",this)},matches:function(e,t){var n=typeof e;if("object"==n){for(var r in e)if(e.hasOwnProperty(r)&&!this.matches(r,e[r]))return!1;return!0}if("function"==n)return e(this);if("match"===e)return t(this);var i=/^(empty|editable)$/.test(e)?this["is"+z.capitalize(e)]():"type"===e?z.hyphenate(this._class):this[e];if("class"===e){if("function"==typeof t)return this instanceof t;i=this._class}if("function"==typeof t)return!!t(i);if(t){if(t.test)return t.test(i);if(z.isPlainObject(t))return function matchObject(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],i=t[n];if(z.isPlainObject(r)&&z.isPlainObject(i)){if(!matchObject(r,i))return!1}else if(!z.equals(r,i))return!1}return!0}(t,i)}return z.equals(i,t)},getItems:function(e){return S._getItems(this,e,this._matrix)},getItem:function(e){return S._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function _getItems(e,t,n,r,i){if(!r){var a="object"==typeof t&&t,o=a&&a.overlapping,s=a&&a.inside,l=(v=o||s)&&P.read([v]);r={items:[],recursive:a&&!1!==a.recursive,inside:!!s,overlapping:!!o,rect:l,path:o&&new I.Rectangle({rectangle:l,insert:!1})},a&&(t=z.filter({},t,{recursive:!0,inside:!0,overlapping:!0}))}var u=e._children,c=r.items;n=(l=r.rect)&&(n||new Q);for(var h=0,d=u&&u.length;h<d;h++){var p=u[h],f=n&&n.appended(p._matrix),g=!0;if(l){var v=p.getBounds(f);if(!l.intersects(v))continue;l.contains(v)||r.overlapping&&(v.contains(l)||r.path.intersects(p,f))||(g=!1)}if(g&&p.matches(t)&&(c.push(p),i))break;if(!1!==r.recursive&&_getItems(p,t,f,r,i),i&&0<c.length)break}return c}}},{importJSON:function(e){var t=z.importJSON(e,this);return t!==this?this.addChild(t):t},addChild:function(e){return this.insertChild(B,e)},insertChild:function(e,t){var n=t?this.insertChildren(e,[t]):null;return n&&n[0]},addChildren:function(e){return this.insertChildren(this._children.length,e)},insertChildren:function(e,t){var n=this._children;if(n&&t&&0<t.length){for(var r={},i=(t=z.slice(t)).length-1;0<=i;i--){var a=(u=t[i])&&u._id;!u||r[a]?t.splice(i,1):(u._remove(!1,!0),r[a]=!0)}z.splice(n,t,e,0);for(var o=this._project,s=o._changes,l=(i=0,t.length);i<l;i++){var u,c=(u=t[i])._name;u._parent=this,u._setProject(o,!0),c&&u.setName(c),s&&u._changed(5)}this._changed(11)}else t=null;return t},_insertItem:"#insertChild",_insertAt:function(e,t){var n=e&&e._getOwner(),r=e!==this&&n?this:null;return r&&(r._remove(!1,!0),n._insertItem(e._index+t,r)),r},insertAbove:function(e){return this._insertAt(e,1)},insertBelow:function(e){return this._insertAt(e,0)},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null},bringToFront:function(){var e=this._getOwner();return e?e._insertItem(B,this):null},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(e){return e._insertItem(B,this)},copyTo:function(e){return this.clone(!1).addTo(e)},reduce:function(e){var t=this._children;if(t&&1===t.length){var n=t[0].reduce(e);return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n}return this},_removeNamed:function(){var e=this._getOwner();if(e){var t=e._children,n=e._namedChildren,r=this._name,i=n[r],a=i?i.indexOf(this):-1;-1!==a&&(t[r]==this&&delete t[r],i.splice(a,1),i.length?t[r]=i[0]:delete n[r])}},_remove:function(e,t){var n=this._getOwner(),r=this._project,i=this._index;return this._style&&this._style._dispose(),!!n&&(this._name&&this._removeNamed(),null!=i&&(r._activeLayer===this&&(r._activeLayer=this.getNextSibling()||this.getPreviousSibling()),z.splice(n._children,null,i,1)),this._installEvents(!1),e&&r._changes&&this._changed(5),t&&n._changed(11,this),!(this._parent=null))},remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var t=e&&e.insertBelow(this);return t&&this.remove(),t},removeChildren:function(e,t){if(!this._children)return null;e=e||0,t=z.pick(t,this._children.length);for(var n=z.splice(this._children,null,e,t-e),r=n.length-1;0<=r;r--)n[r]._remove(!0,!1);return 0<n.length&&this._changed(11),n},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var e=0,t=this._children.length;e<t;e++)this._children[e]._index=e;this._changed(11)}},isEmpty:function(e){var t=this._children,n=t?t.length:0;if(e){for(var r=0;r<n;r++)if(!t[r].isEmpty(e))return!1;return!0}return!n},isEditable:function(){for(var e=this;e;){if(!e._visible||e._locked)return!1;e=e._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(e){function getList(e){for(var t=[];t.unshift(e),e=e._parent;);return t}for(var t=getList(this),n=getList(e),r=0,i=Math.min(t.length,n.length);r<i;r++)if(t[r]!=n[r])return t[r]._index<n[r]._index?1:-1;return 0},hasChildren:function(){return this._children&&0<this._children.length},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(e){return-1===this._getOrder(e)},isBelow:function(e){return 1===this._getOrder(e)},isParent:function(e){return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){for(var t=this;t=t._parent;)if(t===e)return!0;return!1},isAncestor:function(e){return!!e&&e.isDescendant(this)},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){for(var t=this._parent;t;){if(t._parent&&/^(Group|Layer|CompoundPath)$/.test(t._class)&&e.isDescendant(t))return!0;t=t._parent}return!1}},z.each(["rotate","scale","shear","skew"],function(n){var r="rotate"===n;this[n]=function(){var e=(r?z:W).read(arguments),t=W.read(arguments,0,{readNull:!0});return this.transform((new Q)[n](e,t||this.getPosition(!0)))}},{translate:function(){var e=new Q;return this.transform(e.translate.apply(e,arguments))},transform:function(e,t,n,r){var i=this._matrix,a=e&&!e.isIdentity(),o=(t||this._applyMatrix)&&(!i.isIdentity()||a||t&&n&&this._children);if(!a&&!o)return this;if(a){!e.isInvertible()&&i.isInvertible()&&(i._backup=i.getValues()),i.prepend(e,!0);var s=this._style,l=s.getFillColor(!0),u=s.getStrokeColor(!0);l&&l.transform(e),u&&u.transform(e)}if(o=o&&this._transformContent(i,n,r)){var c=this._pivot;c&&i._transformPoint(c,c,!0),i.reset(!0),r&&this._canApplyMatrix&&(this._applyMatrix=!0)}var h=this._bounds,d=this._position;(a||o)&&this._changed(25);var p=a&&h&&e.decompose();if(p&&p.skewing.isZero()&&p.rotation%90==0){for(var f in h){var g=h[f];if(g.nonscaling)delete h[f];else if(o||!g.internal){var v=g.rect;e._transformBounds(v,v)}}var m=(this._bounds=h)[this._getBoundsCacheKey(this._boundsOptions||{})];m&&(this._position=this._getPositionFromBounds(m.rect))}else a&&d&&this._pivot&&(this._position=e._transformPoint(d,d));return this},_transformContent:function(e,t,n){var r=this._children;if(r){for(var i=0,a=r.length;i<a;i++)r[i].transform(e,!0,t,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(W.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(W.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(W.read(arguments))},localToParent:function(){return this._matrix._transformPoint(W.read(arguments))},fitBounds:function(e,t){e=P.read(arguments);var n=this.getBounds(),r=n.height/n.width,i=e.height/e.width,a=(t?i<r:r<i)?e.width/n.width:e.height/n.height,o=new P(new W,new q(n.width*a,n.height*a));o.setCenter(e.getCenter()),this.setBounds(o)}}),{_setStyles:function(e,t,n){var r=this._style,i=this._matrix;if(r.hasFill()&&(e.fillStyle=r.getFillColor().toCanvasStyle(e,i)),r.hasStroke()){e.strokeStyle=r.getStrokeColor().toCanvasStyle(e,i),e.lineWidth=r.getStrokeWidth();var a=r.getStrokeJoin(),o=r.getStrokeCap(),s=r.getMiterLimit();if(a&&(e.lineJoin=a),o&&(e.lineCap=o),s&&(e.miterLimit=s),oe.support.nativeDash){var l=r.getDashArray(),u=r.getDashOffset();l&&l.length&&("setLineDash"in e?(e.setLineDash(l),e.lineDashOffset=u):(e.mozDash=l,e.mozDashOffset=u))}}if(r.hasShadow()){var c=t.pixelRatio||1,h=n._shiftless().prepend((new Q).scale(c,c)),d=h.transform(new W(r.getShadowBlur(),0)),p=h.transform(this.getShadowOffset());e.shadowColor=r.getShadowColor().toCanvasStyle(e),e.shadowBlur=d.getLength(),e.shadowOffsetX=p.x,e.shadowOffsetY=p.y}},draw:function(e,t,n){this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var r=t.matrices,i=t.viewMatrix,a=this._matrix,o=r[r.length-1].appended(a);if(o.isInvertible()){i=i?i.appended(o):o,r.push(o),t.updateMatrix&&(this._globalMatrix=o);var s,l,u,c=this._blendMode,h=this._opacity,d="normal"===c,p=re.nativeModes[c],f=d&&1===h||t.dontStart||t.clip||(p||d&&h<1)&&this._canComposite(),g=t.pixelRatio||1;if(!f){var v=this.getStrokeBounds(i);if(!v.width||!v.height)return void r.pop();u=t.offset,l=t.offset=v.getTopLeft().floor(),s=e,e=ne.getContext(v.getSize().ceil().add(1).multiply(g)),1!==g&&e.scale(g,g)}e.save();var m=n?n.appended(a):this._canScaleStroke&&!this.getStrokeScaling(!0)&&i,_=!f&&t.clipItem,y=!m||_;if(f?(e.globalAlpha=h,p&&(e.globalCompositeOperation=c)):y&&e.translate(-l.x,-l.y),y&&(f?a:i).applyToContext(e),_&&t.clipItem.draw(e,t.extend({clip:!0})),m){e.setTransform(g,0,0,g,0,0);var b=t.offset;b&&e.translate(-b.x,-b.y)}this._draw(e,t,i,m),e.restore(),r.pop(),t.clip&&!t.dontFinish&&e.clip(this.getFillRule()),f||(re.process(c,e,s,h,l.subtract(u).multiply(g)),ne.release(e),t.offset=u)}}},_isUpdated:function(e){var t=this._parent;if(t instanceof O)return t._isUpdated(e);var n=this._updateVersion===e;return!n&&t&&t._visible&&t._isUpdated(e)&&(this._updateVersion=e,n=!0),n},_drawSelection:function(e,t,n,r,i){var a=this._selection,o=1&a,s=2&a||o&&this._selectBounds,l=4&a;if(this._drawSelected||(o=!1),(o||s||l)&&this._isUpdated(i)){var u,c=this.getSelectedColor(!0)||(u=this.getLayer())&&u.getSelectedColor(!0),h=t.appended(this.getGlobalMatrix(!0)),d=n/2;if(e.strokeStyle=e.fillStyle=c?c.toCanvasStyle(e):"#009dec",o&&this._drawSelected(e,h,r),l){var p=this.getPosition(!0),f=this._parent,g=f?f.localToGlobal(p):p,v=g.x,m=g.y;e.beginPath(),e.arc(v,m,d,0,2*Math.PI,!0),e.stroke();for(var _=[[0,-1],[1,0],[0,1],[-1,0]],y=d,b=n+1,w=0;w<4;w++){var C=_[w],x=C[0],S=C[1];e.moveTo(v+x*y,m+S*y),e.lineTo(v+x*b,m+S*b),e.stroke()}}if(s){var E=h._transformCorners(this.getInternalBounds());e.beginPath();for(w=0;w<8;w++)e[w?"lineTo":"moveTo"](E[w],E[++w]);e.closePath(),e.stroke();for(w=0;w<8;w++)e.fillRect(E[w]-d,E[++w]-d,n,n)}}},_canComposite:function(){return!1}},z.each(["down","drag","up","move"],function(t){this["removeOn"+z.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(e){for(var t in e)if(e[t]){var n="mouse"+t,r=this._project,i=r._removeSets=r._removeSets||{};i[n]=i[n]||{},i[n][this._id]=this}return this}}),{tween:function(e,t,n){n||(n=t,t=e,e=null,n||(n=t,t=null));var r=n&&n.easing,i=n&&n.start,a=null!=n&&("number"==typeof n?n:n.duration),o=new ee(this,e,t,a,r,i);return a&&this.on("frame",function onFrame(e){o._handleFrame(1e3*e.time),o.running||this.off("frame",onFrame)}),o},tweenTo:function(e,t){return this.tween(null,e,t)},tweenFrom:function(e,t){return this.tween(e,null,t)}}),y=S.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function Group(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments)},_changed:function _changed(e){_changed.base.call(this,e),2050&e&&(this._clipItem=B)},_getClipItem:function(){var e=this._clipItem;if(e===B){e=null;for(var t=this._children,n=0,r=t.length;n<r;n++)if(t[n]._clipMask){e=t[n];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(e){var t=this.getFirstChild();t&&t.setClipMask(e)},_getBounds:function _getBounds(e,t){var n=this._getClipItem();return n?n._getCachedBounds(n._matrix.prepended(e),z.set({},t,{stroke:!1})):_getBounds.base.call(this,e,t)},_hitTestChildren:function _hitTestChildren(e,t,n){var r=this._getClipItem();return(!r||r.contains(e))&&_hitTestChildren.base.call(this,e,t,n,r)},_draw:function(e,t){var n=t.clip,r=!n&&this._getClipItem();t=t.extend({clipItem:r,clip:!1}),n?(e.beginPath(),t.dontStart=t.dontFinish=!0):r&&r.draw(e,t.extend({clip:!0}));for(var i=this._children,a=0,o=i.length;a<o;a++){var s=i[a];s!==r&&s.draw(e,t)}}}),s=y.extend({_class:"Layer",initialize:function Layer(){y.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function isInserted(){return this._parent?isInserted.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),b=S.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function Shape(e,t){this._initialize(e,t)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&z.equals(this._radius,e._radius)},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius)},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",setShape:"#setType",getSize:function(){var e=this._size;return new n(e.width,e.height,this,"setSize")},setSize:function(){var e=q.read(arguments);if(this._size){if(!this._size.equals(e)){var t=this._type,n=e.width,r=e.height;"rectangle"===t?this._radius.set(q.min(this._radius,e.divide(2))):"circle"===t?(n=r=(n+r)/2,this._radius=n/2):"ellipse"===t&&this._radius._set(n/2,r/2),this._size._set(n,r),this._changed(9)}}else this._size=e.clone()},getRadius:function(){var e=this._radius;return"circle"===this._type?e:new n(e.width,e.height,this,"setRadius")},setRadius:function(e){var t=this._type;if("circle"===t){if(e===this._radius)return;var n=2*e;this._radius=e,this._size._set(n,n)}else if(e=q.read(arguments),this._radius){if(this._radius.equals(e))return;if(this._radius.set(e),"rectangle"===t){n=q.max(this._size,e.multiply(2));this._size.set(n)}else"ellipse"===t&&this._size._set(2*e.width,2*e.height)}else this._radius=e.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(e){var t=new(I[z.capitalize(this._type)])({center:new W,size:this._size,radius:this._radius,insert:!1});return t.copyAttributes(this),oe.settings.applyMatrix&&t.setApplyMatrix(!0),e!==B&&!e||t.insertAbove(this),t},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(e,t,n,r){var i=this._style,a=i.hasFill(),o=i.hasStroke(),s=t.dontFinish||t.clip,l=!r;if(a||o||s){var u=this._type,c=this._radius,h="circle"===u;if(t.dontStart||e.beginPath(),l&&h)e.arc(0,0,c,0,2*Math.PI,!0);else{var d=h?c:c.width,p=h?c:c.height,f=this._size,g=f.width,v=f.height;if(l&&"rectangle"===u&&0===d&&0===p)e.rect(-g/2,-v/2,g,v);else{var m=g/2,_=v/2,y=.44771525016920644,b=d*y,w=p*y,C=[-m,-_+p,-m,w-_,b-m,-_,-m+d,-_,m-d,-_,m-b,-_,m,w-_,m,-_+p,m,_-p,m,_-w,m-b,_,m-d,_,-m+d,_,b-m,_,-m,_-w,-m,_-p];r&&r.transform(C,C,32),e.moveTo(C[0],C[1]),e.bezierCurveTo(C[2],C[3],C[4],C[5],C[6],C[7]),m!==d&&e.lineTo(C[8],C[9]),e.bezierCurveTo(C[10],C[11],C[12],C[13],C[14],C[15]),_!==p&&e.lineTo(C[16],C[17]),e.bezierCurveTo(C[18],C[19],C[20],C[21],C[22],C[23]),m!==d&&e.lineTo(C[24],C[25]),e.bezierCurveTo(C[26],C[27],C[28],C[29],C[30],C[31])}}e.closePath()}s||!a&&!o||(this._setStyles(e,t,n),a&&(e.fill(i.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),o&&e.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,t){var n=new P(this._size).setCenter(0,0),r=this._style,i=t.stroke&&r.hasStroke()&&r.getStrokeWidth();return e&&(n=e._transformBounds(n)),i?n.expand(I._getStrokePadding(i,this._getStrokeMatrix(e,t))):n}},new function(){function getCornerCenter(e,t,n){var r=e._radius;if(!r.isZero())for(var i=e._size.divide(2),a=1;a<=4;a++){var o=new W(1<a&&a<4?-1:1,2<a?-1:1),s=o.multiply(i),l=s.subtract(o.multiply(r));if(new P(n?s.add(o.multiply(n)):s,l).contains(t))return{point:l,quadrant:a}}}function isOnEllipseStroke(e,t,n,r){var i=e.divide(t);return(!r||i.isInQuadrant(r))&&i.subtract(i.normalize()).multiply(t).divide(n).length<=1}return{_contains:function _contains(e){if("rectangle"!==this._type)return e.divide(this.size).getLength()<=.5;var t=getCornerCenter(this,e);return t?e.subtract(t.point).divide(this._radius).getLength()<=1:_contains.base.call(this,e)},_hitTestSelf:function _hitTestSelf(e,t,n,r){var i=!1,a=this._style,o=t.stroke&&a.hasStroke(),s=t.fill&&a.hasFill();if(o||s){var l=this._type,u=this._radius,c=o?a.getStrokeWidth()/2:0,h=t._tolerancePadding.add(I._getStrokePadding(c,!a.getStrokeScaling()&&r));if("rectangle"===l){var d=h.multiply(2),p=getCornerCenter(this,e,d);if(p)i=isOnEllipseStroke(e.subtract(p.point),u,h,p.quadrant);else{var f=new P(this._size).setCenter(0,0),g=f.expand(d),v=f.expand(d.negate());i=g._containsPoint(e)&&!v._containsPoint(e)}}else i=isOnEllipseStroke(e,u,h)}return i?new E(o?"stroke":"fill",this):_hitTestSelf.base.apply(this,arguments)}}},{statics:new function(){function createShape(e,t,n,r,i){var a=new b(z.getNamed(i),t);return a._type=e,a._size=n,a._radius=r,a}return{Circle:function(){var e=W.readNamed(arguments,"center"),t=z.readNamed(arguments,"radius");return createShape("circle",e,new q(2*t),t,arguments)},Rectangle:function(){var e=P.readNamed(arguments,"rectangle"),t=q.min(q.readNamed(arguments,"radius"),e.getSize(!0).divide(2));return createShape("rectangle",e.getCenter(!0),e.getSize(!0),t,arguments)},Ellipse:function(){var e=b._readEllipse(arguments),t=e.radius;return createShape("ellipse",e.center,t.multiply(2),t,arguments)},_readEllipse:function(e){var t,n;if(z.hasNamed(e,"radius"))t=W.readNamed(e,"center"),n=q.readNamed(e,"radius");else{var r=P.readNamed(e,"rectangle");t=r.getCenter(!0),n=r.getSize(!0).divide(2)}return{center:t,radius:n}}}}}),g=S.extend({},{_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:!0,beans:!0,initialize:function Raster(e,t){if(!this._initialize(e,t!==B&&W.read(arguments))){var n,r=typeof e,i="string"==r?T.getElementById(e):"object"==r?e:null;if(i&&i!==S.NO_INSERT)if(i.getContent||null!=i.naturalHeight)n=i;else if(i){var a=q.read(arguments);a.isZero()||(n=ne.getCanvas(a))}n?this.setImage(n):this.setSource(e)}this._size||(this._size=new q,this._loaded=!1)},_equals:function(e){return this.getSource()===e.getSource()},copyContent:function(e){var t=e._image,n=e._canvas;if(t)this._setImage(t);else if(n){var r=ne.getCanvas(e._size);r.getContext("2d").drawImage(n,0,0),this._setImage(r)}this._crossOrigin=e._crossOrigin},getSize:function(){var e=this._size;return new n(e?e.width:0,e?e.height:0,this,"setSize")},setSize:function(){var e=q.read(arguments);if(!e.equals(this._size))if(0<e.width&&0<e.height){var t=this.getElement();this._setImage(ne.getCanvas(e)),t&&this.getContext(!0).drawImage(t,0,0,e.width,e.height)}else this._canvas&&ne.release(this._canvas),this._size=e.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){this.setSize(this.getWidth(),e)},getLoaded:function(){return this._loaded},isEmpty:function(){var e=this._size;return!e||0===e.width&&0===e.height},getResolution:function(){var e=this._matrix,t=new W(0,0).transform(e),n=new W(1,0).transform(e).subtract(t),r=new W(0,1).transform(e).subtract(t);return new q(72/n.getLength(),72/r.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){var r=this;function emit(e){var t=r.getView(),n=e&&e.type||"load";t&&r.responds(n)&&(oe=t._scope,r.emit(n,new j(e)))}this._setImage(t),this._loaded?setTimeout(emit,0):t&&D.add(t,{load:function(e){r._setImage(t),emit(e)},error:emit})},_setImage:function(e){this._canvas&&ne.release(this._canvas),e&&e.getContext?(this._image=null,this._canvas=e,this._loaded=!0):(this._image=e,this._canvas=null,this._loaded=!!(e&&e.src&&e.complete)),this._size=new q(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var t=ne.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch(e){ne.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(e){return this._context||(this._context=this.getCanvas().getContext("2d")),e&&(this._image=null,this._changed(1025)),this._context},setContext:function(e){this._context=e},getSource:function(){var e=this._image;return e&&e.src||this.toDataURL()},setSource:function(e){var t=new p.Image,n=this._crossOrigin;n&&(t.crossOrigin=n),e&&(t.src=e),this.setImage(t)},getCrossOrigin:function(){var e=this._image;return e&&e.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(e){this._crossOrigin=e;var t=this._image;t&&(t.crossOrigin=e)},getSmoothing:function(){return this._smoothing},setSmoothing:function(e){this._smoothing=e,this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var e=P.read(arguments),t=ne.getContext(e.getSize());return t.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),t.canvas},getSubRaster:function(){var e=P.read(arguments),t=new g(S.NO_INSERT);return t._setImage(this.getSubCanvas(e)),t.translate(e.getCenter().subtract(this.getSize().divide(2))),t._matrix.prepend(this._matrix),t.insertAbove(this),t},toDataURL:function(){var e=this._image,t=e&&e.src;if(/^data:/.test(t))return t;var n=this.getCanvas();return n?n.toDataURL.apply(n,arguments):null},drawImage:function(e){var t=W.read(arguments,1);this.getContext(!0).drawImage(e,t.x,t.y)},getAverageColor:function(e){var t,n;if(e?e instanceof x?t=(n=e).getBounds():"object"==typeof e&&("width"in e?t=new P(e):"x"in e&&(t=new P(e.x-.5,e.y-.5,1,1))):t=this.getBounds(),!t)return null;var r=Math.min(t.width,32),i=Math.min(t.height,32),a=g._sampleContext;a?a.clearRect(0,0,33,33):a=g._sampleContext=ne.getContext(new q(32)),a.save();var o=(new Q).scale(r/t.width,i/t.height).translate(-t.x,-t.y);o.applyToContext(a),n&&n.draw(a,new z({clip:!0,matrices:[o]})),this._matrix.applyToContext(a);var s=this.getElement(),l=this._size;s&&a.drawImage(s,-l.width/2,-l.height/2),a.restore();for(var u=a.getImageData(.5,.5,Math.ceil(r),Math.ceil(i)).data,c=[0,0,0],h=0,d=0,p=u.length;d<p;d+=4){var f=u[d+3];h+=f,f/=255,c[0]+=u[d]*f,c[1]+=u[d+1]*f,c[2]+=u[d+2]*f}for(d=0;d<3;d++)c[d]/=h;return h?A.read(c):null},getPixel:function(){var e=W.read(arguments),t=this.getContext().getImageData(e.x,e.y,1,1).data;return new A("rgb",[t[0]/255,t[1]/255,t[2]/255],t[3]/255)},setPixel:function(){var e=W.read(arguments),t=A.read(arguments),n=t._convert("rgb"),r=t._alpha,i=this.getContext(!0),a=i.createImageData(1,1),o=a.data;o[0]=255*n[0],o[1]=255*n[1],o[2]=255*n[2],o[3]=null!=r?255*r:255,i.putImageData(a,e.x,e.y)},clear:function(){var e=this._size;this.getContext(!0).clearRect(0,0,e.width+1,e.height+1)},createImageData:function(){var e=q.read(arguments);return this.getContext().createImageData(e.width,e.height)},getImageData:function(){var e=P.read(arguments);return e.isEmpty()&&(e=new P(this._size)),this.getContext().getImageData(e.x,e.y,e.width,e.height)},setImageData:function(e){var t=W.read(arguments,1);this.getContext(!0).putImageData(e,t.x,t.y)},_getBounds:function(e,t){var n=new P(this._size).setCenter(0,0);return e?e._transformBounds(n):n},_hitTestSelf:function(e){if(this._contains(e)){var t=this;return new E("pixel",t,{offset:e.add(t._size.divide(2)).round(),color:{get:function(){return t.getPixel(this.offset)}}})}},_draw:function(e,t,n){var r=this.getElement();r&&0<r.width&&0<r.height&&(e.globalAlpha=this._opacity,this._setStyles(e,t,n),M.setPrefixed(e,"imageSmoothingEnabled",this._smoothing),e.drawImage(r,-this._size.width/2,-this._size.height/2))},_canComposite:function(){return!0}}),o=S.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function SymbolItem(e,t){this._initialize(e,t!==B&&W.read(arguments,1))||this.setDefinition(e instanceof C?e:new C(e))},_equals:function(e){return this._definition===e._definition},copyContent:function(e){this.setDefinition(e._definition)},getDefinition:function(){return this._definition},setDefinition:function(e){this._definition=e,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(e,t){var n=this._definition._item;return n._getCachedBounds(n._matrix.prepended(e),t)},_hitTestSelf:function(e,t,n){var r=this._definition._item._hitTest(e,t,n);return r&&(r.item=this),r},_draw:function(e,t){this._definition._item.draw(e,t)}}),C=z.extend({_class:"SymbolDefinition",initialize:function SymbolDefinition(e,t){this._id=u.get(),this.project=oe.project,e&&this.setItem(e,t)},_serialize:function(e,t){return t.add(this,function(){return z.serialize([this._class,this._item],e,!1,t)})},_changed:function(e){8&e&&S._clearBoundsCache(this),1&e&&this.project._changed(e)},getItem:function(){return this._item},setItem:function(e,t){e._symbol&&(e=e.clone()),this._item&&(this._item._symbol=null),(this._item=e).remove(),e.setSelected(!1),t||e.setPosition(new W),(e._symbol=this)._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(e){return new o(this,e)},clone:function(){return new C(this._item.clone(!1))},equals:function(e){return e===this||e&&this._item.equals(e._item)||!1}}),E=z.extend({_class:"HitResult",initialize:function HitResult(e,t,n){this.type=e,this.item=t,n&&this.inject(n)},statics:{getOptions:function(e){var t=e&&z.read(e);return z.set({type:null,tolerance:oe.settings.hitTolerance,fill:!t,stroke:!t,segments:!t,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},t)}}}),G=z.extend({_class:"Segment",beans:!0,_selection:0,initialize:function Segment(e,t,n,r,i,a){var o,s,l,u,c=arguments.length;0<c&&(null==e||"object"==typeof e?u=1===c&&e&&"point"in e?(o=e.point,s=e.handleIn,l=e.handleOut,e.selection):(o=e,s=t,l=n,r):(o=[e,t],s=n!==B?[n,r]:null,l=i!==B?[i,a]:null)),new d(o,this,"_point"),new d(s,this,"_handleIn"),new d(l,this,"_handleOut"),u&&this.setSelection(u)},_serialize:function(e,t){var n=this._point,r=this._selection,i=r||this.hasHandles()?[n,this._handleIn,this._handleOut]:n;return r&&i.push(r),z.serialize(i,e,!0,t)},_changed:function(e){var t=this._path;if(t){var n,r=t._curves,i=this._index;r&&(e&&e!==this._point&&e!==this._handleIn||!(n=0<i?r[i-1]:t._closed?r[r.length-1]:null)||n._changed(),e&&e!==this._point&&e!==this._handleOut||!(n=r[i])||n._changed()),t._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(W.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(W.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(W.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var e=this._handleIn,t=this._handleOut;return!e.isZero()&&!t.isZero()&&e.isCollinear(t)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(e){var t=this._selection,n=this._path;this._selection=e=e||0,n&&e!==t&&(n._updateSelection(this,t,e),n._changed(257))},_changeSelection:function(e,t){var n=this._selection;this.setSelection(t?n|e:n&~e)},isSelected:function(){return!!(7&this._selection)},setSelected:function(e){this._changeSelection(7,e)},getIndex:function(){return this._index!==B?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var e=this._path,t=this._index;return e?(0<t&&!e._closed&&t===e._segments.length-1&&t--,e.getCurves()[t]||null):null},getLocation:function(){var e=this.getCurve();return e?new _(e,this===e._segment1?0:1):null},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null},smooth:function(e,t,n){var r=e||{},i=r.type,a=r.factor,o=this.getPrevious(),s=this.getNext(),l=(o||this)._point,u=this._point,c=(s||this)._point,h=l.getDistance(u),d=u.getDistance(c);if(i&&"catmull-rom"!==i){if("geometric"!==i)throw new Error("Smoothing method '"+i+"' not supported.");if(o&&s){var p=l.subtract(c),f=a===B?.4:a,g=f*h/(h+d);t||this.setHandleIn(p.multiply(g)),n||this.setHandleOut(p.multiply(g-f))}}else{var v=a===B?.5:a,m=Math.pow(h,v),_=m*m,y=Math.pow(d,v),b=y*y;if(!t&&o){var w=2*b+3*y*m+_,C=3*y*(y+m);this.setHandleIn(0!==C?new W((b*l._x+w*u._x-_*c._x)/C-u._x,(b*l._y+w*u._y-_*c._y)/C-u._y):new W)}if(!n&&s){w=2*_+3*m*y+b,C=3*m*(m+y);this.setHandleOut(0!==C?new W((_*c._x+w*u._x-b*l._x)/C-u._x,(_*c._y+w*u._y-b*l._y)/C-u._y):new W)}}},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1},reverse:function(){var e=this._handleIn,t=this._handleOut,n=e.clone();e.set(t),t.set(n)},reversed:function(){return new G(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new G(this._point,this._handleIn,this._handleOut)},equals:function(e){return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1},toString:function(){var e=["point: "+this._point];return this._handleIn.isZero()||e.push("handleIn: "+this._handleIn),this._handleOut.isZero()||e.push("handleOut: "+this._handleOut),"{ "+e.join(", ")+" }"},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed()},interpolate:function(e,t,n){var r=1-n,i=n,a=e._point,o=t._point,s=e._handleIn,l=t._handleIn,u=t._handleOut,c=e._handleOut;this._point._set(r*a._x+i*o._x,r*a._y+i*o._y,!0),this._handleIn._set(r*s._x+i*l._x,r*s._y+i*l._y,!0),this._handleOut._set(r*c._x+i*u._x,r*c._y+i*u._y,!0),this._changed()},_transformCoordinates:function(e,t,n){var r=this._point,i=n&&this._handleIn.isZero()?null:this._handleIn,a=n&&this._handleOut.isZero()?null:this._handleOut,o=r._x,s=r._y,l=2;return t[0]=o,t[1]=s,i&&(t[l++]=i._x+o,t[l++]=i._y+s),a&&(t[l++]=a._x+o,t[l++]=a._y+s),e&&(e._transformCoordinates(t,t,l/2),o=t[0],s=t[1],n?(r._x=o,r._y=s,l=2,i&&(i._x=t[l++]-o,i._y=t[l++]-s),a&&(a._x=t[l++]-o,a._y=t[l++]-s)):(i||(t[l++]=o,t[l++]=s),a||(t[l++]=o,t[l++]=s))),t}}),d=W.extend({initialize:function SegmentPoint(e,t,n){var r,i,a;if(e)if((r=e[0])!==B)i=e[1];else{var o=e;(r=o.x)===B&&(r=(o=W.read(arguments)).x),i=o.y,a=o.selected}else r=i=0;this._x=r,this._y=i,(this._owner=t)[n]=this,a&&this.setSelected(!0)},_set:function(e,t){return this._x=e,this._y=t,this._owner._changed(this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){var e=U.isZero;return e(this._x)&&e(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){var e=this._owner;return this===e._point?1:this===e._handleIn?2:this===e._handleOut?4:0}}),K=z.extend({_class:"Curve",beans:!0,initialize:function Curve(e,t,n,r,i,a,o,s){var l,u,c,h,d,p,f=arguments.length;3===f?(this._path=e,l=t,u=n):f?1===f?"segment1"in e?(l=new G(e.segment1),u=new G(e.segment2)):"point1"in e?(c=e.point1,d=e.handle1,p=e.handle2,h=e.point2):Array.isArray(e)&&(c=[e[0],e[1]],h=[e[6],e[7]],d=[e[2]-e[0],e[3]-e[1]],p=[e[4]-e[6],e[5]-e[7]]):2===f?(l=new G(e),u=new G(t)):4===f?(c=e,d=t,p=n,h=r):8===f&&(c=[e,t],h=[o,s],d=[n-e,r-t],p=[i-o,a-s]):(l=new G,u=new G),this._segment1=l||new G(c,null,d),this._segment2=u||new G(h,p,null)},_serialize:function(e,t){return z.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0,t)},_changed:function(){this._length=this._bounds=B},clone:function(){return new K(this._segment1,this._segment2)},toString:function(){var e=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||e.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||e.push("handle2: "+this._segment2._handleIn),e.push("point2: "+this._segment2._point),"{ "+e.join(", ")+" }"},classify:function(){return K.classify(this.getValues())},remove:function(){var e=!1;if(this._path){var t=this._segment2,n=t._handleOut;(e=t.remove())&&this._segment1._handleOut.set(n)}return e},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(W.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(W.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(W.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(W.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var e=this._path;return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){return K.getValues(this._segment1,this._segment2,e)},getPoints:function(){for(var e=this.getValues(),t=[],n=0;n<8;n+=2)t.push(new W(e[n],e[n+1]));return t}},{getLength:function(){return null==this._length&&(this._length=K.getLength(this.getValues(),0,1)),this._length},getArea:function(){return K.getArea(this.getValues())},getLine:function(){return new H(this._segment1._point,this._segment2._point)},getPart:function(e,t){return new K(K.getPart(this.getValues(),e,t))},getPartLength:function(e,t){return K.getLength(this.getValues(),e,t)},divideAt:function(e){return this.divideAtTime(e&&e.curve===this?e.time:this.getTimeAt(e))},divideAtTime:function(e,t){var n=null;if(1e-8<=e&&e<=1-1e-8){var r=K.subdivide(this.getValues(),e),i=r[0],a=r[1],o=t||this.hasHandles(),s=this._segment1,l=this._segment2,u=this._path;o&&(s._handleOut._set(i[2]-i[0],i[3]-i[1]),l._handleIn._set(a[4]-a[6],a[5]-a[7]));var c=i[6],h=i[7],d=new G(new W(c,h),o&&new W(i[4]-c,i[5]-h),o&&new W(a[2]-c,a[3]-h));n=u?(u.insert(s._index+1,d),this.getNext()):(this._segment2=d,this._changed(),new K(d,l))}return n},splitAt:function(e){var t=this._path;return t?t.splitAt(e):null},splitAtTime:function(e){return this.splitAt(this.getLocationAtTime(e))},divide:function(e,t){return this.divideAtTime(e===B?.5:t?e:this.getTimeAt(e))},split:function(e,t){return this.splitAtTime(e===B?.5:t?e:this.getTimeAt(e))},reversed:function(){return new K(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(e,t,n,r){var i=e._point,a=e._handleOut,o=t._handleIn,s=t._point,l=i.x,u=i.y,c=s.x,h=s.y,d=r?[l,u,l,u,c,h,c,h]:[l,u,l+a._x,u+a._y,c+o._x,h+o._y,c,h];return n&&n._transformCoordinates(d,d,4),d},subdivide:function(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7];t===B&&(t=.5);var c=1-t,h=c*n+t*i,d=c*r+t*a,p=c*i+t*o,f=c*a+t*s,g=c*o+t*l,v=c*s+t*u,m=c*h+t*p,_=c*d+t*f,y=c*p+t*g,b=c*f+t*v,w=c*m+t*y,C=c*_+t*b;return[[n,r,h,d,m,_,w,C],[w,C,y,b,g,v,l,u]]},getMonoCurves:function(e,t){var n=[],r=t?0:1,i=e[0+r],a=e[2+r],o=e[4+r],s=e[6+r];if(a<=i==o<=a&&o<=a==s<=o||K.isStraight(e))n.push(e);else{var l=3*(a-o)-i+s,u=2*(i+o)-4*a,c=a-i,h=[],d=U.solveQuadratic(l,u,c,h,1e-8,1-1e-8);if(d){h.sort();var p=h[0],f=K.subdivide(e,p);n.push(f[0]),1<d&&(p=(h[1]-p)/(1-p),f=K.subdivide(f[1],p),n.push(f[0])),n.push(f[1])}else n.push(e)}return n},solveCubic:function(e,t,n,r,i,a){var o=e[t],s=e[t+2],l=e[t+4],u=e[t+6],c=0;if(!(o<n&&u<n&&s<n&&l<n||n<o&&n<u&&n<s&&n<l)){var h=3*(s-o),d=3*(l-s)-h,p=u-o-h-d;c=U.solveCubic(p,d,h,o-n,r,i,a)}return c},getTimeOf:function(e,t){var n=new W(e[0],e[1]),r=new W(e[6],e[7]);if(null===(t.isClose(n,1e-12)?0:t.isClose(r,1e-12)?1:null))for(var i=[t.x,t.y],a=[],o=0;o<2;o++)for(var s=K.solveCubic(e,o,i[o],a,0,1),l=0;l<s;l++){var u=a[l];if(t.isClose(K.getPoint(e,u),1e-7))return u}return t.isClose(n,1e-7)?0:t.isClose(r,1e-7)?1:null},getNearestTime:function(n,r){if(K.isStraight(n)){var e=n[0],t=n[1],i=n[6]-e,a=n[7]-t,o=i*i+a*a;if(0==o)return 0;var s=((r.x-e)*i+(r.y-t)*a)/o;return s<1e-12?0:.999999999999<s?1:K.getTimeOf(n,new W(e+s*i,t+s*a))}var l=1/0,u=0;function refine(e){if(0<=e&&e<=1){var t=r.getDistance(K.getPoint(n,e),!0);if(t<l)return l=t,u=e,!0}}for(var c=0;c<=100;c++)refine(c/100);for(var h=.005;1e-8<h;)refine(u-h)||refine(u+h)||(h/=2);return u},getPart:function(e,t,n){var r=n<t;if(r){var i=t;t=n,n=i}return 0<t&&(e=K.subdivide(e,t)[1]),n<1&&(e=K.subdivide(e,(n-t)/(1-t))[0]),r?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e},isFlatEnough:function(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=3*i-2*n-l,h=3*a-2*r-u,d=3*o-2*l-n,p=3*s-2*u-r;return Math.max(c*c,d*d)+Math.max(h*h,p*p)<=16*t*t},getArea:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7];return 3*((l-n)*(r+a)-(s-t)*(i+o)+i*(t-a)-r*(n-o)+l*(a+t/3)-s*(o+n/3))/20},getBounds:function(e){for(var t=e.slice(0,2),n=t.slice(),r=[0,0],i=0;i<2;i++)K._addBounds(e[i],e[i+2],e[i+4],e[i+6],i,0,t,n,r);return new P(t[0],t[1],n[0]-t[0],n[1]-t[1])},_addBounds:function(e,t,n,r,i,a,o,s,l){function add(e,t){var n=e-t,r=e+t;n<o[i]&&(o[i]=n),r>s[i]&&(s[i]=r)}a/=2;var u=o[i]-a,c=s[i]+a;if(e<u||t<u||n<u||r<u||c<e||c<t||c<n||c<r)if(t<e!=t<r&&n<e!=n<r)add(e,a),add(r,a);else{var h=3*(t-n)-e+r,d=2*(e+n)-4*t,p=t-e,f=U.solveQuadratic(h,d,p,l);add(r,0);for(var g=0;g<f;g++){var v=l[g],m=1-v;1e-8<=v&&v<=1-1e-8&&add(m*m*m*e+3*m*m*v*t+3*m*v*v*n+v*v*v*r,a)}}}}},z.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return(e=e||(this._bounds[t]=I[t]([this._segment1,this._segment2],!1,this._path))).clone()}},{}),z.each({isStraight:function(e,t,n,r){if(t.isZero()&&n.isZero())return!0;var i=r.subtract(e);if(i.isZero())return!1;if(i.isCollinear(t)&&i.isCollinear(n)){var a=new H(e,r);if(a.getDistance(e.add(t))<1e-7&&a.getDistance(r.add(n))<1e-7){var o=i.dot(i),s=i.dot(t)/o,l=i.dot(n)/o;return 0<=s&&s<=1&&l<=0&&-1<=l}}return!1},isLinear:function(e,t,n,r){var i=r.subtract(e).divide(3);return t.equals(i)&&n.negate().equals(i)}},function(o,e){this[e]=function(e){var t=this._segment1,n=this._segment2;return o(t._point,t._handleOut,n._handleIn,n._point,e)},this.statics[e]=function(e,t){var n=e[0],r=e[1],i=e[6],a=e[7];return o(new W(n,r),new W(e[2]-n,e[3]-r),new W(e[4]-i,e[5]-a),new W(i,a),t)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(e){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(e||0)},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(e,t){return this.getLocationAtTime(t?e:this.getTimeAt(e))},getLocationAtTime:function(e){return null!=e&&0<=e&&e<=1?new _(this,e):null},getTimeAt:function(e,t){return K.getTimeAt(this.getValues(),e,t)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var e=W.read(arguments);return e.isZero()?[]:K.getTimesWithTangent(this.getValues(),e)},getOffsetAtTime:function(e){return this.getPartLength(0,e)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(W.read(arguments)))},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getTimeOf:function(){return K.getTimeOf(this.getValues(),W.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var e=W.read(arguments),t=this.getValues(),n=K.getNearestTime(t,e),r=K.getPoint(t,n);return new _(this,n,r,null,e.getDistance(r))},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e?e.getPoint():e}},new function(){var e=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return z.each(e,function(r){this[r+"At"]=function(e,t){var n=this.getValues();return K[r](n,t?e:K.getTimeAt(n,e))},this[r+"AtTime"]=function(e){return K[r](this.getValues(),e)}},{statics:{_evaluateMethods:e}})},new function(){function getLengthIntegrand(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=9*(r-a)+3*(s-t),c=6*(t+a)-12*r,h=3*(r-t),d=9*(i-o)+3*(l-n),p=6*(n+o)-12*i,f=3*(i-n);return function(e){var t=(u*e+c)*e+h,n=(d*e+p)*e+f;return Math.sqrt(t*t+n*n)}}function getIterations(e,t){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(t-e))))}function evaluate(e,t,n,r){if(null==t||t<0||1<t)return null;var i=e[0],a=e[1],o=e[2],s=e[3],l=e[4],u=e[5],c=e[6],h=e[7],d=U.isZero;d(o-i)&&d(s-a)&&(o=i,s=a),d(l-c)&&d(u-h)&&(l=c,u=h);var p,f,g=3*(o-i),v=3*(l-o)-g,m=c-i-g-v,_=3*(s-a),y=3*(u-s)-_,b=h-a-_-y;if(0===n)p=0===t?i:1===t?c:((m*t+v)*t+g)*t+i,f=0===t?a:1===t?h:((b*t+y)*t+_)*t+a;else{if(f=t<1e-8?(p=g,_):1-1e-8<t?(p=3*(c-l),3*(h-u)):(p=(3*m*t+2*v)*t+g,(3*b*t+2*y)*t+_),r){0===p&&0===f&&(t<1e-8||1-1e-8<t)&&(p=l-o,f=u-s);var w=Math.sqrt(p*p+f*f);w&&(p/=w,f/=w)}if(3===n){l=6*m*t+2*v,u=6*b*t+2*y;var C=Math.pow(p*p+f*f,1.5);p=0!==C?(p*u-f*l)/C:0,f=0}}return 2===n?new W(f,-p):new W(p,f)}return{statics:{classify:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=r*(n-l)+i*(s-t)+t*l-n*s,c=3*(a*(i-n)+o*(t-r)+r*n-i*t),h=c-u,d=h-u+(t*(l-o)+n*(a-s)+s*o-l*a),p=Math.sqrt(d*d+h*h+c*c),f=0!==p?1/p:0,g=U.isZero,v="serpentine";function type(e,t,n){var r=t!==B,i=r&&0<t&&t<1,a=r&&0<n&&n<1;return!r||(i||a)&&("loop"!==e||i&&a)||(i=a=!(e="arch")),{type:e,roots:i||a?i&&a?t<n?[t,n]:[n,t]:[i?t:n]:null}}if(h*=f,c*=f,g(d*=f))return g(h)?type(g(c)?"line":"quadratic"):type(v,c/(3*h));var m=3*h*h-4*d*c;if(g(m))return type("cusp",h/(2*d));var _=0<m?Math.sqrt(m/3):Math.sqrt(-m),y=2*d;return type(0<m?v:"loop",(h+_)/y,(h-_)/y)},getLength:function(e,t,n,r){if(t===B&&(t=0),n===B&&(n=1),K.isStraight(e)){var i=e;n<1&&(i=K.subdivide(i,n)[0],t/=n),0<t&&(i=K.subdivide(i,t)[1]);var a=i[6]-i[0],o=i[7]-i[1];return Math.sqrt(a*a+o*o)}return U.integrate(r||getLengthIntegrand(e),t,n,getIterations(t,n))},getTimeAt:function(e,t,n){if(n===B&&(n=t<0?1:0),0===t)return n;var r=Math.abs,i=0<t,a=i?n:0,o=i?1:n,s=getLengthIntegrand(e),l=K.getLength(e,a,o,s),u=r(t)-l;if(r(u)<1e-12)return i?o:a;if(1e-12<u)return null;var c=t/l,h=0;return U.findRoot(function f(e){return h+=U.integrate(s,n,e,getIterations(n,e)),n=e,h-t},s,n+c,a,o,32,1e-12)},getPoint:function(e,t){return evaluate(e,t,0,!1)},getTangent:function(e,t){return evaluate(e,t,1,!0)},getWeightedTangent:function(e,t){return evaluate(e,t,1,!1)},getNormal:function(e,t){return evaluate(e,t,2,!0)},getWeightedNormal:function(e,t){return evaluate(e,t,2,!1)},getCurvature:function(e,t){return evaluate(e,t,3,!1).x},getPeaks:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=3*r-t-3*a+e[6],l=3*t-6*r+3*a,u=-3*t+3*r,c=3*i-n-3*o+e[7],h=3*n-6*i+3*o,d=-3*n+3*i,p=[];return U.solveCubic(9*(s*s+c*c),9*(s*l+h*c),2*(l*l+h*h)+3*(u*s+d*c),u*l+h*d,p,1e-8,1-1e-8),p.sort()}}}},new function(){function addLocation(e,t,n,r,i,a,o){var s=!o&&n.getPrevious()===i,l=!o&&n!==i&&n.getNext()===i;if(null!==r&&(s?1e-8:0)<=r&&r<=(l?1-1e-8:1)&&null!==a&&(l?1e-8:0)<=a&&a<=(s?1-1e-8:1)){var u=new _(n,r,null,o),c=new _(i,a,null,o);(u._intersection=c)._intersection=u,t&&!t(u)||_.insert(e,u,!0)}}function addCurveIntersections(e,t,n,r,i,a,o,s,l,u,c,h,d){if(4096<=++l||40<=++s)return l;var p,f,g=t[0],v=t[1],m=t[6],_=t[7],y=H.getSignedDistance,b=y(g,v,m,_,t[2],t[3]),w=y(g,v,m,_,t[4],t[5]),C=0<b*w?.75:4/9,x=C*Math.min(0,b,w),S=C*Math.max(0,b,w),E=y(g,v,m,_,e[0],e[1]),k=y(g,v,m,_,e[2],e[3]),T=y(g,v,m,_,e[4],e[5]),P=y(g,v,m,_,e[6],e[7]),I=function getConvexHull(e,t,n,r){var i,a=[0,e],o=[1/3,t],s=[2/3,n],l=[1,r],u=t-(2*e+r)/3,c=n-(e+2*r)/3;if(u*c<0)i=[[a,o,l],[a,s,l]];else{var h=u/c;i=[2<=h?[a,o,l]:h<=.5?[a,s,l]:[a,o,s,l],[a,l]]}return(u||c)<0?i.reverse():i}(E,k,T,P),O=I[0],N=I[1];if(0===b&&0===w&&0===E&&0===k&&0===T&&0===P||null==(p=clipConvexHull(O,N,x,S))||null==(f=clipConvexHull(O.reverse(),N.reverse(),x,S)))return l;var A=u+(c-u)*p,R=u+(c-u)*f;if(Math.max(d-h,R-A)<1e-9){var L=(A+R)/2,M=(h+d)/2;addLocation(i,a,o?r:n,o?M:L,o?n:r,o?L:M)}else if(e=K.getPart(e,p,f),.8<f-p)if(d-h<R-A){L=(A+R)/2;l=addCurveIntersections(t,(D=K.subdivide(e,.5))[0],r,n,i,a,!o,s,l,h,d,A,L),l=addCurveIntersections(t,D[1],r,n,i,a,!o,s,l,h,d,L,R)}else{var D;M=(h+d)/2;l=addCurveIntersections((D=K.subdivide(t,.5))[0],e,r,n,i,a,!o,s,l,h,M,A,R),l=addCurveIntersections(D[1],e,r,n,i,a,!o,s,l,M,d,A,R)}else l=1e-9<=d-h?addCurveIntersections(t,e,r,n,i,a,!o,s,l,h,d,A,R):addCurveIntersections(e,t,n,r,i,a,o,s,l,A,R,h,d);return l}function clipConvexHull(e,t,n,r){return e[0][1]<n?clipConvexHullPart(e,!0,n):t[0][1]>r?clipConvexHullPart(t,!1,r):e[0][0]}function clipConvexHullPart(e,t,n){for(var r=e[0][0],i=e[0][1],a=1,o=e.length;a<o;a++){var s=e[a][0],l=e[a][1];if(t?n<=l:l<=n)return l===n?s:r+(n-i)*(s-r)/(l-i);r=s,i=l}return null}function getCurveLineIntersections(e,t,n,r,i){var a=U.isZero;if(a(r)&&a(i)){var o=K.getTimeOf(e,new W(t,n));return null===o?[]:[o]}for(var s=Math.atan2(-i,r),l=Math.sin(s),u=Math.cos(s),c=[],h=[],d=0;d<8;d+=2){var p=e[d]-t,f=e[d+1]-n;c.push(p*u-f*l,p*l+f*u)}return K.solveCubic(c,1,0,h,0,1),h}function getCurveIntersections(e,t,n,r,i,a){var o=Math.min,s=Math.max;if(s(e[0],e[2],e[4],e[6])+1e-12>o(t[0],t[2],t[4],t[6])&&o(e[0],e[2],e[4],e[6])-1e-12<s(t[0],t[2],t[4],t[6])&&s(e[1],e[3],e[5],e[7])+1e-12>o(t[1],t[3],t[5],t[7])&&o(e[1],e[3],e[5],e[7])-1e-12<s(t[1],t[3],t[5],t[7])){var l=getOverlaps(e,t);if(l)for(var u=0;u<2;u++){var c=l[u];addLocation(i,a,n,c[0],r,c[1],!0)}else{var h=K.isStraight(e),d=K.isStraight(t),p=h&&d,f=h&&!d,g=i.length;if((p?function addLineIntersection(e,t,n,r,i,a){var o=H.intersect(e[0],e[1],e[6],e[7],t[0],t[1],t[6],t[7]);o&&addLocation(i,a,n,K.getTimeOf(e,o),r,K.getTimeOf(t,o))}:h||d?function addCurveLineIntersections(e,t,n,r,i,a,o){for(var s=t[0],l=t[1],u=getCurveLineIntersections(e,s,l,t[6]-s,t[7]-l),c=0,h=u.length;c<h;c++){var d=u[c],p=K.getPoint(e,d),f=K.getTimeOf(t,p);null!==f&&addLocation(i,a,o?r:n,o?f:d,o?n:r,o?d:f)}}:addCurveIntersections)(f?t:e,f?e:t,f?r:n,f?n:r,i,a,f,0,0,0,1,0,1),!p||i.length===g)for(u=0;u<4;u++){var v=u>>1,m=1&u,_=6*v,y=6*m,b=new W(e[_],e[1+_]),w=new W(t[y],t[1+y]);b.isClose(w,1e-12)&&addLocation(i,a,n,v,r,m)}}}return i}function getLoopIntersection(e,t,n,r){var i=K.classify(e);if("loop"===i.type){var a=i.roots;addLocation(n,r,t,a[0],t,a[1])}return n}function getOverlaps(e,t){function getSquaredLineLength(e){var t=e[6]-e[0],n=e[7]-e[1];return t*t+n*n}var n=Math.abs,r=H.getDistance,i=1e-7,a=K.isStraight(e),o=K.isStraight(t),s=a&&o,l=getSquaredLineLength(e)<getSquaredLineLength(t),u=l?t:e,c=l?e:t,h=u[0],d=u[1],p=u[6]-h,f=u[7]-d;if(r(h,d,p,f,c[0],c[1],!0)<i&&r(h,d,p,f,c[6],c[7],!0)<i)!s&&r(h,d,p,f,u[2],u[3],!0)<i&&r(h,d,p,f,u[4],u[5],!0)<i&&r(h,d,p,f,c[2],c[3],!0)<i&&r(h,d,p,f,c[4],c[5],!0)<i&&(a=o=s=!0);else if(s)return null;if(a^o)return null;for(var g=[e,t],v=[],m=0;m<4&&v.length<2;m++){var _=1&m,y=1^_,b=m>>1,w=K.getTimeOf(g[_],new W(g[y][b?6:0],g[y][b?7:1]));if(null!=w){var C=_?[b,w]:[w,b];(!v.length||1e-8<n(C[0]-v[0][0])&&1e-8<n(C[1]-v[0][1]))&&v.push(C)}if(2<m&&!v.length)break}if(2!==v.length)v=null;else if(!s){var x=K.getPart(e,v[0][0],v[1][0]),S=K.getPart(t,v[0][1],v[1][1]);(n(S[2]-x[2])>i||n(S[3]-x[3])>i||n(S[4]-x[4])>i||n(S[5]-x[5])>i)&&(v=null)}return v}return{getIntersections:function(e){var t=this.getValues(),n=e&&e!==this&&e.getValues();return n?getCurveIntersections(t,n,this,e,[]):getLoopIntersection(t,this,[])},statics:{getOverlaps:getOverlaps,getIntersections:function getIntersections(e,t,n,r,i,a){var o=!t;o&&(t=e);for(var s,l,u=e.length,c=t.length,h=[],d=[],p=0;p<c;p++)h[p]=t[p].getValues(i);for(p=0;p<u;p++){var f=e[p],g=o?h[p]:f.getValues(r),v=f.getPath();v!==l&&(l=v,s=[],d.push(s)),o&&getLoopIntersection(g,f,s,n);for(var m=o?p+1:0;m<c;m++){if(a&&s.length)return s;getCurveIntersections(g,h[m],f,t[m],s,n)}}s=[],p=0;for(var _=d.length;p<_;p++)z.push(s,d[p]);return s},getCurveLineIntersections:getCurveLineIntersections,getTimesWithTangent:function getTimesWithTangent(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=t.normalize(),h=c.x,d=c.y,p=3*l-9*o+9*i-3*n,f=3*u-9*s+9*a-3*r,g=6*o-12*i+6*n,v=6*s-12*a+6*r,m=3*i-3*n,_=3*a-3*r,y=2*p*d-2*f*h,b=[];if(Math.abs(y)<U.CURVETIME_EPSILON){if(0!=(y=p*v-f*g)){var w=-(p*_-f*m)/y;0<=w&&w<=1&&b.push(w)}}else{var C=(g*g-4*p*m)*d*d+(-2*g*v+4*f*m+4*p*_)*h*d+(v*v-4*f*_)*h*h,x=g*d-v*h;if(0<=C&&0!=y){var S=Math.sqrt(C),E=-(x+S)/y,k=(-x+S)/y;0<=E&&E<=1&&b.push(E),0<=k&&k<=1&&b.push(k)}}return b}}}}),_=z.extend({_class:"CurveLocation",initialize:function CurveLocation(e,t,n,r,i){if(.99999999<=t){var a=e.getNext();a&&(t=0,e=a)}this._setCurve(e),this._time=t,this._point=n||e.getPointAtTime(t),this._overlap=r,this._distance=i,this._intersection=this._next=this._previous=null},_setCurve:function(e){var t=e._path;this._path=t,this._version=t?t._version:0,this._curve=e,this._segment=null,this._segment1=e._segment1,this._segment2=e._segment2},_setSegment:function(e){this._setCurve(e.getCurve()),this._segment=e,this._time=e===this._segment1?0:1,this._point=e._point.clone()},getSegment:function(){var e=this._segment;if(!e){var t=this.getCurve(),n=this.getTime();0===n?e=t._segment1:1===n?e=t._segment2:null!=n&&(e=t.getPartLength(0,n)<t.getPartLength(n,1)?t._segment1:t._segment2),this._segment=e}return e},getCurve:function(){var e=this._path,n=this;function trySegment(e){var t=e&&e.getCurve();if(t&&null!=(n._time=t.getTimeOf(n._point)))return n._setCurve(t),t}return e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||trySegment(this._segment)||trySegment(this._segment1)||trySegment(this._segment2.getPrevious())},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){var e=this.getCurve();return e&&e.getIndex()},getTime:function(){var e=this.getCurve(),t=this._time;return e&&null==t?this._time=e.getTimeOf(this._point):t},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var e=this._offset;if(null==e){e=0;var t=this.getPath(),n=this.getIndex();if(t&&null!=n)for(var r=t.getCurves(),i=0;i<n;i++)e+=r[i].getLength();this._offset=e+=this.getCurveOffset()}return e},getCurveOffset:function(){var e=this._curveOffset;if(null==e){var t=this.getCurve(),n=this.getTime();this._curveOffset=e=null!=n&&t&&t.getPartLength(0,n)}return e},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var e=this.getCurve(),t=e&&e.divideAtTime(this.getTime());return t&&this._setSegment(t._segment1),t},split:function(){var e=this.getCurve(),t=e._path,n=e&&e.splitAtTime(this.getTime());return n&&this._setSegment(t.getLastSegment()),n},equals:function(e,t){var n=this===e;if(!n&&e instanceof _){var r=this.getCurve(),i=e.getCurve(),a=r._path;if(a===i._path){var o=Math.abs,s=o(this.getOffset()-e.getOffset()),l=!t&&this._intersection,u=!t&&e._intersection;n=(s<1e-7||a&&o(a.getLength()-s)<1e-7)&&(!l&&!u||l&&u&&l.equals(u,!0))}}return n},toString:function(){var e=[],t=this.getPoint(),n=w.instance;t&&e.push("point: "+t);var r=this.getIndex();null!=r&&e.push("index: "+r);var i=this.getTime();return null!=i&&e.push("time: "+n.number(i)),null!=this._distance&&e.push("distance: "+n.number(this._distance)),"{ "+e.join(", ")+" }"},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){var t=this.getCurve(),n=e.getCurve();return!(t.isStraight()&&n.isStraight()&&t.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){var e=this._intersection;if(!e)return!1;var t=this.getTime(),n=e.getTime(),r=1-1e-8,i=1e-8<=t&&t<=r,a=1e-8<=n&&n<=r;if(i&&a)return!this.isTouching();var o=this.getCurve(),s=t<1e-8?o.getPrevious():o,l=e.getCurve(),u=n<1e-8?l.getPrevious():l;if(r<t&&(o=o.getNext()),r<n&&(l=l.getNext()),!(s&&o&&u&&l))return!1;var c=[];function addOffsets(e,t){var n=e.getValues(),r=K.classify(n).roots||K.getPeaks(n),i=r.length,a=t&&1<i?r[i-1]:0<i?r[0]:.5;c.push(K.getLength(n,t?a:0,t?1:a)/2)}function isInRange(e,t,n){return t<n?t<e&&e<n:t<e||e<n}i||(addOffsets(s,!0),addOffsets(o,!1)),a||(addOffsets(u,!0),addOffsets(l,!1));var h=this.getPoint(),d=Math.min.apply(Math,c),p=i?o.getTangentAtTime(t):o.getPointAt(d).subtract(h),f=i?p.negate():s.getPointAt(-d).subtract(h),g=a?l.getTangentAtTime(n):l.getPointAt(d).subtract(h),v=a?g.negate():u.getPointAt(-d).subtract(h),m=f.getAngle(),_=p.getAngle(),y=v.getAngle(),b=g.getAngle();return!!(i?isInRange(m,y,b)^isInRange(_,y,b)&&isInRange(m,b,y)^isInRange(_,b,y):isInRange(y,m,_)^isInRange(b,m,_)&&isInRange(y,_,m)^isInRange(b,_,m))},hasOverlap:function(){return!!this._overlap}},z.each(K._evaluateMethods,function(e){var n=e+"At";this[e]=function(){var e=this.getCurve(),t=this.getTime();return null!=t&&e&&e[n](t,!0)}},{preserve:!0}),new function(){function insert(i,a,e){var o=i.length,t=0,n=o-1;function search(e,t){for(var n=e+t;-1<=n&&n<=o;n+=t){var r=i[(n%o+o)%o];if(!a.getPoint().isClose(r.getPoint(),1e-7))break;if(a.equals(r))return r}return null}for(;t<=n;){var r,s=t+n>>>1,l=i[s];if(e&&(r=a.equals(l)?l:search(s,-1)||search(s,1)))return a._overlap&&(r._overlap=r._intersection._overlap=!0),r;var u=a.getPath(),c=l.getPath();(u!==c?u._id-c._id:a.getIndex()+a.getTime()-(l.getIndex()+l.getTime()))<0?n=s-1:t=1+s}return i.splice(t,0,a),a}return{statics:{insert:insert,expand:function(e){for(var t=e.slice(),n=e.length-1;0<=n;n--)insert(t,e[n]._intersection,!1);return t}}}}),x=S.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function PathItem(){},statics:{create:function(e){var t,n,r;if(z.isPlainObject(e)?(n=e.segments,t=e.pathData):Array.isArray(e)?n=e:"string"==typeof e&&(t=e),n){var i=n[0];r=i&&Array.isArray(i[0])}else t&&(r=1<(t.match(/m/gi)||[]).length||/z\s*\S+/i.test(t));return new(r?O:I)(e)}},_asPathItem:function(){return this},isClockwise:function(){return 0<=this.getArea()},setClockwise:function(e){this.isClockwise()!=(e=!!e)&&this.reverse()},setPathData:function(e){var r,t,n,i=e&&e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),a=!1,o=new W,s=new W;function getCoord(e,t){var n=+r[e];return a&&(n+=o[t]),n}function getPoint(e){return new W(getCoord(e,"x"),getCoord(e+1,"y"))}this.clear();for(var l=0,u=i&&i.length;l<u;l++){var c=i[l],h=c[0],d=h.toLowerCase(),p=(r=c.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g))&&r.length;switch(a=h===d,"z"!==t||/[mz]/.test(d)||this.moveTo(o),d){case"m":case"l":for(var f="m"===d,g=0;g<p;g+=2)this[f?"moveTo":"lineTo"](o=getPoint(g)),f&&(s=o,f=!1);n=o;break;case"h":case"v":var v="h"===d?"x":"y";o=o.clone();for(g=0;g<p;g++)o[v]=getCoord(g,v),this.lineTo(o);n=o;break;case"c":for(g=0;g<p;g+=6)this.cubicCurveTo(getPoint(g),n=getPoint(g+2),o=getPoint(g+4));break;case"s":for(g=0;g<p;g+=4)this.cubicCurveTo(/[cs]/.test(t)?o.multiply(2).subtract(n):o,n=getPoint(g),o=getPoint(g+2)),t=d;break;case"q":for(g=0;g<p;g+=4)this.quadraticCurveTo(n=getPoint(g),o=getPoint(g+2));break;case"t":for(g=0;g<p;g+=2)this.quadraticCurveTo(n=/[qt]/.test(t)?o.multiply(2).subtract(n):o,o=getPoint(g)),t=d;break;case"a":for(g=0;g<p;g+=7)this.arcTo(o=getPoint(g+5),new q(+r[g],+r[g+1]),+r[g+2],+r[g+4],+r[g+3]);break;case"z":this.closePath(1e-12),o=s}t=d}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(e){var t=e.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(e):{};return t.onPath||!!("evenodd"===this.getFillRule()?1&t.windingL||1&t.windingR:t.winding)},getIntersections:function(e,t,n,r){var i=this===e||!e,a=this._matrix._orNullIfIdentity(),o=i?a:(n||e._matrix)._orNullIfIdentity();return i||this.getBounds(a).intersects(e.getBounds(o),1e-12)?K.getIntersections(this.getCurves(),!i&&e.getCurves(),t,a,o,r):[]},getCrossings:function(e){return this.getIntersections(e,function(e){return e.hasOverlap()||e.isCrossing()})},getNearestLocation:function(){for(var e=W.read(arguments),t=this.getCurves(),n=1/0,r=null,i=0,a=t.length;i<a;i++){var o=t[i].getNearestLocation(e);o._distance<n&&(n=o._distance,r=o)}return r},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e?e.getPoint():e},interpolate:function(e,t,n){var r=!this._children,i=r?"_segments":"_children",a=e[i],o=t[i],s=this[i];if(!a||!o||a.length!==o.length)throw new Error("Invalid operands in interpolate() call: "+e+", "+t);var l=s.length,u=o.length;if(l<u)for(var c=r?G:I,h=l;h<u;h++)this.add(new c);else u<l&&this[r?"removeSegments":"removeChildren"](u,l);for(h=0;h<u;h++)s[h].interpolate(a[h],o[h],n);r&&(this.setClosed(e._closed),this._changed(9))},compare:function(e){var t=!1;if(e){var n=this._children||[this],r=e._children?e._children.slice():[e],i=n.length,a=r.length,o=[],s=0;t=!0;for(var l=i-1;0<=l&&t;l--){var u=n[l];t=!1;for(var c=a-1;0<=c&&!t;c--)u.compare(r[c])&&(o[c]||(o[c]=!0,s++),t=!0)}t=t&&s===a}return t}}),I=x.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function Path(e){this._closed=!1,this._segments=[],this._version=0;var t=Array.isArray(e)?"object"==typeof e[0]?e:arguments:!e||e.size!==B||e.x===B&&e.point===B?null:arguments;t&&0<t.length?this.setSegments(t):(this._curves=B,this._segmentSelection=0,t||"string"!=typeof e||(this.setPathData(e),e=null)),this._initialize(!t&&e)},_equals:function(e){return this._closed===e._closed&&z.equals(this._segments,e._segments)},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed},_changed:function _changed(e){if(_changed.base.call(this,e),8&e){if(this._length=this._area=B,32&e)this._version++;else if(this._curves)for(var t=0,n=this._curves.length;t<n;t++)this._curves[t]._changed()}else 64&e&&(this._bounds=B)},getStyle:function(){var e=this._parent;return(e instanceof O?e:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var t=this.isFullySelected(),n=e&&e.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=B,n){var r=e[n-1];"boolean"==typeof r&&(this.setClosed(r),n--),this._add(G.readList(e,0,{},n))}t&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var e=this._curves,t=this._segments;if(!e){var n=this._countCurves();e=this._curves=new Array(n);for(var r=0;r<n;r++)e[r]=new K(this,t[r],t[r+1]||t[0])}return e},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1]},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){if(this._closed=e,this._curves){var t=this._curves.length=this._countCurves();e&&(this._curves[t-1]=new K(this,this._segments[t-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(i,e){var a,o,s,l,u,c,h,d,t=this._segments,n=t.length,p=new w(e),f=new Array(6),g=!0,v=[];function addSegment(e,t){if(e._transformCoordinates(i,f),a=f[0],o=f[1],g)v.push("M"+p.pair(a,o)),g=!1;else if(u=f[2],c=f[3],u===a&&c===o&&h===s&&d===l){if(!t){var n=a-s,r=o-l;v.push(0==n?"v"+p.number(r):0==r?"h"+p.number(n):"l"+p.pair(n,r))}}else v.push("c"+p.pair(h-s,d-l)+" "+p.pair(u-s,c-l)+" "+p.pair(a-s,o-l));s=a,l=o,h=f[4],d=f[5]}if(!n)return"";for(var r=0;r<n;r++)addSegment(t[r]);return this._closed&&0<n&&(addSegment(t[0],!0),v.push("z")),v.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(e){for(var t=this._segments,n=new Array(6),r=0,i=t.length;r<i;r++)t[r]._transformCoordinates(e,n,!0);return!0},_add:function(e,t){for(var n=this._segments,r=this._curves,i=e.length,a=null==t,o=(t=a?n.length:t,0);o<i;o++){var s=e[o];s._path&&(s=e[o]=s.clone()),s._path=this,s._index=t+o,s._selection&&this._updateSelection(s,0,s._selection)}if(a)z.push(n,e);else{n.splice.apply(n,[t,0].concat(e));o=t+i;for(var l=n.length;o<l;o++)n[o]._index=o}if(r){var u=this._countCurves(),c=0<t&&t+i-1===u?t-1:t,h=c,d=Math.min(c+i,u);e._curves&&(r.splice.apply(r,[c,0].concat(e._curves)),h+=e._curves.length);for(o=h;o<d;o++)r.splice(o,0,new K(this,null,null));this._adjustCurves(c,d)}return this._changed(41),e},_adjustCurves:function(e,t){for(var n,r=this._segments,i=this._curves,a=e;a<t;a++)(n=i[a])._path=this,n._segment1=r[a],n._segment2=r[a+1]||r[0],n._changed();(n=i[this._closed&&!e?r.length-1:e-1])&&(n._segment2=r[e]||r[0],n._changed()),(n=i[t])&&(n._segment1=r[t],n._changed())},_countCurves:function(){var e=this._segments.length;return!this._closed&&0<e?e-1:e},add:function(e){return 1<arguments.length&&"number"!=typeof e?this._add(G.readList(arguments)):this._add([G.read(arguments)])[0]},insert:function(e,t){return 2<arguments.length&&"number"!=typeof t?this._add(G.readList(arguments,1),e):this._add([G.read(arguments,1)],e)[0]},addSegment:function(){return this._add([G.read(arguments)])[0]},insertSegment:function(e){return this._add([G.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(G.readList(e))},insertSegments:function(e,t){return this._add(G.readList(t),e)},removeSegment:function(e){return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,t,n){e=e||0,t=z.pick(t,this._segments.length);var r=this._segments,i=this._curves,a=r.length,o=r.splice(e,t-e),s=o.length;if(!s)return o;for(var l=0;l<s;l++){var u=o[l];u._selection&&this._updateSelection(u,u._selection,0),u._index=u._path=null}l=e;for(var c=r.length;l<c;l++)r[l]._index=l;if(i){var h=0<e&&t===a+(this._closed?1:0)?e-1:e;for(l=(i=i.splice(h,s)).length-1;0<=l;l--)i[l]._path=null;n&&(o._curves=i.slice(1)),this._adjustCurves(h,h)}return this._changed(41),o},clear:"#removeSegments",hasHandles:function(){for(var e=this._segments,t=0,n=e.length;t<n;t++)if(e[t].hasHandles())return!0;return!1},clearHandles:function(){for(var e=this._segments,t=0,n=e.length;t<n;t++)e[t].clearHandles()},getLength:function(){if(null==this._length){for(var e=this.getCurves(),t=0,n=0,r=e.length;n<r;n++)t+=e[n].getLength();this._length=t}return this._length},getArea:function(){var e=this._area;if(null==e){for(var t=this._segments,n=this._closed,r=e=0,i=t.length;r<i;r++){var a=r+1===i;e+=K.getArea(K.getValues(t[r],t[a?0:r+1],null,a&&!n))}this._area=e}return e},isFullySelected:function(){var e=this._segments.length;return this.isSelected()&&0<e&&this._segmentSelection===7*e},setFullySelected:function(e){e&&this._selectSegments(!0),this.setSelected(e)},setSelection:function setSelection(e){1&e||this._selectSegments(!1),setSelection.base.call(this,e)},_selectSegments:function(e){var t=this._segments,n=t.length,r=e?7:0;this._segmentSelection=r*n;for(var i=0;i<n;i++)t[i]._selection=r},_updateSelection:function(e,t,n){e._selection=n,0<(this._segmentSelection+=n-t)&&this.setSelected(!0)},divideAt:function(e){var t,n=this.getLocationAt(e);return n&&(t=n.getCurve().divideAt(n.getCurveOffset()))?t._segment1:null},splitAt:function(e){var t=this.getLocationAt(e),n=t&&t.index,r=t&&t.time;1-1e-8<r&&(n++,r=0);var i=this.getCurves();if(0<=n&&n<i.length){1e-8<=r&&i[n++].divideAtTime(r);var a,o=this.removeSegments(n,this._segments.length,!0);return this._closed?(this.setClosed(!1),a=this):((a=new I(S.NO_INSERT)).insertAbove(this),a.copyAttributes(this)),a._add(o,0),this.addSegment(o[0]),a}return null},split:function(e,t){var n,r=t===B?e:(n=this.getCurves()[e])&&n.getLocationAtTime(t);return null!=r?this.splitAt(r):null},join:function(e,t){var n=t||0;if(e&&e!==this){var r=e._segments,i=this.getLastSegment(),a=e.getLastSegment();if(!a)return this;i&&i._point.isClose(a._point,n)&&e.reverse();var o=e.getFirstSegment();if(i&&i._point.isClose(o._point,n))i.setHandleOut(o._handleOut),this._add(r.slice(1));else{var s=this.getFirstSegment();s&&s._point.isClose(o._point,n)&&e.reverse(),a=e.getLastSegment(),s&&s._point.isClose(a._point,n)?(s.setHandleIn(a._handleIn),this._add(r.slice(0,r.length-1),0)):this._add(r.slice())}e._closed&&this._add([r[0]]),e.remove()}var l=this.getFirstSegment(),u=this.getLastSegment();return l!==u&&l._point.isClose(u._point,n)&&(l.setHandleIn(u._handleIn),u.remove(),this.setClosed(!0)),this},reduce:function(e){for(var t=this.getCurves(),n=e&&e.simplify,r=n?1e-7:0,i=t.length-1;0<=i;i--){var a=t[i];!a.hasHandles()&&(!a.hasLength(r)||n&&a.isCollinear(a.getNext()))&&a.remove()}return this},reverse:function(){this._segments.reverse();for(var e=0,t=this._segments.length;e<t;e++){var n=this._segments[e],r=n._handleIn;n._handleIn=n._handleOut,n._handleOut=r,n._index=e}this._curves=null,this._changed(9)},flatten:function(e){for(var t=new v(this,e||.25,256,!0).parts,n=t.length,r=[],i=0;i<n;i++)r.push(new G(t[i].curve.slice(0,2)));!this._closed&&0<n&&r.push(new G(t[n-1].curve.slice(6))),this.setSegments(r)},simplify:function(e){var t=new i(this).fit(e||2.5);return t&&this.setSegments(t),!!t},smooth:function(e){var i=this,t=e||{},n=t.type||"asymmetric",r=this._segments,a=r.length,o=this._closed;function getIndex(e,t){var n=e&&e.index;if(null!=n){var r=e.path;if(r&&r!==i)throw new Error(e._class+" "+n+" of "+r+" is not part of "+i);t&&e instanceof K&&n++}else n="number"==typeof e?e:t;return Math.min(n<0&&o?n%a:n<0?n+a:n,a-1)}var s=o&&t.from===B&&t.to===B,l=getIndex(t.from,0),u=getIndex(t.to,a-1);if(u<l)if(o)l-=a;else{var c=l;l=u,u=c}if(/^(?:asymmetric|continuous)$/.test(n)){var h="asymmetric"===n,d=Math.min,p=u-l+1,f=p-1,g=s?d(p,4):1,v=g,m=g,_=[];if(o||(v=d(1,l),m=d(1,a-u-1)),(f+=v+m)<=1)return;for(var y=0,b=l-v;y<=f;y++,b++)_[y]=r[(b<0?b+a:b)%a]._point;var w=_[0]._x+2*_[1]._x,C=_[0]._y+2*_[1]._y,x=2,S=f-1,E=[w],k=[C],T=[x],P=[],I=[];for(y=1;y<f;y++){var O=y<S,N=O?4:h?2:7,A=O?4:h?3:8,R=O?2:h?0:1,L=(O?1:h?1:2)/x;x=T[y]=N-L,w=E[y]=A*_[y]._x+R*_[y+1]._x-L*w,C=k[y]=A*_[y]._y+R*_[y+1]._y-L*C}P[S]=E[S]/T[S],I[S]=k[S]/T[S];for(y=f-2;0<=y;y--)P[y]=(E[y]-P[y+1])/T[y],I[y]=(k[y]-I[y+1])/T[y];P[f]=(3*_[f]._x-P[S])/2,I[f]=(3*_[f]._y-I[S])/2;y=v;var M=f-m;for(b=l;y<=M;y++,b++){var D=r[b<0?b+a:b],F=D._point,V=P[y]-F._x,j=I[y]-F._y;(s||y<M)&&D.setHandleOut(V,j),(s||v<y)&&D.setHandleIn(-V,-j)}}else for(y=l;y<=u;y++)r[y<0?y+a:y].smooth(t,!s&&y===l,!s&&y===u)},toShape:function(e){if(!this._closed)return null;var t,n,r,i,u=this._segments;function isCollinear(e,t){var n=u[e],r=n.getNext(),i=u[t],a=i.getNext();return n._handleOut.isZero()&&r._handleIn.isZero()&&i._handleOut.isZero()&&a._handleIn.isZero()&&r._point.subtract(n._point).isCollinear(a._point.subtract(i._point))}function isArc(e){var t=u[e],n=t.getNext(),r=t._handleOut,i=n._handleIn,a=.5522847498307936;if(r.isOrthogonal(i)){var o=t._point,s=n._point,l=new H(o,r,!0).intersect(new H(s,i,!0),!0);return l&&U.isZero(r.getLength()/l.subtract(o).getLength()-a)&&U.isZero(i.getLength()/l.subtract(s).getLength()-a)}return!1}function getDistance(e,t){return u[e]._point.getDistance(u[t]._point)}if(!this.hasHandles()&&4===u.length&&isCollinear(0,2)&&isCollinear(1,3)&&function isOrthogonal(e){var t=u[e],n=t.getPrevious(),r=t.getNext();return n._handleOut.isZero()&&t._handleIn.isZero()&&t._handleOut.isZero()&&r._handleIn.isZero()&&t._point.subtract(n._point).isOrthogonal(r._point.subtract(t._point))}(1)?(t=b.Rectangle,n=new q(getDistance(0,3),getDistance(0,1)),i=u[1]._point.add(u[2]._point).divide(2)):8===u.length&&isArc(0)&&isArc(2)&&isArc(4)&&isArc(6)&&isCollinear(1,5)&&isCollinear(3,7)?(t=b.Rectangle,r=(n=new q(getDistance(1,6),getDistance(0,3))).subtract(new q(getDistance(0,7),getDistance(1,2))).divide(2),i=u[3]._point.add(u[4]._point).divide(2)):4===u.length&&isArc(0)&&isArc(1)&&isArc(2)&&isArc(3)&&(r=U.isZero(getDistance(0,2)-getDistance(1,3))?(t=b.Circle,getDistance(0,2)/2):(t=b.Ellipse,new q(getDistance(2,0)/2,getDistance(3,1)/2)),i=u[1]._point),t){var a=this.getPosition(!0),o=new t({center:a,size:n,radius:r,insert:!1});return o.copyAttributes(this,!0),o._matrix.prepend(this._matrix),o.rotate(i.subtract(a).getAngle()+90),e!==B&&!e||o.insertAbove(this),o}return null},toPath:"#clone",compare:function compare(e){if(!e||e instanceof O)return compare.base.call(this,e);var t=this.getCurves(),n=e.getCurves(),r=t.length,i=n.length;if(!r||!i)return r==i;for(var a,o,s=t[0].getValues(),l=[],u=0,c=0,h=0;h<i;h++){var d=n[h].getValues();if(l.push(d),g=K.getOverlaps(s,d)){a=!h&&0<g[0][0]?i-1:h,o=g[0][1];break}}var p,f=Math.abs;for(d=l[a];s&&d;){var g;if(g=K.getOverlaps(s,d))if(f(g[0][0]-c)<1e-8){1===(c=g[1][0])&&(s=++u<r?t[u].getValues():null,c=0);var v=g[0][1];if(f(v-o)<1e-8){if(p=p||[a,v],1===(o=g[1][1])&&(++a>=i&&(a=0),d=l[a]||n[a].getValues(),o=0),!s)return p[0]===a&&p[1]===o;continue}}break}return!1},_hitTestSelf:function(r,i,e,a){var o,s,l,u,t,n,c=this,h=this.getStyle(),d=this._segments,p=d.length,f=this._closed,g=i._tolerancePadding,v=g,m=i.stroke&&h.hasStroke(),_=i.fill&&h.hasFill(),y=i.curves,b=m?h.getStrokeWidth()/2:_&&0<i.tolerance||y?0:null;function isCloseEnough(e,t){return r.subtract(e).divide(t).length<=1}function checkSegmentPoint(e,t,n){if(!i.selected||t.isSelected()){var r=e._point;if(t!==r&&(t=t.add(r)),isCloseEnough(t,v))return new E(n,c,{segment:e,point:t})}}function checkSegmentPoints(e,t){return(t||i.segments)&&checkSegmentPoint(e,e._point,"segment")||!t&&i.handles&&(checkSegmentPoint(e,e._handleIn,"handle-in")||checkSegmentPoint(e,e._handleOut,"handle-out"))}function addToArea(e){u.add(e)}function checkSegmentStroke(e){var t,n=f||0<e._index&&e._index<p-1;return"round"===(n?o:s)?isCloseEnough(e._point,v):(u=new I({internal:!0,closed:!0}),n?e.isSmooth()||I._addBevelJoin(e,o,b,l,null,a,addToArea,!0):"square"===s&&I._addSquareCap(e,s,b,null,a,addToArea,!0),u.isEmpty()?void 0:u.contains(r)||(t=u.getNearestLocation(r))&&isCloseEnough(t.getPoint(),g))}if(null!==b&&(0<b?(o=h.getStrokeJoin(),s=h.getStrokeCap(),l=h.getMiterLimit(),v=v.add(I._getStrokePadding(b,a))):o=s="round"),!i.ends||i.segments||f){if(i.segments||i.handles)for(var w=0;w<p;w++)if(n=checkSegmentPoints(d[w]))return n}else if(n=checkSegmentPoints(d[0],!0)||checkSegmentPoints(d[p-1],!0))return n;if(null!==b){if(t=this.getNearestLocation(r)){var C=t.getTime();0===C||1===C&&1<p?checkSegmentStroke(t.getSegment())||(t=null):isCloseEnough(t.getPoint(),v)||(t=null)}if(!t&&"miter"===o&&1<p)for(w=0;w<p;w++){var x=d[w];if(r.getDistance(x._point)<=l*b&&checkSegmentStroke(x)){t=x.getLocation();break}}}return!t&&_&&this._contains(r)||t&&!m&&!y?new E("fill",this):t?new E(m?"stroke":"curve",this,{location:t,point:t.getPoint()}):null}},z.each(K._evaluateMethods,function(n){this[n+"At"]=function(e){var t=this.getLocationAt(e);return t&&t[n]()}},{beans:!1,getLocationOf:function(){for(var e=W.read(arguments),t=this.getCurves(),n=0,r=t.length;n<r;n++){var i=t[n].getLocationOf(e);if(i)return i}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getLocationAt:function(e){if("number"==typeof e){for(var t=this.getCurves(),n=0,r=0,i=t.length;r<i;r++){var a=n,o=t[r];if(e<(n+=o.getLength()))return o.getLocationAt(e-a)}if(0<t.length&&e<=this.getLength())return new _(t[t.length-1],1)}else if(e&&e.getPath&&e.getPath()===this)return e;return null},getOffsetsWithTangent:function(){var e=W.read(arguments);if(e.isZero())return[];for(var t=[],n=0,r=this.getCurves(),i=0,a=r.length;i<a;i++){for(var o=r[i],s=o.getTimesWithTangent(e),l=0,u=s.length;l<u;l++){var c=n+o.getOffsetAtTime(s[l]);t.indexOf(c)<0&&t.push(c)}n+=o.length}return t}}),new function(){function drawSegments(r,e,i){var a,o,s,l,u,c,h,d,t=e._segments,n=t.length,p=new Array(6),f=!0;function drawSegment(e){if(i)e._transformCoordinates(i,p),a=p[0],o=p[1];else{var t=e._point;a=t._x,o=t._y}if(f)r.moveTo(a,o),f=!1;else{if(i)u=p[2],c=p[3];else{var n=e._handleIn;u=a+n._x,c=o+n._y}u===a&&c===o&&h===s&&d===l?r.lineTo(a,o):r.bezierCurveTo(h,d,u,c,a,o)}if(s=a,l=o,i)h=p[4],d=p[5];else{n=e._handleOut;h=s+n._x,d=l+n._y}}for(var g=0;g<n;g++)drawSegment(t[g]);e._closed&&0<n&&drawSegment(t[0])}return{_draw:function(e,t,n,r){var i=t.dontStart,a=t.dontFinish||t.clip,o=this.getStyle(),s=o.hasFill(),l=o.hasStroke(),u=o.getDashArray(),c=!oe.support.nativeDash&&l&&u&&u.length;function getOffset(e){return u[(e%c+c)%c]}if(i||e.beginPath(),(s||l&&!c||a)&&(drawSegments(e,this,r),this._closed&&e.closePath()),!a&&(s||l)&&(this._setStyles(e,t,n),s&&(e.fill(o.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),l)){if(c){i||e.beginPath();var h,d=new v(this,.25,32,!1,r),p=d.length,f=-o.getDashOffset(),g=0;for(f%=p;0<f;)f-=getOffset(g--)+getOffset(g--);for(;f<p;)h=f+getOffset(g++),(0<f||0<h)&&d.drawPart(e,Math.max(f,0),Math.max(h,0)),f=h+getOffset(g++)}e.stroke()}},_drawSelected:function(e,t){e.beginPath(),drawSegments(e,this,t),e.stroke(),function drawHandles(r,e,t,n){if(!(n<=0))for(var i,a,o=n/2,s=n-2,l=o-1,u=new Array(6),c=0,h=e.length;c<h;c++){var d=e[c],p=d._selection;if(d._transformCoordinates(t,u),i=u[0],a=u[1],2&p&&drawHandle(2),4&p&&drawHandle(4),r.fillRect(i-o,a-o,n,n),0<s&&!(1&p)){var f=r.fillStyle;r.fillStyle="#ffffff",r.fillRect(i-l,a-l,s,s),r.fillStyle=f}}function drawHandle(e){var t=u[e],n=u[e+1];i==t&&a==n||(r.beginPath(),r.moveTo(i,a),r.lineTo(t,n),r.stroke(),r.beginPath(),r.arc(t,n,o,0,2*Math.PI,!0),r.fill())}}(e,this._segments,t,oe.settings.handleSize)}}},new function(){function getCurrentSegment(e){var t=e._segments;if(!t.length)throw new Error("Use a moveTo() command first");return t[t.length-1]}return{moveTo:function(){var e=this._segments;1===e.length&&this.removeSegment(0),e.length||this._add([new G(W.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new G(W.read(arguments))])},cubicCurveTo:function(){var e=W.read(arguments),t=W.read(arguments),n=W.read(arguments),r=getCurrentSegment(this);r.setHandleOut(e.subtract(r._point)),this._add([new G(n,t.subtract(n))])},quadraticCurveTo:function(){var e=W.read(arguments),t=W.read(arguments),n=getCurrentSegment(this)._point;this.cubicCurveTo(e.add(n.subtract(e).multiply(1/3)),e.add(t.subtract(e).multiply(1/3)),t)},curveTo:function(){var e=W.read(arguments),t=W.read(arguments),n=z.pick(z.read(arguments),.5),r=1-n,i=getCurrentSegment(this)._point,a=e.subtract(i.multiply(r*r)).subtract(t.multiply(n*n)).divide(2*n*r);if(a.isNaN())throw new Error("Cannot put a curve through points with parameter = "+n);this.quadraticCurveTo(a,t)},arcTo:function(){var e,t,n,r,i=Math.abs,a=Math.sqrt,o=getCurrentSegment(this),s=o._point,l=W.read(arguments),u=z.peek(arguments);if("boolean"==typeof(f=z.pick(u,!0)))var c=(v=s.add(l).divide(2)).add(v.subtract(s).rotate(f?-90:90));else if(z.remain(arguments)<=2)c=l,l=W.read(arguments);else if(!s.equals(l)){var h=q.read(arguments),d=U.isZero;if(d(h.width)||d(h.height))return this.lineTo(l);var p=z.read(arguments),f=!!z.read(arguments),g=!!z.read(arguments),v=s.add(l).divide(2),m=(V=s.subtract(v).rotate(-p)).x,_=V.y,y=i(h.width),b=i(h.height),w=y*y,C=b*b,x=m*m,S=_*_,E=a(x/w+S/C);if(1<E&&(w=(y*=E)*y,C=(b*=E)*b),i(E=(w*C-w*S-C*x)/(w*S+C*x))<1e-12&&(E=0),E<0)throw new Error("Cannot create an arc with the given arguments");e=new W(y*_/b,-b*m/y).multiply((g===f?-1:1)*a(E)).rotate(p).add(v),t=(n=(r=(new Q).translate(e).rotate(p).scale(y,b))._inverseTransform(s)).getDirectedAngle(r._inverseTransform(l)),!f&&0<t?t-=360:f&&t<0&&(t+=360)}if(c){var k=new H(s.add(c).divide(2),c.subtract(s).rotate(90),!0),T=new H(c.add(l).divide(2),l.subtract(c).rotate(90),!0),P=new H(s,l),I=P.getSide(c);if(!(e=k.intersect(T,!0))){if(!I)return this.lineTo(l);throw new Error("Cannot create an arc with the given arguments")}t=(n=s.subtract(e)).getDirectedAngle(l.subtract(e));var O=P.getSide(e,!0);0===O?t=I*i(t):I===O&&(t+=t<0?360:-360)}if(t){for(var N=i(t),A=360<=N?4:Math.ceil((N-1e-7)/90),R=t/A,L=R*Math.PI/360,M=4/3*Math.sin(L)/(1+Math.cos(L)),D=[],F=0;F<=A;F++){var V=l,j=null;if(F<A&&(j=n.rotate(90).multiply(M),r?(V=r._transformPoint(n),j=r._transformPoint(n.add(j)).subtract(V)):V=e.add(n)),F){var B=n.rotate(-90).multiply(M);r&&(B=r._transformPoint(n.add(B)).subtract(V)),D.push(new G(V,B,j))}else o.setHandleOut(j);n=n.rotate(R)}this._add(D)}},lineBy:function(){var e=W.read(arguments),t=getCurrentSegment(this)._point;this.lineTo(t.add(e))},curveBy:function(){var e=W.read(arguments),t=W.read(arguments),n=z.read(arguments),r=getCurrentSegment(this)._point;this.curveTo(r.add(e),r.add(t),n)},cubicCurveBy:function(){var e=W.read(arguments),t=W.read(arguments),n=W.read(arguments),r=getCurrentSegment(this)._point;this.cubicCurveTo(r.add(e),r.add(t),r.add(n))},quadraticCurveBy:function(){var e=W.read(arguments),t=W.read(arguments),n=getCurrentSegment(this)._point;this.quadraticCurveTo(n.add(e),n.add(t))},arcBy:function(){var e=getCurrentSegment(this)._point,t=e.add(W.read(arguments)),n=z.pick(z.peek(arguments),!0);"boolean"==typeof n?this.arcTo(t,n):this.arcTo(t,e.add(W.read(arguments)))},closePath:function(e){this.setClosed(!0),this.join(this,e)}}},{_getBounds:function(e,t){var n=t.handle?"getHandleBounds":t.stroke?"getStrokeBounds":"getBounds";return I[n](this._segments,this._closed,this,e,t)},statics:{getBounds:function(e,t,n,r,i,a){var o=e[0];if(!o)return new P;var s=new Array(6),l=o._transformCoordinates(r,new Array(6)),u=l.slice(0,2),c=u.slice(),h=new Array(2);function processSegment(e){e._transformCoordinates(r,s);for(var t=0;t<2;t++)K._addBounds(l[t],l[t+4],s[t+2],s[t],t,a?a[t]:0,u,c,h);var n=l;l=s,s=n}for(var d=1,p=e.length;d<p;d++)processSegment(e[d]);return t&&processSegment(o),new P(u[0],u[1],c[0]-u[0],c[1]-u[1])},getStrokeBounds:function(e,t,n,r,i){var a=n.getStyle(),o=a.hasStroke(),s=a.getStrokeWidth(),l=o&&n._getStrokeMatrix(r,i),u=o&&I._getStrokePadding(s,l),c=I.getBounds(e,t,n,r,i,u);if(!o)return c;var h=s/2,d=a.getStrokeJoin(),p=a.getStrokeCap(),f=a.getMiterLimit(),g=new P(new q(u));function addPoint(e){c=c.include(e)}function addRound(e){c=c.unite(g.setCenter(e._point.transform(r)))}function addJoin(e,t){"round"===t||e.isSmooth()?addRound(e):I._addBevelJoin(e,t,h,f,r,l,addPoint)}function addCap(e,t){"round"===t?addRound(e):I._addSquareCap(e,t,h,r,l,addPoint)}for(var v=e.length-(t?0:1),m=1;m<v;m++)addJoin(e[m],d);return t?addJoin(e[0],d):0<v&&(addCap(e[0],p),addCap(e[e.length-1],p)),c},_getStrokePadding:function(e,t){if(!t)return[e,e];var n=new W(e,0).transform(t),r=new W(0,e).transform(t),i=n.getAngleInRadians(),a=n.getLength(),o=r.getLength(),s=Math.sin(i),l=Math.cos(i),u=Math.tan(i),c=Math.atan2(o*u,a),h=Math.atan2(o,u*a);return[Math.abs(a*Math.cos(c)*l+o*Math.sin(c)*s),Math.abs(o*Math.sin(h)*l+a*Math.cos(h)*s)]},_addBevelJoin:function(e,t,n,r,i,a,o,s){var l=e.getCurve(),u=l.getPrevious(),c=l.getPoint1().transform(i),h=u.getNormalAtTime(1).multiply(n).transform(a),d=l.getNormalAtTime(0).multiply(n).transform(a),p=h.getDirectedAngle(d);if((p<0||180<=p)&&(h=h.negate(),d=d.negate()),s&&o(c),o(c.add(h)),"miter"===t){var f=new H(c.add(h),new W(-h.y,h.x),!0).intersect(new H(c.add(d),new W(-d.y,d.x),!0),!0);f&&c.getDistance(f)<=r*n&&o(f)}o(c.add(d))},_addSquareCap:function(e,t,n,r,i,a,o){var s=e._point.transform(r),l=e.getLocation(),u=l.getNormal().multiply(0===l.getTime()?n:-n).transform(i);"square"===t&&(o&&(a(s.subtract(u)),a(s.add(u))),s=s.add(u.rotate(-90))),a(s.add(u)),a(s.subtract(u))},getHandleBounds:function(e,t,n,r,i){var a,o,s=n.getStyle();if(i.stroke&&s.hasStroke()){var l=n._getStrokeMatrix(r,i),u=s.getStrokeWidth()/2,c=u;"miter"===s.getStrokeJoin()&&(c=u*s.getMiterLimit()),"square"===s.getStrokeCap()&&(c=Math.max(c,u*Math.SQRT2)),a=I._getStrokePadding(u,l),o=I._getStrokePadding(c,l)}for(var h=new Array(6),d=1/0,p=-d,f=d,g=p,v=0,m=e.length;v<m;v++){e[v]._transformCoordinates(r,h);for(var _=0;_<6;_+=2){var y=_?a:o,b=y?y[0]:0,w=y?y[1]:0,C=h[_],x=h[_+1],S=C-b,E=C+b,k=x-w,T=x+w;S<d&&(d=S),p<E&&(p=E),k<f&&(f=k),g<T&&(g=T)}}return new P(d,f,p-d,g-f)}}});I.inject({statics:new function(){var h=.5522847498307936,o=[new G([-1,0],[0,h],[0,-h]),new G([0,-1],[-h,0],[h,0]),new G([1,0],[0,-h],[0,h]),new G([0,1],[h,0],[-h,0])];function createPath(e,t,n){var r=z.getNamed(n),i=new I(r&&0==r.insert&&S.NO_INSERT);return i._add(e),i._closed=t,i.set(r,{insert:!0})}function createEllipse(e,t,n){for(var r=new Array(4),i=0;i<4;i++){var a=o[i];r[i]=new G(a._point.multiply(t).add(e),a._handleIn.multiply(t),a._handleOut.multiply(t))}return createPath(r,!0,n)}return{Line:function(){return createPath([new G(W.readNamed(arguments,"from")),new G(W.readNamed(arguments,"to"))],!1,arguments)},Circle:function(){var e=W.readNamed(arguments,"center"),t=z.readNamed(arguments,"radius");return createEllipse(e,new q(t),arguments)},Rectangle:function(){var e,t=P.readNamed(arguments,"rectangle"),n=q.readNamed(arguments,"radius",0,{readNull:!0}),r=t.getBottomLeft(!0),i=t.getTopLeft(!0),a=t.getTopRight(!0),o=t.getBottomRight(!0);if(!n||n.isZero())e=[new G(r),new G(i),new G(a),new G(o)];else{var s=(n=q.min(n,t.getSize(!0).divide(2))).width,l=n.height,u=s*h,c=l*h;e=[new G(r.add(s,0),null,[-u,0]),new G(r.subtract(0,l),[0,c]),new G(i.add(0,l),null,[0,-c]),new G(i.add(s,0),[-u,0],null),new G(a.subtract(s,0),null,[u,0]),new G(a.add(0,l),[0,-c],null),new G(o.subtract(0,l),null,[0,c]),new G(o.subtract(s,0),[u,0])]}return createPath(e,!0,arguments)},RoundRectangle:"#Rectangle",Ellipse:function(){var e=b._readEllipse(arguments);return createEllipse(e.center,e.radius,arguments)},Oval:"#Ellipse",Arc:function(){var e=W.readNamed(arguments,"from"),t=W.readNamed(arguments,"through"),n=W.readNamed(arguments,"to"),r=z.getNamed(arguments),i=new I(r&&0==r.insert&&S.NO_INSERT);return i.moveTo(e),i.arcTo(t,n),i.set(r)},RegularPolygon:function(){for(var e=W.readNamed(arguments,"center"),t=z.readNamed(arguments,"sides"),n=z.readNamed(arguments,"radius"),r=360/t,i=t%3==0,a=new W(0,i?-n:n),o=i?-1:.5,s=new Array(t),l=0;l<t;l++)s[l]=new G(e.add(a.rotate((l+o)*r)));return createPath(s,!0,arguments)},Star:function(){for(var e=W.readNamed(arguments,"center"),t=2*z.readNamed(arguments,"points"),n=z.readNamed(arguments,"radius1"),r=z.readNamed(arguments,"radius2"),i=360/t,a=new W(0,-1),o=new Array(t),s=0;s<t;s++)o[s]=new G(e.add(a.rotate(i*s).multiply(s%2?r:n)));return createPath(o,!0,arguments)}}}});var O=x.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function CompoundPath(e){this._children=[],this._namedChildren={},this._initialize(e)||("string"==typeof e?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments))},insertChildren:function insertChildren(e,t){var n=t,r=n[0];r&&"number"==typeof r[0]&&(n=[n]);for(var i=t.length-1;0<=i;i--){var a=n[i];n!==t||a instanceof I||(n=z.slice(n)),Array.isArray(a)?n[i]=new I({segments:a,insert:!1}):a instanceof O&&(n.splice.apply(n,[i,1].concat(a.removeChildren())),a.remove())}return insertChildren.base.call(this,e,n)},reduce:function reduce(e){for(var t=this._children,n=t.length-1;0<=n;n--){(r=t[n].reduce(e)).isEmpty()&&r.remove()}return t.length?reduce.base.call(this):((r=new I(S.NO_INSERT)).copyAttributes(this),r.insertAbove(this),this.remove(),r);var r},isClosed:function(){for(var e=this._children,t=0,n=e.length;t<n;t++)if(!e[t]._closed)return!1;return!0},setClosed:function(e){for(var t=this._children,n=0,r=t.length;n<r;n++)t[n].setClosed(e)},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment()},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment()},getCurves:function(){for(var e=this._children,t=[],n=0,r=e.length;n<r;n++)z.push(t,e[n].getCurves());return t},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve()},getLastCurve:function(){var e=this.getLastChild();return e&&e.getLastCurve()},getArea:function(){for(var e=this._children,t=0,n=0,r=e.length;n<r;n++)t+=e[n].getArea();return t},getLength:function(){for(var e=this._children,t=0,n=0,r=e.length;n<r;n++)t+=e[n].getLength();return t},getPathData:function(e,t){for(var n=this._children,r=[],i=0,a=n.length;i<a;i++){var o=n[i],s=o._matrix;r.push(o.getPathData(e&&!s.isIdentity()?e.appended(s):e,t))}return r.join("")},_hitTestChildren:function _hitTestChildren(e,t,n){return _hitTestChildren.base.call(this,e,t.class===I||"path"===t.type?t:z.set({},t,{fill:!1}),n)},_draw:function(e,t,n,r){var i=this._children;if(i.length){t=t.extend({dontStart:!0,dontFinish:!0}),e.beginPath();for(var a=0,o=i.length;a<o;a++)i[a].draw(e,t,r);if(!t.clip){this._setStyles(e,t,n);var s=this._style;s.hasFill()&&(e.fill(s.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),s.hasStroke()&&e.stroke()}}},_drawSelected:function(e,t,n){for(var r=this._children,i=0,a=r.length;i<a;i++){var o=r[i],s=o._matrix;n[o._id]||o._drawSelected(e,s.isIdentity()?t:t.appended(s))}}},new function(){function getCurrentPath(e,t){var n=e._children;if(t&&!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return z.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(t){this[t]=function(){var e=getCurrentPath(this,!0);e[t].apply(e,arguments)}},{moveTo:function(){var e=getCurrentPath(this),t=e&&e.isEmpty()?e:new I(S.NO_INSERT);t!==e&&this.addChild(t),t.moveTo.apply(t,arguments)},moveBy:function(){var e=getCurrentPath(this,!0),t=e&&e.getLastSegment(),n=W.read(arguments);this.moveTo(t?n.add(t._point):n)},closePath:function(e){getCurrentPath(this,!0).closePath(e)}})},z.each(["reverse","flatten","simplify","smooth"],function(a){this[a]=function(e){for(var t,n=this._children,r=0,i=n.length;r<i;r++)t=n[r][a](e)||t;return t}},{}));x.inject(new function(){var N=Math.min,A=Math.max,R=Math.abs,m={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function preparePath(e,t){var n=e.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);return t?n.resolveCrossings().reorient("nonzero"===n.getFillRule(),!0):n}function createResult(e,t,n,r,i){var a=new O(S.NO_INSERT);return a.addChildren(e,!0),a=a.reduce({simplify:t}),i&&0==i.insert||a.insertAbove(r&&n.isSibling(r)&&n.getIndex()<r.getIndex()?r:n),a.copyAttributes(n,!0),a}function traceBoolean(e,t,n,r){if(r&&(0==r.trace||r.stroke)&&/^(subtract|intersect)$/.test(n))return splitBoolean(e,t,n);var i=preparePath(e,!0),a=t&&e!==t&&preparePath(t,!0),o=m[n];o[n]=!0,a&&(o.subtract||o.exclude)^a.isClockwise()^i.isClockwise()&&a.reverse();var s,l=divideLocations(_.expand(i.getCrossings(a))),u=i._children||[i],c=a&&(a._children||[a]),h=[],d=[];function collect(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];z.push(h,r._segments),z.push(d,r.getCurves()),r._overlapsOnly=!0}}if(l.length){collect(u),c&&collect(c);for(var p=0,f=l.length;p<f;p++)propagateWinding(l[p]._segment,i,a,d,o);for(p=0,f=h.length;p<f;p++){var g=h[p],v=g._intersection;g._winding||propagateWinding(g,i,a,d,o),v&&v._overlap||(g._path._overlapsOnly=!1)}s=tracePaths(h,o)}else s=reorientPaths(c?u.concat(c):u.slice(),function(e){return!!o[e]});return createResult(s,!0,e,t,r)}function splitBoolean(e,t,n){var r=preparePath(e),i=preparePath(t),a=r.getCrossings(i),o="subtract"===n,s="divide"===n,l={},u=[];function addPath(e){if(!l[e._id]&&(s||i.contains(e.getPointAt(e.getLength()/2))^o))return u.unshift(e),l[e._id]=!0}for(var c=a.length-1;0<=c;c--){var h=a[c].split();h&&(addPath(h)&&h.getFirstSegment().setHandleIn(0,0),r.getLastSegment().setHandleOut(0,0))}return addPath(r),createResult(u,!1,e,t)}function linkIntersections(e,t){for(var n=e;n;){if(n===t)return;n=n._previous}for(;e._next&&e._next!==t;)e=e._next;if(!e._next){for(;t._previous;)t=t._previous;(e._next=t)._previous=e}}function clearCurveHandles(e){for(var t=e.length-1;0<=t;t--)e[t].clearHandles()}function reorientPaths(e,t,n){var r=e&&e.length;if(r){var i=z.each(e,function(e,t){this[e._id]={container:null,winding:e.isClockwise()?1:-1,index:t}},{}),a=e.slice().sort(function(e,t){return R(t.getArea())-R(e.getArea())}),o=a[0];null==n&&(n=o.isClockwise());for(var s=0;s<r;s++){for(var l=a[s],u=i[l._id],c=l.getInteriorPoint(),h=0,d=s-1;0<=d;d--){var p=a[d];if(p.contains(c)){var f=i[p._id];h=f.winding,u.winding+=h,u.container=f.exclude?f.container:p;break}}if(t(u.winding)===t(h))u.exclude=!0,e[u.index]=null;else{var g=u.container;l.setClockwise(g?!g.isClockwise():n)}}}return e}function divideLocations(e,t,n){var r,i,a,o=t&&[],s=!1,l=n||[],u=n&&{};function getId(e){return e._path._id+"."+e._segment1._index}for(var c=(n&&n.length)-1;0<=c;c--){(h=n[c])._path&&(u[getId(h)]=!0)}for(c=e.length-1;0<=c;c--){var h,d,p=e[c],f=p._time,g=f,v=t&&!t(p);if((h=p._curve)&&(h!==i?(s=!h.hasHandles()||u&&u[getId(h)],r=[],a=null,i=h):1e-8<=a&&(f/=a)),v)r&&r.push(p);else{if(t&&o.unshift(p),a=g,f<1e-8)d=h._segment1;else if(1-1e-8<f)d=h._segment2;else{var m=h.divideAtTime(f,!0);s&&l.push(h,m),d=m._segment1;for(var _=r.length-1;0<=_;_--){var y=r[_];y._time=(y._time-f)/(1-f)}}p._setSegment(d);var b=d._intersection,w=p._intersection;if(b){linkIntersections(b,w);for(var C=b;C;)linkIntersections(C._intersection,b),C=C._next}else d._intersection=w}}return n||clearCurveHandles(l),o||e}function getWinding(d,p,f,g,v){var m,e,_=f?1:0,y=1^_,t=[d.x,d.y],b=t[_],w=t[y],C=1e-6,x=b-1e-9,S=b+1e-9,n=0,r=0,E=0,k=0,T=!1,i=!1,P=1,I=[];function addWinding(e){var t=e[y+0],n=e[y+6];if(!(w<N(t,n)||w>A(t,n))){var r=e[_+0],i=e[_+2],a=e[_+4],o=e[_+6];if(t!==n){var s=w===t?0:w===n?1:x>A(r,i,a,o)||S<N(r,i,a,o)?1:0<K.solveCubic(e,y,w,I,0,1)?I[0]:1,l=0===s?r:1===s?o:K.getPoint(e,s)[f?"y":"x"],u=n<t?1:-1,c=m[y]>m[y+6]?1:-1,h=m[_+6];return w!==t?(l<x?E+=u:S<l?k+=u:T=!0,b-C<l&&l<b+C&&(P/=2)):(u!=c?r<x?E+=u:S<r&&(k+=u):r!=h&&(h<S&&S<l?(k+=u,T=!0):x<h&&l<x&&(E+=u,T=!0)),P=0),m=e,!v&&x<l&&l<S&&0===K.getTangent(e,s)[f?"x":"y"]&&getWinding(d,p,!f,g,!0)}(r<S&&x<o||o<S&&x<r)&&(T=!0)}}function handleCurve(e){var t=e[y+0],n=e[y+2],r=e[y+4],i=e[y+6];if(w<=A(t,n,r,i)&&w>=N(t,n,r,i))for(var a,o=e[_+0],s=e[_+2],l=e[_+4],u=e[_+6],c=x>A(o,s,l,u)||S<N(o,s,l,u)?[e]:K.getMonoCurves(e,f),h=0,d=c.length;h<d;h++)if(a=addWinding(c[h]))return a}for(var a=0,o=p.length;a<o;a++){var s,l=p[a],u=l._path,c=l.getValues();if(!(a&&p[a-1]._path===u||(m=null,u._closed||(e=K.getValues(u.getLastCurve().getSegment2(),l.getSegment1(),null,!g))[y]!==e[y+6]&&(m=e),m))){m=c;for(var h=u.getLastCurve();h&&h!==l;){var O=h.getValues();if(O[y]!==O[y+6]){m=O;break}h=h.getPrevious()}}if(s=handleCurve(c))return s;if(a+1===o||p[a+1]._path!==u){if(e&&(s=handleCurve(e)))return s;!T||E||k||(E=k=u.isClockwise(g)^f?1:-1),n+=E,r+=k,E=k=0,T=T&&!(i=!0),e=null}}return n=R(n),r=R(r),{winding:A(n,r),windingL:n,windingR:r,quality:P,onPath:i}}function propagateWinding(e,t,n,r,i){var a=[],o=e,s=0;do{var l=(v=e.getCurve()).getLength();a.push({segment:e,curve:v,length:l}),s+=l,e=e.getNext()}while(e&&!e._intersection&&e!==o);for(var u=[.5,.25,.75],c={winding:0,quality:-1},h=0;h<u.length&&c.quality<.5;h++){l=s*u[h];for(var d=0,p=a.length;d<p;d++){var f=a[d],g=f.length;if(l<=g){var v,m=(v=f.curve)._path,_=m._parent,y=_ instanceof O?_:m,b=U.clamp(v.getTimeAt(l),1e-8,1-1e-8),w=v.getPointAtTime(b),C=R(v.getTangentAtTime(b).y)<Math.SQRT1_2,x=null;if(i.subtract&&n){var S=y===t?n._getWinding(w,C,!0):t._getWinding(w,C,!0);if(y===t&&S.winding||y===n&&!S.winding){if(S.quality<1)continue;x={winding:0,quality:1}}}(x=x||getWinding(w,r,C,!0)).quality>c.quality&&(c=x);break}l-=g}}for(d=a.length-1;0<=d;d--)a[d].segment._winding=c}function tracePaths(e,n){var u,t=[];function isValid(e){var t;return!(!e||e._visited||n&&(!n[(t=e._winding||{}).winding]||n.unite&&2===t.winding&&t.windingL&&t.windingR))}function isStart(e){if(e)for(var t=0,n=u.length;t<n;t++)if(e===u[t])return!0;return!1}function visitPath(e){for(var t=e._segments,n=0,r=t.length;n<r;n++)t[n]._visited=!0}function getCrossingSegments(o,s){var e=o._intersection,t=e,l=[];function collect(e,t){for(;e&&e!==t;){var n=e._segment,r=n&&n._path;if(r){var i=n.getNext()||r.getFirstSegment(),a=i._intersection;n!==o&&(isStart(n)||isStart(i)||i&&isValid(n)&&(isValid(i)||a&&isValid(a._segment)))&&l.push(n),s&&u.push(n)}e=e._next}}if(s&&(u=[o]),e){for(collect(e);e&&e._prev;)e=e._prev;collect(e,t)}return l}e.sort(function(e,t){var n=e._intersection,r=t._intersection,i=!(!n||!n._overlap),a=!(!r||!r._overlap),o=e._path,s=t._path;return i^a?i?1:-1:!n^!r?n?1:-1:o!==s?o._id-s._id:e._index-t._index});for(var r=0,i=e.length;r<i;r++){var a,o,s,l=e[r],c=isValid(l),h=null,d=!1,p=!0,f=[];if(c&&l._path._overlapsOnly){var g=l._path,v=l._intersection._segment._path;g.compare(v)&&(g.getArea()&&t.push(g.clone(!1)),visitPath(g),visitPath(v),c=!1)}for(;c;){var m=!h,_=getCrossingSegments(l,m),y=_.shift(),b=!(d=!m&&(isStart(l)||isStart(y)))&&y;if(m&&(h=new I(S.NO_INSERT),a=null),d){(l.isFirst()||l.isLast())&&(p=l._path._closed),l._visited=!0;break}if(b&&a&&(f.push(a),a=null),a||(b&&_.push(l),a={start:h._segments.length,crossings:_,visited:o=[],handleIn:s}),b&&(l=y),!isValid(l)){h.removeSegments(a.start);for(var w=0,C=o.length;w<C;w++)o[w]._visited=!1;for(o.length=0;(l=a&&a.crossings.shift())&&l._path||(l=null,(a=f.pop())&&(o=a.visited,s=a.handleIn)),a&&!isValid(l););if(!l)break}var x=l.getNext();h.add(new G(l._point,s,x&&l._handleOut)),l._visited=!0,o.push(l),l=x||l._path.getFirstSegment(),s=x&&x._handleIn}d&&(p&&(h.getFirstSegment().setHandleIn(s),h.setClosed(p)),0!==h.getArea()&&t.push(h))}return t}return{_getWinding:function(e,t,n){return getWinding(e,this.getCurves(),t,n)},unite:function(e,t){return traceBoolean(this,e,"unite",t)},intersect:function(e,t){return traceBoolean(this,e,"intersect",t)},subtract:function(e,t){return traceBoolean(this,e,"subtract",t)},exclude:function(e,t){return traceBoolean(this,e,"exclude",t)},divide:function(e,t){return t&&(0==t.trace||t.stroke)?splitBoolean(this,e,"divide"):createResult([this.subtract(e,t),this.intersect(e,t)],!0,this,e,t)},resolveCrossings:function(){var e=this._children,t=e||[this];function hasOverlap(e,t){var n=e&&e._intersection;return n&&n._overlap&&n._path===t}var n=!1,r=!1,i=this.getIntersections(null,function(e){return e.hasOverlap()&&(n=!0)||e.isCrossing()&&(r=!0)}),a=n&&r&&[];if(i=_.expand(i),n)for(var o=divideLocations(i,function(e){return e.hasOverlap()},a),s=o.length-1;0<=s;s--){var l=o[s],u=l._path,c=l._segment,h=c.getPrevious(),d=c.getNext();hasOverlap(h,u)&&hasOverlap(d,u)&&(c.remove(),h._handleOut._set(0,0),d._handleIn._set(0,0),h===c||h.getCurve().hasLength()||(d._handleIn.set(h._handleIn),h.remove()))}r&&(divideLocations(i,n&&function(e){var t=e.getCurve(),n=e.getSegment(),r=e._intersection,i=r._curve,a=r._segment;if(t&&i&&t._path&&i._path)return!0;n&&(n._intersection=null),a&&(a._intersection=null)},a),a&&clearCurveHandles(a),t=tracePaths(z.each(t,function(e){z.push(this,e._segments)},[])));var p,f=t.length;return 1<f&&e?(t!==e&&this.setChildren(t),p=this):1!==f||e||(t[0]!==this&&this.setSegments(t[0].removeSegments()),p=this),p||((p=new O(S.NO_INSERT)).addChildren(t),(p=p.reduce()).copyAttributes(this),this.replaceWith(p)),p},reorient:function(t,e){var n=this._children;return n&&n.length?this.setChildren(reorientPaths(this.removeChildren(),function(e){return!!(t?e:1&e)},e)):e!==B&&this.setClockwise(e),this},getInteriorPoint:function(){var e=this.getBounds().getCenter(!0);if(!this.contains(e)){for(var t=this.getCurves(),n=e.y,r=[],i=[],a=0,o=t.length;a<o;a++){var s=t[a].getValues(),l=s[1],u=s[3],c=s[5],h=s[7];if(n>=N(l,u,c,h)&&n<=A(l,u,c,h))for(var d=K.getMonoCurves(s),p=0,f=d.length;p<f;p++){var g=d[p],v=g[1],m=g[7];if(v!==m&&(v<=n&&n<=m||m<=n&&n<=v)){var _=n===v?g[0]:n===m?g[6]:1===K.solveCubic(g,1,n,i,0,1)?K.getPoint(g,i[0]).x:(g[0]+g[6])/2;r.push(_)}}}1<r.length&&(r.sort(function(e,t){return e-t}),e.x=(r[0]+r[1])/2)}return e}}});var v=z.extend({_class:"PathFlattener",initialize:function(e,u,t,c,r){var n,i=[],h=[],d=0,p=1/(t||32),a=e._segments,o=a[0];function addCurve(e,t){var n=K.getValues(e,t,r);i.push(n),function computeParts(e,t,n,r){if(!(p<r-n)||c&&K.isStraight(e)||K.isFlatEnough(e,u||.25)){var i=e[6]-e[0],a=e[7]-e[1],o=Math.sqrt(i*i+a*a);0<o&&(d+=o,h.push({offset:d,curve:e,index:t,time:r}))}else{var s=K.subdivide(e,.5),l=(n+r)/2;computeParts(s[0],t,n,l),computeParts(s[1],t,l,r)}}(n,e._index,0,1)}for(var s=1,l=a.length;s<l;s++)addCurve(o,n=a[s]),o=n;e._closed&&addCurve(n||o,a[0]),this.curves=i,this.parts=h,this.length=d,this.index=0},_get:function(e){for(var t,n=this.parts,r=n.length,i=this.index;(t=i)&&!(n[--i].offset<e););for(;t<r;t++){var a=n[t];if(a.offset>=e){var o=n[(this.index=t)-1],s=o&&o.index===a.index?o.time:0,l=o?o.offset:0;return{index:a.index,time:s+(a.time-s)*(e-l)/(a.offset-l)}}}return{index:n[r-1].index,time:1}},drawPart:function(e,t,n){for(var r=this._get(t),i=this._get(n),a=r.index,o=i.index;a<=o;a++){var s=K.getPart(this.curves[a],a===r.index?r.time:0,a===i.index?i.time:1);a===r.index&&e.moveTo(s[0],s[1]),e.bezierCurveTo.apply(e,s.slice(2))}}},z.each(K._evaluateMethods,function(n){this[n+"At"]=function(e){var t=this._get(e);return K[n](this.curves[t.index],t.time)}},{})),i=z.extend({initialize:function(e){for(var t,n=this.points=[],r=e._segments,i=e._closed,a=0,o=r.length;a<o;a++){var s=r[a].point;t&&t.equals(s)||n.push(t=s.clone())}i&&(n.unshift(n[n.length-1]),n.push(n[1])),this.closed=i},fit:function(e){var t=this.points,n=t.length,r=null;return 0<n&&(r=[new G(t[0])],1<n&&(this.fitCubic(r,e,0,n-1,t[1].subtract(t[0]),t[n-2].subtract(t[n-1])),this.closed&&(r.shift(),r.pop()))),r},fitCubic:function(e,t,n,r,i,a){var o=this.points;if(r-n!=1){for(var s,l=this.chordLengthParameterize(n,r),u=Math.max(t,t*t),c=!0,h=0;h<=4;h++){var d=this.generateBezier(n,r,l,i,a),p=this.findMaxError(n,r,d,l);if(p.error<t&&c)return void this.addCurve(e,d);if(s=p.index,p.error>=u)break;c=this.reparameterize(n,r,l,d),u=p.error}var f=o[s-1].subtract(o[s+1]);this.fitCubic(e,t,n,s,i,f),this.fitCubic(e,t,s,r,f.negate(),a)}else{var g=o[n],v=o[r],m=g.getDistance(v)/3;this.addCurve(e,[g,g.add(i.normalize(m)),v.add(a.normalize(m)),v])}},addCurve:function(e,t){e[e.length-1].setHandleOut(t[1].subtract(t[0])),e.push(new G(t[3],t[2].subtract(t[3])))},generateBezier:function(e,t,n,r,i){for(var a=Math.abs,o=this.points,s=o[e],l=o[t],u=[[0,0],[0,0]],c=[0,0],h=0,d=t-e+1;h<d;h++){var p=n[h],f=1-p,g=3*p*f,v=f*f*f,m=g*f,_=g*p,y=p*p*p,b=r.normalize(m),w=i.normalize(_),C=o[e+h].subtract(s.multiply(v+m)).subtract(l.multiply(_+y));u[0][0]+=b.dot(b),u[0][1]+=b.dot(w),u[1][0]=u[0][1],u[1][1]+=w.dot(w),c[0]+=b.dot(C),c[1]+=w.dot(C)}var x,S,E=u[0][0]*u[1][1]-u[1][0]*u[0][1];if(1e-12<a(E)){var k=u[0][0]*c[1]-u[1][0]*c[0];x=(c[0]*u[1][1]-c[1]*u[0][1])/E,S=k/E}else{var T=u[0][0]+u[0][1],P=u[1][0]+u[1][1];x=S=1e-12<a(T)?c[0]/T:1e-12<a(P)?c[1]/P:0}var I,O,N=l.getDistance(s),A=1e-12*N;if(x<A||S<A)x=S=N/3;else{var R=l.subtract(s);I=r.normalize(x),O=i.normalize(S),I.dot(R)-O.dot(R)>N*N&&(x=S=N/3,I=O=null)}return[s,s.add(I||r.normalize(x)),l.add(O||i.normalize(S)),l]},reparameterize:function(e,t,n,r){for(var i=e;i<=t;i++)n[i-e]=this.findRoot(r,this.points[i],n[i-e]);i=1;for(var a=n.length;i<a;i++)if(n[i]<=n[i-1])return!1;return!0},findRoot:function(e,t,n){for(var r=[],i=[],a=0;a<=2;a++)r[a]=e[a+1].subtract(e[a]).multiply(3);for(a=0;a<=1;a++)i[a]=r[a+1].subtract(r[a]).multiply(2);var o=this.evaluate(3,e,n),s=this.evaluate(2,r,n),l=this.evaluate(1,i,n),u=o.subtract(t),c=s.dot(s)+u.dot(l);return U.isZero(c)?n:n-u.dot(s)/c},evaluate:function(e,t,n){for(var r=t.slice(),i=1;i<=e;i++)for(var a=0;a<=e-i;a++)r[a]=r[a].multiply(1-n).add(r[a+1].multiply(n));return r[0]},chordLengthParameterize:function(e,t){for(var n=[0],r=e+1;r<=t;r++)n[r-e]=n[r-e-1]+this.points[r].getDistance(this.points[r-1]);r=1;for(var i=t-e;r<=i;r++)n[r]/=n[i];return n},findMaxError:function(e,t,n,r){for(var i=Math.floor((t-e+1)/2),a=0,o=e+1;o<t;o++){var s=this.evaluate(3,n,r[o-e]).subtract(this.points[o]),l=s.x*s.x+s.y*s.y;a<=l&&(a=l,i=o)}return{error:a,index:i}}}),c=S.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function TextItem(e){this._content="",this._lines=[];var t=e&&z.isPlainObject(e)&&e.x===B&&e.y===B;this._initialize(t&&e,!t&&W.read(arguments))},_equals:function(e){return this._content===e._content},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),N=c.extend({_class:"PointText",initialize:function PointText(){c.apply(this,arguments)},getPoint:function(){var e=this._matrix.getTranslation();return new h(e.x,e.y,this,"setPoint")},setPoint:function(){var e=W.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()))},_draw:function(e,t,n){if(this._content){this._setStyles(e,t,n);var r=this._lines,i=this._style,a=i.hasFill(),o=i.hasStroke(),s=i.getLeading(),l=e.shadowColor;e.font=i.getFontStyle(),e.textAlign=i.getJustification();for(var u=0,c=r.length;u<c;u++){e.shadowColor=l;var h=r[u];a&&(e.fillText(h,0,0),e.shadowColor="rgba(0,0,0,0)"),o&&e.strokeText(h,0,0),e.translate(0,s)}}},_getBounds:function(e,t){var n=this._style,r=this._lines,i=r.length,a=n.getJustification(),o=n.getLeading(),s=this.getView().getTextWidth(n.getFontStyle(),r),l=0;"left"!==a&&(l-=s/("center"===a?2:1));var u=new P(l,i?-.75*o:0,s,i*o);return e?e._transformBounds(u,u):u}}),A=z.extend(new function(){var m,_={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},y={},b={transparent:[0,0,0,0]};var o=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],n={"rgb-hsb":function(e,t,n){var r=Math.max(e,t,n),i=r-Math.min(e,t,n);return[0==i?0:60*(r==e?(t-n)/i+(t<n?6:0):r==t?(n-e)/i+2:(e-t)/i+4),0===r?0:i/r,r]},"hsb-rgb":function(e,t,n){var r,i=(e=(e/60%6+6)%6)-(r=Math.floor(e)),a=[n,n*(1-t),n*(1-t*i),n*(1-t*(1-i))];return[a[(r=o[r])[0]],a[r[1]],a[r[2]]]},"rgb-hsl":function(e,t,n){var r=Math.max(e,t,n),i=Math.min(e,t,n),a=r-i,o=0==a,s=(r+i)/2;return[o?0:60*(r==e?(t-n)/a+(t<n?6:0):r==t?(n-e)/a+2:(e-t)/a+4),o?0:s<.5?a/(r+i):a/(2-r-i),s]},"hsl-rgb":function(e,t,n){if(0===t)return[n,n,n];for(var r=[(e=(e/360%1+1)%1)+1/3,e,e-1/3],i=n<.5?n*(1+t):n+t-n*t,a=2*n-i,o=[],s=0;s<3;s++){var l=r[s];l<0&&(l+=1),1<l&&(l-=1),o[s]=6*l<1?a+6*(i-a)*l:2*l<1?i:3*l<2?a+(i-a)*(2/3-l)*6:a}return o},"rgb-gray":function(e,t,n){return[.2989*e+.587*t+.114*n]},"gray-rgb":function(e){return[e,e,e]},"gray-hsb":function(e){return[0,0,e]},"gray-hsl":function(e){return[0,0,e]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return z.each(_,function(e,a){y[a]=[],z.each(e,function(e,t){var n=z.capitalize(e),r=/^(hue|saturation)$/.test(e),i=y[a][t]="gradient"===a?"gradient"===e?function(e){var t=this._components[0];return t!==(e=R.read(Array.isArray(e)?e:arguments,0,{readNull:!0}))&&(t&&t._removeOwner(this),e&&e._addOwner(this)),e}:function(){return W.read(arguments,0,{readNull:"highlight"===e,clone:!0})}:function(e){return null==e||isNaN(e)?0:+e};this["get"+n]=function(){return this._type===a||r&&/^hs[bl]$/.test(this._type)?this._components[t]:this._convert(a)[t]},this["set"+n]=function(e){this._type===a||r&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(a),this._properties=_[a],this._type=a),this._components[t]=i.call(this,e),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function Color(e){var t,n,r,i,a=arguments,o=this.__read,s=0;Array.isArray(e)&&(e=(a=e)[0]);var l=null!=e&&typeof e;if("string"===l&&e in _&&(t=e,e=a[1],Array.isArray(e)?(n=e,r=a[2]):(o&&(s=1),a=z.slice(a,1),l=typeof e)),!n){if(i="number"===l?a:"object"===l&&null!=e.length?e:null){t=t||(3<=i.length?"rgb":"gray");var u=_[t].length;r=i[u],o&&(s+=i===arguments?u+(null!=r?1:0):1),i.length>u&&(i=z.slice(i,0,u))}else if("string"===l){var c=function fromCSS(e){var t,n=e.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||e.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),r="rgb";if(n){var i=n[4]?4:3;t=new Array(i);for(var a=0;a<i;a++){var o=n[a+1];t[a]=parseInt(1==o.length?o+o:o,16)/255}}else if(n=e.match(/^(rgb|hsl)a?\((.*)\)$/)){r=n[1],t=n[2].trim().split(/[,\s]+/g);for(var s="hsl"===r,l=(a=0,Math.min(t.length,4));a<l;a++){var u=t[a];o=parseFloat(u);if(s)if(0===a){var c=u.match(/([a-z]*)$/)[1];o*={turn:360,rad:180/Math.PI,grad:.9}[c]||1}else a<3&&(o/=100);else a<3&&(o/=255);t[a]=o}}else{var h=b[e];if(!h)if(k){m||((m=ne.getContext(1,1)).globalCompositeOperation="copy"),m.fillStyle="rgba(0,0,0,0)",m.fillStyle=e,m.fillRect(0,0,1,1);var d=m.getImageData(0,0,1,1).data;h=b[e]=[d[0]/255,d[1]/255,d[2]/255]}else h=[0,0,0];t=h.slice()}return[r,t]}(e);t=c[0],4===(n=c[1]).length&&(r=n[3],n.length--)}else if("object"===l)if(e.constructor===Color){if(t=e._type,n=e._components.slice(),r=e._alpha,"gradient"===t)for(var h=1,d=n.length;h<d;h++){var p=n[h];p&&(n[h]=p.clone())}}else if(e.constructor===R)t="gradient",i=a;else{var f=_[t="hue"in e?"lightness"in e?"hsl":"hsb":"gradient"in e||"stops"in e||"radial"in e?"gradient":"gray"in e?"gray":"rgb"],g=y[t];this._components=n=[];for(h=0,d=f.length;h<d;h++){null==(v=e[f[h]])&&!h&&"gradient"===t&&"stops"in e&&(v={stops:e.stops,radial:e.radial}),null!=(v=g[h].call(this,v))&&(n[h]=v)}r=e.alpha}o&&t&&(s=1)}if(this._type=t||"rgb",!n){this._components=n=[];for(h=0,d=(g=y[this._type]).length;h<d;h++){var v;null!=(v=g[h].call(this,i&&i[h]))&&(n[h]=v)}}return this._components=n,this._properties=_[this._type],this._alpha=r,o&&(this.__read=s),this},set:"#initialize",_serialize:function(e,t){var n=this.getComponents();return z.serialize(/^(gray|rgb)$/.test(this._type)?n:[this._type].concat(n),e,!0,t)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(e){var t;return this._type===e?this._components.slice():(t=n[this._type+"-"+e])?t.apply(this,this._components):n["rgb-"+e].apply(this,n[this._type+"-rgb"].apply(this,this._components))},convert:function(e){return new A(e,this._convert(e),this._alpha)},getType:function(){return this._type},setType:function(e){this._components=this._convert(e),this._properties=_[e],this._type=e},getComponents:function(){var e=this._components.slice();return null!=this._alpha&&e.push(this._alpha),e},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(e){this._alpha=null==e?null:Math.min(Math.max(e,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(e){var t=z.isPlainValue(e,!0)?A.read(arguments):e;return t===this||t&&this._class===t._class&&this._type===t._type&&this.getAlpha()===t.getAlpha()&&z.equals(this._components,t._components)||!1},toString:function(){for(var e=this._properties,t=[],n="gradient"===this._type,r=w.instance,i=0,a=e.length;i<a;i++){var o=this._components[i];null!=o&&t.push(e[i]+": "+(n?o:r.number(o)))}return null!=this._alpha&&t.push("alpha: "+r.number(this._alpha)),"{ "+t.join(", ")+" }"},toCSS:function(e){var t=this._convert("rgb"),n=e||null==this._alpha?1:this._alpha;function convert(e){return Math.round(255*(e<0?0:1<e?1:e))}return t=[convert(t[0]),convert(t[1]),convert(t[2])],n<1&&t.push(n<0?0:n),e?"#"+((1<<24)+(t[0]<<16)+(t[1]<<8)+t[2]).toString(16).slice(1):(4==t.length?"rgba(":"rgb(")+t.join(",")+")"},toCanvasStyle:function(e,t){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var n,r=this._components,i=r[0],a=i._stops,o=r[1],s=r[2],l=r[3],u=t&&t.inverted();if(u&&(o=u._transformPoint(o),s=u._transformPoint(s),l=l&&u._transformPoint(l)),i._radial){var c=s.getDistance(o);if(l){var h=l.subtract(o);h.getLength()>c&&(l=o.add(h.normalize(c-.1)))}var d=l||o;n=e.createRadialGradient(d.x,d.y,0,o.x,o.y,c)}else n=e.createLinearGradient(o.x,o.y,s.x,s.y);for(var p=0,f=a.length;p<f;p++){var g=a[p],v=g._offset;n.addColorStop(null==v?p/(f-1):v,g._color.toCanvasStyle())}return this._canvasStyle=n},transform:function(e){if("gradient"===this._type){for(var t=this._components,n=1,r=t.length;n<r;n++){var i=t[n];e._transformPoint(i,i,!0)}this._changed()}},statics:{_types:_,random:function(){var e=Math.random;return new A(e(),e(),e())},_setOwner:function(e,t,n){return e&&(e._owner&&t&&e._owner!==t&&(e=e.clone()),!e._owner^!t&&(e._owner=t||null,e._setter=n||null)),e}}})},new function(){return z.each({add:function(e,t){return e+t},subtract:function(e,t){return e-t},multiply:function(e,t){return e*t},divide:function(e,t){return e/t}},function(o,e){this[e]=function(e){e=A.read(arguments);for(var t=this._type,n=this._components,r=e._convert(t),i=0,a=n.length;i<a;i++)r[i]=o(n[i],r[i]);return new A(t,r,null!=this._alpha?o(this._alpha,e.getAlpha()):null)}},{})}),R=z.extend({_class:"Gradient",initialize:function Gradient(e,t){this._id=u.get(),e&&z.isPlainObject(e)&&(this.set(e),e=t=null),null==this._stops&&this.setStops(e||["white","black"]),null==this._radial&&this.setRadial("string"==typeof t&&"radial"===t||t||!1)},_serialize:function(e,t){return t.add(this,function(){return z.serialize([this._stops,this._radial],e,!0,t)})},_changed:function(){for(var e=0,t=this._owners&&this._owners.length;e<t;e++)this._owners[e]._changed()},_addOwner:function(e){this._owners||(this._owners=[]),this._owners.push(e)},_removeOwner:function(e){var t=this._owners?this._owners.indexOf(e):-1;-1!=t&&(this._owners.splice(t,1),this._owners.length||(this._owners=B))},clone:function(){for(var e=[],t=0,n=this._stops.length;t<n;t++)e[t]=this._stops[t].clone();return new R(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var t=this._stops;if(t)for(var n=0,r=t.length;n<r;n++)t[n]._owner=B;for(n=0,r=(t=this._stops=L.readList(e,0,{clone:!0})).length;n<r;n++)t[n]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){if(e===this)return!0;if(e&&this._class===e._class){var t=this._stops,n=e._stops,r=t.length;if(r===n.length){for(var i=0;i<r;i++)if(!t[i].equals(n[i]))return!1;return!0}}return!1}}),L=z.extend({_class:"GradientStop",initialize:function GradientStop(e,t){var n=e,r=t;"object"==typeof e&&t===B&&(Array.isArray(e)&&"number"!=typeof e[0]?(n=e[0],r=e[1]):("color"in e||"offset"in e||"rampPoint"in e)&&(n=e.color,r=e.offset||e.rampPoint||0)),this.setColor(n),this.setOffset(r)},clone:function(){return new L(this._color.clone(),this._offset)},_serialize:function(e,t){var n=this._color,r=this._offset;return z.serialize(null==r?[n]:[n,r],e,!0,t)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(e){this._offset=e,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){A._setOwner(this._color,null),this._color=A._setOwner(A.read(arguments,0),this,"setColor"),this._changed()},equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._offset==e._offset||!1}}),m=z.extend(new function(){var r={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new W,selectedColor:null},i=z.set({},r,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),a=z.set({},i,{fillColor:new A}),n={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},o={beans:!0},l={_class:"Style",beans:!0,initialize:function Style(e,t,n){this._values={},this._owner=t,this._project=t&&t._project||n||oe.project,this._defaults=!t||t instanceof y?i:t instanceof c?a:r,e&&this.set(e)}};return z.each(i,function(e,u){var c=/Color$/.test(u),h="shadowOffset"===u,t=z.capitalize(u),s=n[u],d="set"+t,p="get"+t;l[d]=function(e){var t=this._owner,n=t&&t._children,r=n&&0<n.length&&!(t instanceof O);if(r)for(var i=0,a=n.length;i<a;i++)n[i]._style[d](e);if(("selectedColor"===u||!r)&&u in this._defaults){var o=this._values[u];o!==e&&(c&&(o&&(A._setOwner(o,null),o._canvasStyle=null),e&&e.constructor===A&&(e=A._setOwner(e,t,r&&d))),this._values[u]=e,t&&t._changed(s||129))}},l[p]=function(e){var t=this._owner,n=t&&t._children,r=n&&0<n.length&&!(t instanceof O);if(r&&!e)for(var i=0,a=n.length;i<a;i++){var o=n[i]._style[p]();if(i){if(!z.equals(s,o))return B}else s=o}else if(u in this._defaults){var s;if((s=this._values[u])===B)(s=this._defaults[u])&&s.clone&&(s=s.clone());else{var l=c?A:h?W:null;!l||s&&s.constructor===l||(this._values[u]=s=l.read([s],0,{readNull:!0,clone:!0}))}}return s&&c&&(s=A._setOwner(s,t,r&&d)),s},o[p]=function(e){return this._style[p](e)},o[d]=function(e){this._style[d](e)}}),z.each({Font:"FontFamily",WindingRule:"FillRule"},function(e,t){var n="get"+t,r="set"+t;l[n]=o[n]="#get"+e,l[r]=o[r]="#set"+e}),S.inject(o),l},{set:function(e){var t=e instanceof m,n=t?e._values:e;if(n)for(var r in n)if(r in this._defaults){var i=n[r];this[r]=i&&t&&i.clone?i.clone():i}},equals:function(e){function compare(e,t,n){var r=e._values,i=t._values,a=t._defaults;for(var o in r){var s=r[o],l=i[o];if(!(n&&o in i||z.equals(s,l===B?a[o]:l)))return!1}return!0}return e===this||e&&this._class===e._class&&compare(this,e)&&compare(e,this,!0)||!1},_dispose:function(){var e;(e=this.getFillColor())&&(e._canvasStyle=null),(e=this.getStrokeColor())&&(e._canvasStyle=null),(e=this.getShadowColor())&&(e._canvasStyle=null)},hasFill:function(){var e=this.getFillColor();return!!e&&0<e.alpha},hasStroke:function(){var e=this.getStrokeColor();return!!e&&0<e.alpha&&0<this.getStrokeWidth()},hasShadow:function(){var e=this.getShadowColor();return!!e&&0<e.alpha&&(0<this.getShadowBlur()||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function getLeading(){var e=getLeading.base.call(this),t=this.getFontSize();return/pt|em|%|px/.test(t)&&(t=this.getView().getPixelSize(t)),null!=e?e:1.2*t}}),M=new function(){function handlePrefix(e,t,n,r){for(var i=["","webkit","moz","Moz","ms","o"],a=t[0].toUpperCase()+t.substring(1),o=0;o<6;o++){var s=i[o],l=s?s+a:t;if(l in e){if(!n)return e[l];e[l]=r;break}}}return{getStyles:function(e){var t=e&&9!==e.nodeType?e.ownerDocument:e,n=t&&t.defaultView;return n&&n.getComputedStyle(e,"")},getBounds:function(e,t){var n,r=e.ownerDocument,i=r.body,a=r.documentElement;try{n=e.getBoundingClientRect()}catch(e){n={left:0,top:0,width:0,height:0}}var o=n.left-(a.clientLeft||i.clientLeft||0),s=n.top-(a.clientTop||i.clientTop||0);if(!t){var l=r.defaultView;o+=l.pageXOffset||a.scrollLeft||i.scrollLeft,s+=l.pageYOffset||a.scrollTop||i.scrollTop}return new P(o,s,n.width,n.height)},getViewportBounds:function(e){var t=e.ownerDocument,n=t.defaultView,r=t.documentElement;return new P(0,0,n.innerWidth||r.clientWidth,n.innerHeight||r.clientHeight)},getOffset:function(e,t){return M.getBounds(e,t).getPoint()},getSize:function(e){return M.getBounds(e,!0).getSize()},isInvisible:function(e){return M.getSize(e).equals(new q(0,0))},isInView:function(e){return!M.isInvisible(e)&&M.getViewportBounds(e).intersects(M.getBounds(e,!0))},isInserted:function(e){return T.body.contains(e)},getPrefixed:function(e,t){return e&&handlePrefix(e,t)},setPrefixed:function(e,t,n){if("object"==typeof t)for(var r in t)handlePrefix(e,r,!0,t[r]);else handlePrefix(e,t,!0,n)}}},D={add:function(e,t){if(e)for(var n in t)for(var r=t[n],i=n.split(/[\s,]+/g),a=0,o=i.length;a<o;a++){var s=i[a],l=e===T&&("touchstart"===s||"touchmove"===s)&&{passive:!1};e.addEventListener(s,r,l)}},remove:function(e,t){if(e)for(var n in t)for(var r=t[n],i=n.split(/[\s,]+/g),a=0,o=i.length;a<o;a++)e.removeEventListener(i[a],r,!1)},getPoint:function(e){var t=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;return new W(t.pageX||t.clientX+T.documentElement.scrollLeft,t.pageY||t.clientY+T.documentElement.scrollTop)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){return e.relatedTarget||e.toElement},getOffset:function(e,t){return D.getPoint(e).subtract(M.getOffset(t||D.getTarget(e)))}};D.requestAnimationFrame=new function(){var t,r=M.getPrefixed(k,"requestAnimationFrame"),i=!1,a=[];function handleCallbacks(){var e=a;a=[];for(var t=0,n=e.length;t<n;t++)e[t]();(i=r&&a.length)&&r(handleCallbacks)}return function(e){a.push(e),r?i||(r(handleCallbacks),i=!0):t=t||setInterval(handleCallbacks,1e3/60)}};var F=z.extend(e,{_class:"View",initialize:function View(e,t){function getSize(e){return t[e]||parseInt(t.getAttribute(e),10)}function getCanvasSize(){var e=M.getSize(t);return e.isNaN()||e.isZero()?new q(getSize("width"),getSize("height")):e}var n;if(k&&t){this._id=t.getAttribute("id"),null==this._id&&t.setAttribute("id",this._id="view-"+View._id++),D.add(t,this._viewEvents);var r="none";if(M.setPrefixed(t.style,{userDrag:r,userSelect:r,touchCallout:r,contentZooming:r,tapHighlightColor:"rgba(0,0,0,0)"}),l.hasAttribute(t,"resize")){var i=this;D.add(k,this._windowEvents={resize:function(){i.setViewSize(getCanvasSize())}})}if(n=getCanvasSize(),l.hasAttribute(t,"stats")&&"undefined"!=typeof Stats){this._stats=new Stats;var a=this._stats.domElement,o=a.style,s=M.getOffset(t);o.position="absolute",o.left=s.x+"px",o.top=s.y+"px",T.body.appendChild(a)}}else n=new q(t),t=null;this._project=e,this._scope=e._scope,this._element=t,this._pixelRatio||(this._pixelRatio=k&&k.devicePixelRatio||1),this._setElementSize(n.width,n.height),this._viewSize=n,View._views.push(this),((View._viewsById[this._id]=this)._matrix=new Q)._owner=this,View._focused||(View._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!oe.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;F._focused===this&&(F._focused=null),F._views.splice(F._views.indexOf(this),1),delete F._viewsById[this._id];var e=this._project;return e._view===this&&(e._view=null),D.remove(this._element,this._viewEvents),D.remove(k,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:z.each(S._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(e){this[e]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(e){(this._autoUpdate=e)&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;D.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var e=t._element;M.getPrefixed(T,"hidden")&&"true"!==l.getAttribute(e,"keepalive")||!M.isInView(e)||t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){oe=this._scope;var e=Date.now()/1e3,t=this._last?e-this._last:0;this._last=e,this.emit("frame",new z({delta:t,time:this._time+=t,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(e,t){var n=this._frameItems;t?(n[e._id]={item:e,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete n[e._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(e){for(var t in this._frameItems){var n=this._frameItems[t];n.item.emit("frame",new z(e,{time:n.time+=e.delta,count:n.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=B},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var e=this._viewSize;return new n(e.width,e.height,this,"setViewSize")},setViewSize:function(){var e=q.read(arguments),t=e.subtract(this._viewSize);t.isZero()||(this._setElementSize(e.width,e.height),this._viewSize.set(e),this._changed(),this.emit("resize",{size:e,delta:t}),this._autoUpdate&&this.update())},_setElementSize:function(e,t){var n=this._element;n&&(n.width!==e&&(n.width=e),n.height!==t&&(n.height=t))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new P(new W,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return M.isInView(this._element)},isInserted:function(){return M.isInserted(this._element)},getPixelSize:function(e){var t,n=this._element;if(n){var r=n.parentNode,i=T.createElement("div");i.style.fontSize=e,r.appendChild(i),t=parseFloat(M.getStyles(i).fontSize),r.removeChild(i)}else t=parseFloat(t);return t},getTextWidth:function(e,t){return 0}},z.each(["rotate","scale","shear","skew"],function(n){var r="rotate"===n;this[n]=function(){var e=(r?z:W).read(arguments),t=W.read(arguments,0,{readNull:!0});return this.transform((new Q)[n](e,t||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var e=new Q;return this.transform(e.translate.apply(e,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var e=W.read(arguments);this.translate(this.getCenter().subtract(e))},getZoom:function(){var e=this._decompose().scaling;return(e.x+e.y)/2},setZoom:function(e){this.transform((new Q).scale(e/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(e){var t=this.getRotation();null!=t&&null!=e&&this.rotate(e-t)},getScaling:function(){var e=this._decompose().scaling;return new h(e.x,e.y,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=W.read(arguments,0,{clone:!0,readNull:!0});e&&t&&this.scale(t.x/e.x,t.y/e.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.initialize.apply(e,arguments)},transform:function(e){this._matrix.append(e)},scrollBy:function(){this.translate(W.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(W.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(W.read(arguments))},getEventPoint:function(e){return this.viewToProject(D.getOffset(e,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,t){return T&&"string"==typeof t&&(t=T.getElementById(t)),new(k?V:F)(e,t)}}},new function(){if(k){var r,i,e,t,n,f=!1,a=!1,o=k.navigator;o.pointerEnabled||o.msPointerEnabled?(e="pointerdown MSPointerDown",t="pointermove MSPointerMove",n="pointerup pointercancel MSPointerUp MSPointerCancel"):(e="touchstart",t="touchmove",n="touchend touchcancel","ontouchstart"in k&&o.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(e+=" mousedown",t+=" mousemove",n+=" mouseup"));var s={},l={mouseout:function(e){var t=F._focused,n=D.getRelatedTarget(e);if(t&&(!n||"HTML"===n.nodeName)){var r=D.getOffset(e,t._element),i=r.x,a=Math.abs,o=a(i),s=o-(1<<25);r.x=a(s)<o?s*(i<0?-1:1):i,handleMouseMove(t,e,t.viewToProject(r))}},scroll:updateFocus};s[e]=function(e){var t=F._focused=getView(e);f||(f=!0,t._handleMouseEvent("mousedown",e))},l[t]=function(e){var t=F._focused;if(!a){var n=getView(e);n?t!==n&&(t&&handleMouseMove(t,e),r=r||t,t=F._focused=i=n):i&&i===t&&(r&&!r.isInserted()&&(r=null),t=F._focused=r,r=null,updateFocus())}t&&handleMouseMove(t,e)},l[e]=function(){a=!0},l[n]=function(e){var t=F._focused;t&&f&&t._handleMouseEvent("mouseup",e),a=f=!1},D.add(T,l),D.add(k,{load:updateFocus});var g,v,m,_,y,b,w,C,x=!1,S=!1,u={doubleclick:"click",mousedrag:"mousemove"},E=!1,c={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:s,_handleMouseEvent:function(e,t,n){var r=this._itemEvents,i=r.native[e],a="mousemove"===e,o=this._scope.tool,s=this;function responds(e){return r.virtual[e]||s.responds(e)||o&&o.responds(e)}a&&f&&responds("mousedrag")&&(e="mousedrag"),n=n||this.getEventPoint(t);var l=this.getBounds().contains(n),u=i&&l&&s._project.hitTest(n,{tolerance:0,fill:!0,stroke:!0}),c=u&&u.item||null,h=!1,d={};if(d[e.substr(5)]=!0,i&&c!==_&&(_&&emitMouseEvent(_,null,"mouseleave",t,n),c&&emitMouseEvent(c,null,"mouseenter",t,n),_=c),E^l&&(emitMouseEvent(this,null,l?"mouseenter":"mouseleave",t,n),l?this:null,h=!0),!l&&!d.drag||n.equals(v)||(emitMouseEvents(this,c,a?e:"mousemove",t,n,v),h=!0),E=l,d.down&&l||d.up&&g){if(emitMouseEvents(this,c,e,t,n,g),d.down){if(C=c===b&&Date.now()-w<300,m=b=c,!S&&c){for(var p=c;p&&!p.responds("mousedrag");)p=p._parent;p&&(y=c)}g=n}else d.up&&(S||c!==m||(w=Date.now(),emitMouseEvents(this,c,C?"doubleclick":"click",t,n,g),C=!1),m=y=null);h=!(E=!1)}v=n,h&&o&&(x=o._handleMouseEvent(e,t,n,d)||x),!1!==t.cancelable&&(x&&!d.move||d.down&&responds("mouseup"))&&t.preventDefault()},_handleKeyEvent:function(t,n,r,i){var a,o=this._scope,e=o.tool;function emit(e){e.responds(t)&&(oe=o,e.emit(t,a=a||new $(t,n,r,i)))}this.isVisible()&&(emit(this),e&&e.responds(t)&&emit(e))},_countItemEvent:function(e,t){var n=this._itemEvents,r=n.native,i=n.virtual;for(var a in c)r[a]=(r[a]||0)+(c[a][e]||0)*t;i[e]=(i[e]||0)+t},statics:{updateFocus:updateFocus,_resetState:function(){f=a=x=E=!1,r=i=g=v=m=_=y=b=w=C=null}}}}function getView(e){var t=D.getTarget(e);return t.getAttribute&&F._viewsById[t.getAttribute("id")]}function updateFocus(){var e=F._focused;if(!e||!e.isVisible())for(var t=0,n=F._views.length;t<n;t++)if((e=F._views[t]).isVisible()){F._focused=i=e;break}}function handleMouseMove(e,t,n){e._handleMouseEvent("mousemove",t,n)}function emitMouseEvent(e,r,t,i,a,o,n){var s,l=!1;function emit(e,t){if(e.responds(t)){if(s=s||new J(t,i,a,r||e,o?a.subtract(o):null),e.emit(t,s)&&(x=!0,s.prevented&&(S=!0),s.stopped))return l=!0}else{var n=u[t];if(n)return emit(e,n)}}for(;e&&e!==n&&!emit(e,t);)e=e._parent;return l}function emitMouseEvents(e,t,n,r,i,a){return e._project.removeOn(n),S=x=!1,y&&emitMouseEvent(y,null,n,r,i,a)||t&&t!==y&&!t.isDescendant(y)&&emitMouseEvent(t,null,"mousedrag"===n?"mousemove":n,r,i,a,y)||emitMouseEvent(e,y||t||e,n,r,i,a)}}),V=F.extend({_class:"CanvasView",initialize:function CanvasView(e,t){if(!(t instanceof k.HTMLCanvasElement)){var n=q.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+z.slice(arguments,1));t=ne.getCanvas(n)}var r=this._context=t.getContext("2d");if(r.save(),this._pixelRatio=1,!/^off|false$/.test(l.getAttribute(t,"hidpi"))){var i=k.devicePixelRatio||1,a=M.getPrefixed(r,"backingStorePixelRatio")||1;this._pixelRatio=i/a}F.call(this,e,t),this._needsUpdate=!0},remove:function remove(){return this._context.restore(),remove.base.call(this)},_setElementSize:function _setElementSize(e,t){var n=this._pixelRatio;if(_setElementSize.base.call(this,e*n,t*n),1!==n){var r=this._element,i=this._context;if(!l.hasAttribute(r,"resize")){var a=r.style;a.width=e+"px",a.height=t+"px"}i.restore(),i.save(),i.scale(n,n)}},getContext:function(){return this._context},getPixelSize:function getPixelSize(e){var t,n=oe.agent;if(n&&n.firefox)t=getPixelSize.base.call(this,e);else{var r=this._context,i=r.font;r.font=e+" serif",t=parseFloat(r.font),r.font=i}return t},getTextWidth:function(e,t){var n=this._context,r=n.font,i=0;n.font=e;for(var a=0,o=t.length;a<o;a++)i=Math.max(i,n.measureText(t[a]).width);return n.font=r,i},update:function(){if(!this._needsUpdate)return!1;var e=this._project,t=this._context,n=this._viewSize;return t.clearRect(0,0,n.width+1,n.height+1),e&&e.draw(t,this._matrix,this._pixelRatio),!(this._needsUpdate=!1)}}),j=z.extend({_class:"Event",initialize:function Event(e){this.event=e,this.type=e&&e.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return Y.modifiers}}),$=j.extend({_class:"KeyEvent",initialize:function KeyEvent(e,t,n,r){this.type=e,this.event=t,this.key=n,this.character=r},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),Y=new function(){var l,i,n={"\t":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},r={tab:"\t",space:" ",enter:"\r"},u={},c={},h=new z({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var e=oe&&oe.agent;return e&&e.mac?this.meta:this.control}}});function getKey(e){var t=e.key||e.keyIdentifier;return t=/^U\+/.test(t)?String.fromCharCode(parseInt(t.substr(2),16)):/^Arrow[A-Z]/.test(t)?t.substr(5):"Unidentified"===t||t===B?String.fromCharCode(e.keyCode):t,n[t]||(1<t.length?z.hyphenate(t):t.toLowerCase())}function handleKey(e,t,n,r){var i,a=F._focused;if((u[t]=e)?c[t]=n:delete c[t],1<t.length&&(i=z.camelize(t))in h){h[i]=e;var o=oe&&oe.agent;if("meta"===i&&o&&o.mac)if(e)l={};else{for(var s in l)s in c&&handleKey(!1,s,l[s],r);l=null}}else e&&l&&(l[t]=n);a&&a._handleKeyEvent(e?"keydown":"keyup",r,t,n)}return D.add(T,{keydown:function(e){var t=getKey(e),n=oe&&oe.agent;1<t.length||n&&n.chrome&&(e.altKey||n.mac&&e.metaKey||!n.mac&&e.ctrlKey)?handleKey(!0,t,r[t]||(1<t.length?"":t),e):i=t},keypress:function(e){if(i){var t=getKey(e),n=e.charCode,r=32<=n?String.fromCharCode(n):1<t.length?"":t;t!==i&&(t=r.toLowerCase()),handleKey(!0,t,r,e),i=null}},keyup:function(e){var t=getKey(e);t in c&&handleKey(!1,t,c[t],e)}}),D.add(k,{blur:function(e){for(var t in c)handleKey(!1,t,c[t],e)}}),{modifiers:h,isDown:function(e){return!!u[e]}}},J=j.extend({_class:"MouseEvent",initialize:function MouseEvent(e,t,n,r,i){this.type=e,this.event=t,this.point=n,this.target=r,this.delta=i},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Z=j.extend({_class:"ToolEvent",_item:null,initialize:function ToolEvent(e,t,n){this.tool=e,this.type=t,this.event=n},_choosePoint:function(e,t){return e||(t?t.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(e){this._delta=e},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());if(e){for(var t=e.item,n=t._parent;/^(Group|CompoundPath)$/.test(n._class);)n=(t=n)._parent;this._item=t}}return this._item},setItem:function(e){this._item=e},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),X=t.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function Tool(e){t.call(this),this._moveCount=-1,this._downCount=-1,this.set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){null!=(this._minDistance=e)&&null!=this._maxDistance&&e>this._maxDistance&&(this._maxDistance=e)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){this._maxDistance=e,null!=this._minDistance&&null!=e&&e<this._minDistance&&(this._minDistance=e)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleMouseEvent:function(e,t,o,s){oe=this._scope,s.drag&&!this.responds(e)&&(e="mousemove");var l=s.move||s.drag,n=this.responds(e),r=this.minDistance,i=this.maxDistance,a=!1,u=this;function update(e,t){var n=o,r=l?u._point:u._downPoint||n;if(l){if(0<=u._moveCount&&n.equals(r))return!1;if(r&&(null!=e||null!=t)){var i=n.subtract(r),a=i.getLength();if(a<(e||0))return!1;t&&(n=r.add(i.normalize(Math.min(a,t))))}u._moveCount++}return u._point=n,u._lastPoint=r||n,s.down&&(u._moveCount=-1,u._downPoint=n,u._downCount++),!0}function emit(){n&&(a=u.emit(e,new Z(u,e,t))||a)}if(s.down)update(),emit();else if(s.up)update(null,i),emit();else if(n)for(;update(r,i);)emit();return a}}),ee=z.extend(e,{_class:"Tween",statics:{easings:{linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:2*(2-e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}},initialize:function Tween(e,t,n,r,i,a){this.object=e;var o=typeof i,s="function"==o;this.type=s?o:"string"==o?i:"linear",this.easing=s?i:Tween.easings[this.type],this.duration=r,this.running=!1,this._then=null,this._startTime=null;var l=t||n;this._keys=l?Object.keys(l):[],this._parsedKeys=this._parseKeys(this._keys),this._from=l&&this._getState(t),this._to=l&&this._getState(n),!1!==a&&this.start()},then:function(e){return this._then=e,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(t){if(this.running){1<t&&(t=1,this.running=!1);function cQa(e){return"function"==typeof e?e(n,t):e}for(var n=this.easing(t),e=this._keys,r=0,i=e&&e.length;r<i;r++){var a=e[r],o=cQa(this._from[a]),s=cQa(this._to[a]),l=o&&s&&o.__add&&s.__add?s.__subtract(o).__multiply(n).__add(o):(s-o)*n+o;this._setProperty(this._parsedKeys[a],l)}!this.running&&this._then&&this._then(this.object),this.responds("update")&&this.emit("update",new z({progress:t,factor:n}))}return this},_events:{onUpdate:{}},_handleFrame:function(e){var t=this._startTime,n=t?(e-t)/this.duration:0;t||(this._startTime=e),this.update(n)},_getState:function(e){for(var t=this._keys,n={},r=0,i=t.length;r<i;r++){var a,o=t[r],s=this._parsedKeys[o],l=this._getProperty(s);if(e){var u=this._resolveValue(l,e[o]);this._setProperty(s,u),a=(a=this._getProperty(s))&&a.clone?a.clone():a,this._setProperty(s,l)}else a=l&&l.clone?l.clone():l;n[o]=a}return n},_resolveValue:function(e,t){if(t){if(Array.isArray(t)&&2===t.length){var n=t[0];return n&&n.match&&n.match(/^[+\-\*\/]=/)?this._calculate(e,n[0],t[1]):t}if("string"==typeof t){var r=t.match(/^[+\-*/]=(.*)/);if(r){var i=JSON.parse(r[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(e,t[0],i)}}}return t},_calculate:function(e,t,n){return oe.PaperScript.calculateBinary(e,t,n)},_parseKeys:function(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n],a=i.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");t[i]=a.split("/")}return t},_getProperty:function(e,t){for(var n=this.object,r=0,i=e.length-(t||0);r<i&&n;r++)n=n[e[r]];return n},_setProperty:function(e,t){var n=this._getProperty(e,1);n&&(n[e[e.length-1]]=t)}}),te=function(n){var r=new p.XMLHttpRequest;return r.open((n.method||"get").toUpperCase(),n.url,z.pick(n.async,!0)),n.mimeType&&r.overrideMimeType(n.mimeType),r.onload=function(){var e=r.status;0===e||200===e?n.onLoad&&n.onLoad.call(r,r.responseText):r.onerror()},r.onerror=function(){var e=r.status,t='Could not load "'+n.url+'" (Status: '+e+")";if(!n.onError)throw new Error(t);n.onError(t,e)},r.send(null)},ne={canvases:[],getCanvas:function(e,t){if(!k)return null;var n,r=!0;"object"==typeof e&&(t=e.height,e=e.width),this.canvases.length?n=this.canvases.pop():(n=T.createElement("canvas"),r=!1);var i=n.getContext("2d");if(!i)throw new Error("Canvas "+n+" is unable to provide a 2D context.");return n.width===e&&n.height===t?r&&i.clearRect(0,0,e+1,t+1):(n.width=e,n.height=t),i.save(),n},getContext:function(e,t){var n=this.getCanvas(e,t);return n?n.getContext("2d"):null},release:function(e){var t=e&&e.canvas?e.canvas:e;t&&t.getContext&&(t.getContext("2d").restore(),this.canvases.push(t))}},re=new function(){var g,v,m,_,y,b,w,C,x,S,E,c=Math.min,h=Math.max,e=Math.abs;function getLum(e,t,n){return.2989*e+.587*t+.114*n}function setLum(e,t,n,r){var i=r-getLum(e,t,n),a=(r=getLum(x=e+i,S=t+i,E=n+i),c(x,S,E)),o=h(x,S,E);if(a<0){var s=r-a;x=r+(x-r)*r/s,S=r+(S-r)*r/s,E=r+(E-r)*r/s}if(255<o){var l=255-r,u=o-r;x=r+(x-r)*l/u,S=r+(S-r)*l/u,E=r+(E-r)*l/u}}function getSat(e,t,n){return h(e,t,n)-c(e,t,n)}function setSat(e,t,n,r){var i,a=[e,t,n],o=h(e,t,n),s=c(e,t,n);i=0===c(s=s===e?0:s===t?1:2,o=o===e?0:o===t?1:2)?1===h(s,o)?2:1:0,a[o]>a[s]?(a[i]=(a[i]-a[s])*r/(a[o]-a[s]),a[o]=r):a[i]=a[o]=0,a[s]=0,x=a[0],S=a[1],E=a[2]}var k={multiply:function(){x=y*g/255,S=b*v/255,E=w*m/255},screen:function(){x=y+g-y*g/255,S=b+v-b*v/255,E=w+m-w*m/255},overlay:function(){x=y<128?2*y*g/255:255-2*(255-y)*(255-g)/255,S=b<128?2*b*v/255:255-2*(255-b)*(255-v)/255,E=w<128?2*w*m/255:255-2*(255-w)*(255-m)/255},"soft-light":function(){var e=g*y/255;x=e+y*(255-(255-y)*(255-g)/255-e)/255,S=(e=v*b/255)+b*(255-(255-b)*(255-v)/255-e)/255,E=(e=m*w/255)+w*(255-(255-w)*(255-m)/255-e)/255},"hard-light":function(){x=g<128?2*g*y/255:255-2*(255-g)*(255-y)/255,S=v<128?2*v*b/255:255-2*(255-v)*(255-b)/255,E=m<128?2*m*w/255:255-2*(255-m)*(255-w)/255},"color-dodge":function(){x=0===y?0:255===g?255:c(255,255*y/(255-g)),S=0===b?0:255===v?255:c(255,255*b/(255-v)),E=0===w?0:255===m?255:c(255,255*w/(255-m))},"color-burn":function(){x=255===y?255:0===g?0:h(0,255-255*(255-y)/g),S=255===b?255:0===v?0:h(0,255-255*(255-b)/v),E=255===w?255:0===m?0:h(0,255-255*(255-w)/m)},darken:function(){x=y<g?y:g,S=b<v?b:v,E=w<m?w:m},lighten:function(){x=g<y?y:g,S=v<b?b:v,E=m<w?w:m},difference:function(){(x=y-g)<0&&(x=-x),(S=b-v)<0&&(S=-S),(E=w-m)<0&&(E=-E)},exclusion:function(){x=y+g*(255-y-y)/255,S=b+v*(255-b-b)/255,E=w+m*(255-w-w)/255},hue:function(){setSat(g,v,m,getSat(y,b,w)),setLum(x,S,E,getLum(y,b,w))},saturation:function(){setSat(y,b,w,getSat(g,v,m)),setLum(x,S,E,getLum(y,b,w))},luminosity:function(){setLum(y,b,w,getLum(g,v,m))},color:function(){setLum(g,v,m,getLum(y,b,w))},add:function(){x=c(y+g,255),S=c(b+v,255),E=c(w+m,255)},subtract:function(){x=h(y-g,0),S=h(b-v,0),E=h(w-m,0)},average:function(){x=(y+g)/2,S=(b+v)/2,E=(w+m)/2},negation:function(){x=255-e(255-g-y),S=255-e(255-v-b),E=255-e(255-m-w)}},T=this.nativeModes=z.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(e){this[e]=!0},{}),i=ne.getContext(1,1);i&&(z.each(k,function(e,t){var n="darken"===t,r=!1;i.save();try{i.fillStyle=n?"#300":"#a00",i.fillRect(0,0,1,1),i.globalCompositeOperation=t,i.globalCompositeOperation===t&&(i.fillStyle=n?"#a00":"#300",i.fillRect(0,0,1,1),r=i.getImageData(0,0,1,1).data[0]!==n?170:51)}catch(e){}i.restore(),T[t]=r}),ne.release(i)),this.process=function(e,t,n,r,i){var a=t.canvas,o="normal"===e;if(o||T[e])n.save(),n.setTransform(1,0,0,1,0,0),n.globalAlpha=r,o||(n.globalCompositeOperation=e),n.drawImage(a,i.x,i.y),n.restore();else{var s=k[e];if(!s)return;for(var l=n.getImageData(i.x,i.y,a.width,a.height),u=l.data,c=t.getImageData(0,0,a.width,a.height).data,h=0,d=u.length;h<d;h+=4){g=c[h],y=u[h],v=c[h+1],b=u[h+1],m=c[h+2],w=u[h+2],_=c[h+3],C=u[h+3],s();var p=_*r/255,f=1-p;u[h]=p*x+f*y,u[h+1]=p*S+f*b,u[h+2]=p*E+f*w,u[h+3]=_*r+f*C}n.putImageData(l,i.x,i.y)}}},ie=new function(){var r="http://www.w3.org/2000/svg",e="http://www.w3.org/2000/xmlns",t="http://www.w3.org/1999/xlink",o={href:t,xlink:e,xmlns:e+"/","xmlns:xlink":e+"/"};function set(e,t,n){for(var r in t){var i=t[r],a=o[r];"number"==typeof i&&n&&(i=n.number(i)),a?e.setAttributeNS(a,r,i):e.setAttribute(r,i)}return e}return{svg:r,xmlns:e,xlink:t,create:function create(e,t,n){return set(T.createElementNS(r,e),t,n)},get:function get(e,t){var n=o[t],r=n?e.getAttributeNS(n,t):e.getAttribute(t);return"null"===r?null:r},set:set}},ae=z.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(e,t){return!t&&(e instanceof x||e instanceof b||e instanceof c)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(e,t){var n=z.capitalize(t),r=e[2];this[t]={type:e[1],property:t,attribute:e[0],toSVG:r,fromSVG:r&&z.each(r,function(e,t){this[e]=t},{}),exportFilter:e[3],get:"get"+n,set:"set"+n}},{});new function(){var g;function getTransform(e,t,n){var r,i=new z,a=e.getTranslation();t&&(e.isInvertible()?(r=(e=e._shiftless())._inverseTransform(a),a=null):r=new W,i[n?"cx":"x"]=r.x,i[n?"cy":"y"]=r.y);if(!e.isIdentity()){var o=e.decompose();if(o){var s=[],l=o.rotation,u=o.scaling,c=o.skewing;a&&!a.isZero()&&s.push("translate("+g.point(a)+")"),l&&s.push("rotate("+g.number(l)+")"),U.isZero(u.x-1)&&U.isZero(u.y-1)||s.push("scale("+g.point(u)+")"),c.x&&s.push("skewX("+g.number(c.x)+")"),c.y&&s.push("skewY("+g.number(c.y)+")"),i.transform=s.join(" ")}else i.transform="matrix("+e.getValues().join(",")+")"}return i}function exportGroup(e,t){for(var n=getTransform(e._matrix),r=e._children,i=ie.create("g",n,g),a=0,o=r.length;a<o;a++){var s=r[a],l=exportSVG(s,t);if(l)if(s.isClipMask()){var u=ie.create("clipPath");u.appendChild(l),setDefinition(s,u,"clip"),ie.set(i,{"clip-path":"url(#"+u.id+")"})}else i.appendChild(l)}return i}function exportShape(e){var t=e._type,n=e._radius,r=getTransform(e._matrix,!0,"rectangle"!==t);if("rectangle"===t){t="rect";var i=e._size,a=i.width,o=i.height;r.x-=a/2,r.y-=o/2,r.width=a,r.height=o,n.isZero()&&(n=null)}return n&&("circle"===t?r.r=n:(r.rx=n.width,r.ry=n.height)),ie.create(t,r,g)}var a,s={Group:exportGroup,Layer:exportGroup,Raster:function exportRaster(e,t){var n=getTransform(e._matrix,!0),r=e.getSize(),i=e.getImage();return n.x-=r.width/2,n.y-=r.height/2,n.width=r.width,n.height=r.height,n.href=0==t.embedImages&&i&&i.src||e.toDataURL(),ie.create("image",n,g)},Path:function exportPath(e,t){var n=t.matchShapes;if(n){var r=e.toShape(!1);if(r)return exportShape(r)}var i,a=e._segments,o=a.length,s=getTransform(e._matrix);if(n&&2<=o&&!e.hasHandles())if(2<o){i=e._closed?"polygon":"polyline";for(var l=[],u=0;u<o;u++)l.push(g.point(a[u]._point));s.points=l.join(" ")}else{i="line";var c=a[0]._point,h=a[1]._point;s.set({x1:c.x,y1:c.y,x2:h.x,y2:h.y})}else i="path",s.d=e.getPathData(null,t.precision);return ie.create(i,s,g)},Shape:exportShape,CompoundPath:function exportCompoundPath(e,t){var n=getTransform(e._matrix),r=e.getPathData(null,t.precision);return r&&(n.d=r),ie.create("path",n,g)},SymbolItem:function exportSymbolItem(e,t){var n=getTransform(e._matrix,!0),r=e._definition,i=getDefinition(r,"symbol"),a=r._item,o=a.getStrokeBounds();return i||((i=ie.create("symbol",{viewBox:g.rectangle(o)})).appendChild(exportSVG(a,t)),setDefinition(r,i,"symbol")),n.href="#"+i.id,n.x+=o.x,n.y+=o.y,n.width=o.width,n.height=o.height,n.overflow="visible",ie.create("use",n,g)},PointText:function exportText(e){var t=ie.create("text",getTransform(e._matrix,!0),g);return t.textContent=e._content,t}};function applyStyle(a,e,t){var o={},s=!t&&a.getParent(),l=[];return null!=a._name&&(o.id=a._name),z.each(ae,function(e){var t=e.get,n=e.type,r=a[t]();if(e.exportFilter?e.exportFilter(a,r):!s||!z.equals(s[t](),r)){if("color"===n&&null!=r){var i=r.getAlpha();i<1&&(o[e.attribute+"-opacity"]=i)}"style"===n?l.push(e.attribute+": "+r):o[e.attribute]=null==r?"none":"color"===n?r.gradient?function exportGradient(e){var t=getDefinition(e,"color");if(!t){var n,r=e.getGradient(),i=r._radial,a=e.getOrigin(),o=e.getDestination();if(i){n={cx:a.x,cy:a.y,r:a.getDistance(o)};var s=e.getHighlight();s&&(n.fx=s.x,n.fy=s.y)}else n={x1:a.x,y1:a.y,x2:o.x,y2:o.y};n.gradientUnits="userSpaceOnUse",t=ie.create((i?"radial":"linear")+"Gradient",n,g);for(var l=r._stops,u=0,c=l.length;u<c;u++){var h=l[u],d=h._color,p=d.getAlpha(),f=h._offset;n={offset:null==f?u/(c-1):f},d&&(n["stop-color"]=d.toCSS(!0)),p<1&&(n["stop-opacity"]=p),t.appendChild(ie.create("stop",n,g))}setDefinition(e,t,"color")}return"url(#"+t.id+")"}(r):r.toCSS(!0):"array"===n?r.join(","):"lookup"===n?e.toSVG[r]:r}}),l.length&&(o.style=l.join(";")),1===o.opacity&&delete o.opacity,a._visible||(o.visibility="hidden"),ie.set(e,o,g)}function getDefinition(e,t){return a=a||{ids:{},svgs:{}},e&&a.svgs[t+"-"+(e._id||e.__id||(e.__id=u.get("svg")))]}function setDefinition(e,t,n){a||getDefinition();var r=a.ids[n]=(a.ids[n]||0)+1;t.id=n+"-"+r,a.svgs[n+"-"+(e._id||e.__id)]=t}function exportDefinitions(e,t){var n=e,r=null;if(a){for(var i in n="svg"===e.nodeName.toLowerCase()&&e,a.svgs)r||(n||(n=ie.create("svg")).appendChild(e),r=n.insertBefore(ie.create("defs"),n.firstChild)),r.appendChild(a.svgs[i]);a=null}return t.asString?(new p.XMLSerializer).serializeToString(n):n}function exportSVG(e,t,n){var r=s[e._class],i=r&&r(e,t);if(i){var a=t.onExport;a&&(i=a(e,i,t)||i);var o=JSON.stringify(e._data);o&&"{}"!==o&&"null"!==o&&i.setAttribute("data-paper-data",o)}return i&&applyStyle(e,i,n)}function setOptions(e){return g=new w((e=e||{}).precision),e}S.inject({exportSVG:function(e){return exportDefinitions(exportSVG(this,e=setOptions(e),!0),e)}}),r.inject({exportSVG:function(e){e=setOptions(e);var t=this._children,n=this.getView(),r=z.pick(e.bounds,"view"),i=e.matrix||"view"===r&&n._matrix,a=i&&Q.read([i]),o="view"===r?new P([0,0],n.getViewSize()):"content"===r?S._getBounds(t,a,{stroke:!0}).rect:P.read([r],0,{readNull:!0}),s={version:"1.1",xmlns:ie.svg,"xmlns:xlink":ie.xlink};o&&(s.width=o.width,s.height=o.height,(o.x||0===o.x||o.y||0===o.y)&&(s.viewBox=g.rectangle(o)));var l=ie.create("svg",s,g),u=l;a&&!a.isIdentity()&&(u=l.appendChild(ie.create("g",getTransform(a),g)));for(var c=0,h=t.length;c<h;c++)u.appendChild(exportSVG(t[c],e,!0));return exportDefinitions(l,e)}})},new function(){var v,m={};function getValue(e,t,n,r,i,a){var o=ie.get(e,t)||a,s=null==o?r?null:n?"":0:n?o:parseFloat(o);return/%\s*$/.test(o)?s/100*(i?1:v[/x|^width/.test(t)?"width":"height"]):s}function getPoint(e,t,n,r,i,a,o){return t=getValue(e,t||"x",!1,r,i,a),n=getValue(e,n||"y",!1,r,i,o),!r||null!=t&&null!=n?new W(t,n):null}function getSize(e,t,n,r,i){return t=getValue(e,t||"width",!1,r,i),n=getValue(e,n||"height",!1,r,i),!r||null!=t&&null!=n?new q(t,n):null}function convertValue(e,t,n){return"none"===e?null:"number"===t?parseFloat(e):"array"===t?e?e.split(/[\s,]+/g).map(parseFloat):[]:"color"===t?getDefinition(e)||e:"lookup"===t?n[e]:e}function importGroup(e,t,n,r){var i=e.childNodes,a="clippath"===t,o="defs"===t,s=new y,l=s._project,u=l._currentStyle,c=[];if(a||o||(s=applyAttributes(s,e,r),l._currentStyle=s._style.clone()),r)for(var h=e.querySelectorAll("defs"),d=0,p=h.length;d<p;d++)importNode(h[d],n,!1);for(d=0,p=i.length;d<p;d++){var f,g=i[d];1!==g.nodeType||/^defs$/i.test(g.nodeName)||!(f=importNode(g,n,!1))||f instanceof C||c.push(f)}return s.addChildren(c),a&&(s=applyAttributes(s.reduce(),e,r)),l._currentStyle=u,(a||o)&&(s.remove(),s=null),s}function importPoly(e,t){for(var n=e.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),r=[],i=0,a=n.length;i<a;i+=2)r.push(new W(parseFloat(n[i]),parseFloat(n[i+1])));var o=new I(r);return"polygon"===t&&o.closePath(),o}function importGradient(e,t){var n,r=(getValue(e,"href",!0)||"").substring(1),i="radialgradient"===t;if(r)(n=m[r].getGradient())._radial^i&&((n=n.clone())._radial=i);else{for(var a=e.childNodes,o=[],s=0,l=a.length;s<l;s++){var u=a[s];1===u.nodeType&&o.push(applyAttributes(new L,u))}n=new R(o,i)}var c,h,d,p="userSpaceOnUse"!==getValue(e,"gradientUnits",!0);return i?(h=(c=getPoint(e,"cx","cy",!1,p,"50%","50%")).add(getValue(e,"r",!1,!1,p,"50%"),0),d=getPoint(e,"fx","fy",!0,p)):(c=getPoint(e,"x1","y1",!1,p,"0%","0%"),h=getPoint(e,"x2","y2",!1,p,"100%","0%")),applyAttributes(new A(n,c,h,d),e)._scaleToBounds=p,null}var _={"#document":function(e,t,n,r){for(var i=e.childNodes,a=0,o=i.length;a<o;a++){var s=i[a];if(1===s.nodeType)return importNode(s,n,r)}},g:importGroup,svg:importGroup,clippath:importGroup,polygon:importPoly,polyline:importPoly,path:function importPath(e){return x.create(e.getAttribute("d"))},lineargradient:importGradient,radialgradient:importGradient,image:function(n){var e=new g(getValue(n,"href",!0));return e.on("load",function(){var e=getSize(n);this.setSize(e);var t=getPoint(n).add(e.divide(2));this._matrix.append((new Q).translate(t))}),e},symbol:function(e,t,n,r){return new C(importGroup(e,t,n,r),!0)},defs:importGroup,use:function(e){var t=(getValue(e,"href",!0)||"").substring(1),n=m[t],r=getPoint(e);return n?n instanceof C?n.place(r):n.clone().translate(r):null},circle:function(e){return new b.Circle(getPoint(e,"cx","cy"),getValue(e,"r"))},ellipse:function(e){return new b.Ellipse({center:getPoint(e,"cx","cy"),radius:getSize(e,"rx","ry")})},rect:function(e){return new b.Rectangle(new P(getPoint(e),getSize(e)),getSize(e,"rx","ry"))},line:function(e){return new I.Line(getPoint(e,"x1","y1"),getPoint(e,"x2","y2"))},text:function(e){var t=new N(getPoint(e).add(getPoint(e,"dx","dy")));return t.setContent(e.textContent.trim()||""),t},switch:importGroup};function applyTransform(e,t,n,r){if(e.transform){for(var i=(r.getAttribute(n)||"").split(/\)\s*/g),a=new Q,o=0,s=i.length;o<s;o++){var l=i[o];if(!l)break;for(var u=l.split(/\(\s*/),c=u[0],h=u[1].split(/[\s,]+/g),d=0,p=h.length;d<p;d++)h[d]=parseFloat(h[d]);switch(c){case"matrix":a.append(new Q(h[0],h[1],h[2],h[3],h[4],h[5]));break;case"rotate":a.rotate(h[0],h[1]||0,h[2]||0);break;case"translate":a.translate(h[0],h[1]||0);break;case"scale":a.scale(h);break;case"skewX":a.skew(h[0],0);break;case"skewY":a.skew(0,h[0])}}e.transform(a)}}function applyOpacity(e,t,n){var r="fill-opacity"===n?"getFillColor":"getStrokeColor",i=e[r]&&e[r]();i&&i.setAlpha(parseFloat(t))}var n=z.set(z.each(ae,function(i){this[i.attribute]=function(e,t){if(e[i.set]&&(e[i.set](convertValue(t,i.type,i.fromSVG)),"color"===i.type)){var n=e[i.get]();if(n&&n._scaleToBounds){var r=e.getBounds();n.transform((new Q).translate(r.getPoint()).scale(r.getSize()))}}}},{}),{id:function(e,t){(m[t]=e).setName&&e.setName(t)},"clip-path":function(e,t){var n=getDefinition(t);if(n){if((n=n.clone()).setClipMask(!0),!(e instanceof y))return new y(n,e);e.insertChild(0,n)}},gradientTransform:applyTransform,transform:applyTransform,"fill-opacity":applyOpacity,"stroke-opacity":applyOpacity,visibility:function(e,t){e.setVisible&&e.setVisible("visible"===t)},display:function(e,t){e.setVisible&&e.setVisible(null!==t)},"stop-color":function(e,t){e.setColor&&e.setColor(t)},"stop-opacity":function(e,t){e._color&&e._color.setAlpha(parseFloat(t))},offset:function(e,t){if(e.setOffset){var n=t.match(/(.*)%$/);e.setOffset(n?n[1]/100:parseFloat(t))}},viewBox:function(e,t,n,r,i){var a,o=new P(convertValue(t,"array")),s=getSize(r,null,null,!0);if(e instanceof y){var l=s?s.divide(o.getSize()):1,u=(new Q).scale(l).translate(o.getPoint().negate());a=e}else e instanceof C&&(s&&o.setSize(s),a=e._item);if(a){if("visible"!==getAttribute(r,"overflow",i)){var c=new b.Rectangle(o);c.setClipMask(!0),a.addChild(c)}u&&a.transform(u)}}});function getAttribute(e,t,n){var r=e.attributes[t],i=r&&r.value;if(!i&&e.style){var a=z.camelize(t);(i=e.style[a])||n.node[a]===n.parent[a]||(i=n.node[a])}return i?"none"===i?null:i:B}function applyAttributes(r,i,e){var t=i.parentNode,a={node:M.getStyles(i)||{},parent:!e&&!/^defs$/i.test(t.tagName)&&M.getStyles(t)||{}};return z.each(n,function(e,t){var n=getAttribute(i,t,a);r=n!==B&&e(r,n,t,i,a)||r}),r}function getDefinition(e){var t=e&&e.match(/\((?:["'#]*)([^"')]+)/),n=t&&t[1],r=n&&m[k?n.replace(k.location.href.split("#")[0]+"#",""):n];return r&&r._scaleToBounds&&((r=r.clone())._scaleToBounds=!0),r}function importNode(e,t,n){var r,i,a,o=e.nodeName.toLowerCase(),s="#document"!==o,l=T.body;n&&s&&(v=oe.getView().getSize(),v=getSize(e,null,null,!0)||v,r=ie.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),i=e.parentNode,a=e.nextSibling,r.appendChild(e),l.appendChild(r));var u=oe.settings,c=u.applyMatrix,h=u.insertItems;u.applyMatrix=!1,u.insertItems=!1;var d=_[o],p=d&&d(e,o,t,n)||null;if(u.insertItems=h,u.applyMatrix=c,p){!s||p instanceof y||(p=applyAttributes(p,e,n));var f=t.onImport,g=s&&e.getAttribute("data-paper-data");f&&(p=f(e,p,t)||p),t.expandShapes&&p instanceof b&&(p.remove(),p=p.toPath()),g&&(p._data=JSON.parse(g))}return r&&(l.removeChild(r),i&&(a?i.insertBefore(e,a):i.appendChild(e))),n&&(m={},p&&z.pick(t.applyMatrix,c)&&p.matrix.apply(!0,!0)),p}function importSVG(r,i,a){if(!r)return null;i="function"==typeof i?{onLoad:i}:i||{};var o=oe,s=null;function onLoad(e){try{var t="object"==typeof e?e:(new p.DOMParser).parseFromString(e,"image/svg+xml");if(!t.nodeName)throw t=null,new Error("Unsupported SVG source: "+r);oe=o,s=importNode(t,i,!0),i&&!1===i.insert||a._insertItem(B,s);var n=i.onLoad;n&&n(s,e)}catch(e){onError(e)}}function onError(e,t){var n=i.onError;if(!n)throw new Error(e);n(e,t)}if("string"!=typeof r||/^.*</.test(r)){if("undefined"!=typeof File&&r instanceof File){var e=new FileReader;return e.onload=function(){onLoad(e.result)},e.onerror=function(){onError(e.error)},e.readAsText(r)}onLoad(r)}else{var t=T.getElementById(r);t?onLoad(t):te({url:r,async:!0,onLoad:onLoad,onError:onError})}return s}S.inject({importSVG:function(e,t){return importSVG(e,t,this)}}),r.inject({importSVG:function(e,t){return this.activate(),importSVG(e,t,this)}})},z.exports.PaperScript=function(){var e,t,n,r=this,i=r.acorn;if(!i)try{i=ue("sOAE")}catch(e){}i||(i=e=t={},n=function(e){"use strict";var p,f,s,n;e.version="0.5.0",e.parse=function(e,t){return f=String(e),s=f.length,setOptions(t),initTokenState(),function parseTopLevel(e){_=y=l,p.locations&&(d=new line_loc_t);b=C=null,w=[],readToken();var t=e||startNode(),n=!0;e||(t.body=[]);for(;v!==I;){var r=parseStatement();t.body.push(r),n&&isUseStrict(r)&&setStrict(!0),n=!1}return finishNode(t,"Program")}(p.program)};var r=e.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function setOptions(e){for(var t in p=e||{},r)Object.prototype.hasOwnProperty.call(p,t)||(p[t]=r[t]);n=p.sourceFile||null}var l,g,i,a,o,v,m,u,c,h,_,y,d,b,w,C,x=e.getLineInfo=function(e,t){for(var n=1,r=0;;){je.lastIndex=r;var i=je.exec(e);if(!(i&&i.index<t))break;++n,r=i.index+i[0].length}return{line:n,column:t-r}};function raise(e,t){var n=x(f,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=l,r}e.tokenize=function(e,t){f=String(e),s=f.length,setOptions(t),initTokenState();var n={};function getToken(e){return y=i,readToken(e),n.start=g,n.end=i,n.startLoc=a,n.endLoc=o,n.type=v,n.value=m,n}return getToken.jumpTo=function(e,t){var n;if(l=e,p.locations)for(c=1,h=je.lastIndex=0;(n=je.exec(f))&&n.index<e;)++c,h=n.index+n[0].length;u=t,skipSpace()},getToken};var S=[],E={type:"num"},k={type:"regexp"},T={type:"string"},P={type:"name"},I={type:"eof"},O={keyword:"break"},N={keyword:"case",beforeExpr:!0},A={keyword:"catch"},R={keyword:"continue"},L={keyword:"debugger"},M={keyword:"default"},D={keyword:"do",isLoop:!0},F={keyword:"else",beforeExpr:!0},V={keyword:"finally"},j={keyword:"for",isLoop:!0},B={keyword:"function"},z={keyword:"if"},U={keyword:"return",beforeExpr:!0},W={keyword:"switch"},q={keyword:"throw",beforeExpr:!0},Q={keyword:"try"},H={keyword:"var"},G={keyword:"while",isLoop:!0},K={keyword:"with"},$={keyword:"new",beforeExpr:!0},Y={keyword:"this"},J={keyword:"null",atomValue:null},Z={keyword:"true",atomValue:!0},X={keyword:"false",atomValue:!1},ee={keyword:"in",binop:7,beforeExpr:!0},te={break:O,case:N,catch:A,continue:R,debugger:L,default:M,do:D,else:F,finally:V,for:j,function:B,if:z,return:U,switch:W,throw:q,try:Q,var:H,while:G,with:K,null:J,true:Z,false:X,new:$,in:ee,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Y,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},ne={type:"[",beforeExpr:!0},re={type:"]"},ie={type:"{",beforeExpr:!0},ae={type:"}"},oe={type:"(",beforeExpr:!0},se={type:")"},le={type:",",beforeExpr:!0},ue={type:";",beforeExpr:!0},ce={type:":",beforeExpr:!0},he={type:"."},de={type:"?",beforeExpr:!0},pe={binop:10,beforeExpr:!0},fe={isAssign:!0,beforeExpr:!0},ge={isAssign:!0,beforeExpr:!0},ve={postfix:!0,prefix:!0,isUpdate:!0},me={prefix:!0,beforeExpr:!0},_e={binop:1,beforeExpr:!0},ye={binop:2,beforeExpr:!0},be={binop:3,beforeExpr:!0},we={binop:4,beforeExpr:!0},Ce={binop:5,beforeExpr:!0},xe={binop:6,beforeExpr:!0},Se={binop:7,beforeExpr:!0},Ee={binop:8,beforeExpr:!0},ke={binop:9,prefix:!0,beforeExpr:!0},Te={binop:10,beforeExpr:!0};for(var t in e.tokTypes={bracketL:ne,bracketR:re,braceL:ie,braceR:ae,parenL:oe,parenR:se,comma:le,semi:ue,colon:ce,dot:he,question:de,slash:pe,eq:fe,name:P,eof:I,num:E,regexp:k,string:T},te)e.tokTypes["_"+t]=te[t];function makePredicate(e){e=e.split(" ");var n="",t=[];e:for(var r=0;r<e.length;++r){for(var i=0;i<t.length;++i)if(t[i][0].length==e[r].length){t[i].push(e[r]);continue e}t.push([e[r]])}function compareTo(e){if(1==e.length)return n+="return str === "+JSON.stringify(e[0])+";";n+="switch(str){";for(var t=0;t<e.length;++t)n+="case "+JSON.stringify(e[t])+":";n+="return true}return false;"}if(3<t.length){t.sort(function(e,t){return t.length-e.length}),n+="switch(str.length){";for(r=0;r<t.length;++r){var a=t[r];n+="case "+a[0].length+":",compareTo(a)}n+="}"}else compareTo(e);return new Function("str",n)}var Pe,Ie=makePredicate("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Oe=makePredicate("class enum extends super const export import"),Ne=makePredicate("implements interface let package private protected public static yield"),Ae=makePredicate("eval arguments"),Re=makePredicate("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Le=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Me="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",De=new RegExp("["+Me+"]"),Fe=new RegExp("["+Me+"------------------------------------------------------------------------------------------------------------------------------------------]"),Ve=/[\n\r\u2028\u2029]/,je=/\r\n|[\n\r\u2028\u2029]/g,Be=e.isIdentifierStart=function(e){return e<65?36===e:e<91||(e<97?95===e:e<123||170<=e&&De.test(String.fromCharCode(e)))},ze=e.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||170<=e&&Fe.test(String.fromCharCode(e))))};function line_loc_t(){this.line=c,this.column=l-h}function initTokenState(){c=1,l=h=0,u=!0,skipSpace()}function finishToken(e,t){i=l,p.locations&&(o=new line_loc_t),v=e,skipSpace(),m=t,u=e.beforeExpr}function skipBlockComment(){var e,t=p.onComment&&p.locations&&new line_loc_t,n=l,r=f.indexOf("*/",l+=2);if(-1===r&&raise(l-2,"Unterminated comment"),l=r+2,p.locations)for(je.lastIndex=n;(e=je.exec(f))&&e.index<l;)++c,h=e.index+e[0].length;p.onComment&&p.onComment(!0,f.slice(n+2,r),n,l,t,p.locations&&new line_loc_t)}function skipLineComment(){for(var e=l,t=p.onComment&&p.locations&&new line_loc_t,n=f.charCodeAt(l+=2);l<s&&10!==n&&13!==n&&8232!==n&&8233!==n;)++l,n=f.charCodeAt(l);p.onComment&&p.onComment(!1,f.slice(e+2,l),e,l,t,p.locations&&new line_loc_t)}function skipSpace(){for(;l<s;){var e=f.charCodeAt(l);if(32===e)++l;else if(13===e){++l,10===(t=f.charCodeAt(l))&&++l,p.locations&&(++c,h=l)}else if(10===e||8232===e||8233===e)++l,p.locations&&(++c,h=l);else if(8<e&&e<14)++l;else if(47===e){var t;if(42===(t=f.charCodeAt(l+1)))skipBlockComment();else{if(47!==t)break;skipLineComment()}}else if(160===e)++l;else{if(!(5760<=e&&Le.test(String.fromCharCode(e))))break;++l}}}function getTokenFromCode(e){switch(e){case 46:return function readToken_dot(){var e=f.charCodeAt(l+1);return 48<=e&&e<=57?readNumber(!0):(++l,finishToken(he))}();case 40:return++l,finishToken(oe);case 41:return++l,finishToken(se);case 59:return++l,finishToken(ue);case 44:return++l,finishToken(le);case 91:return++l,finishToken(ne);case 93:return++l,finishToken(re);case 123:return++l,finishToken(ie);case 125:return++l,finishToken(ae);case 58:return++l,finishToken(ce);case 63:return++l,finishToken(de);case 48:var t=f.charCodeAt(l+1);if(120===t||88===t)return function readHexNumber(){l+=2;var e=readInt(16);null==e&&raise(g+2,"Expected hexadecimal number");Be(f.charCodeAt(l))&&raise(l,"Identifier directly after number");return finishToken(E,e)}();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return readNumber(!1);case 34:case 39:return function readString(e){l++;for(var t="";;){s<=l&&raise(g,"Unterminated string constant");var n=f.charCodeAt(l);if(n===e)return++l,finishToken(T,t);if(92===n){n=f.charCodeAt(++l);var r=/^[0-7]+/.exec(f.slice(l,l+3));for(r=r&&r[0];r&&255<parseInt(r,8);)r=r.slice(0,-1);if("0"===r&&(r=null),++l,r)C&&raise(l-2,"Octal literal in strict mode"),t+=String.fromCharCode(parseInt(r,8)),l+=r.length-1;else switch(n){case 110:t+="\n";break;case 114:t+="\r";break;case 120:t+=String.fromCharCode(readHexChar(2));break;case 117:t+=String.fromCharCode(readHexChar(4));break;case 85:t+=String.fromCharCode(readHexChar(8));break;case 116:t+="\t";break;case 98:t+="\b";break;case 118:t+="\v";break;case 102:t+="\f";break;case 48:t+="\0";break;case 13:10===f.charCodeAt(l)&&++l;case 10:p.locations&&(h=l,++c);break;default:t+=String.fromCharCode(n)}}else 13!==n&&10!==n&&8232!==n&&8233!==n||raise(g,"Unterminated string constant"),t+=String.fromCharCode(n),++l}}(e);case 47:return function readToken_slash(){var e=f.charCodeAt(l+1);return u?(++l,readRegexp()):61===e?finishOp(ge,2):finishOp(pe,1)}();case 37:case 42:return function readToken_mult_modulo(){return 61===f.charCodeAt(l+1)?finishOp(ge,2):finishOp(Te,1)}();case 124:case 38:return function readToken_pipe_amp(e){var t=f.charCodeAt(l+1);return t===e?finishOp(124===e?_e:ye,2):61===t?finishOp(ge,2):finishOp(124===e?be:Ce,1)}(e);case 94:return function readToken_caret(){return 61===f.charCodeAt(l+1)?finishOp(ge,2):finishOp(we,1)}();case 43:case 45:return function readToken_plus_min(e){var t=f.charCodeAt(l+1);return t===e?45==t&&62==f.charCodeAt(l+2)&&Ve.test(f.slice(y,l))?(l+=3,skipLineComment(),skipSpace(),readToken()):finishOp(ve,2):61===t?finishOp(ge,2):finishOp(ke,1)}(e);case 60:case 62:return function readToken_lt_gt(e){var t=f.charCodeAt(l+1),n=1;return t===e?(n=62===e&&62===f.charCodeAt(l+2)?3:2,61===f.charCodeAt(l+n)?finishOp(ge,n+1):finishOp(Ee,n)):33==t&&60==e&&45==f.charCodeAt(l+2)&&45==f.charCodeAt(l+3)?(l+=4,skipLineComment(),skipSpace(),readToken()):(61===t&&(n=61===f.charCodeAt(l+2)?3:2),finishOp(Se,n))}(e);case 61:case 33:return function readToken_eq_excl(e){return 61===f.charCodeAt(l+1)?finishOp(xe,61===f.charCodeAt(l+2)?3:2):finishOp(61===e?fe:me,1)}(e);case 126:return finishOp(me,1)}return!1}function readToken(e){if(e?l=g+1:g=l,p.locations&&(a=new line_loc_t),e)return readRegexp();if(s<=l)return finishToken(I);var t=f.charCodeAt(l);if(Be(t)||92===t)return readWord();var n=getTokenFromCode(t);if(!1===n){var r=String.fromCharCode(t);if("\\"===r||De.test(r))return readWord();raise(l,"Unexpected character '"+r+"'")}return n}function finishOp(e,t){var n=f.slice(l,l+t);l+=t,finishToken(e,n)}function readRegexp(){for(var e,t,n=l;;){s<=l&&raise(n,"Unterminated regular expression");var r=f.charAt(l);if(Ve.test(r)&&raise(n,"Unterminated regular expression"),e)e=!1;else{if("["===r)t=!0;else if("]"===r&&t)t=!1;else if("/"===r&&!t)break;e="\\"===r}++l}var i=f.slice(n,l);++l;var a=readWord1();a&&!/^[gmsiy]*$/.test(a)&&raise(n,"Invalid regexp flag");try{var o=new RegExp(i,a)}catch(e){e instanceof SyntaxError&&raise(n,e.message),raise(e)}return finishToken(k,o)}function readInt(e,t){for(var n=l,r=0,i=0,a=null==t?1/0:t;i<a;++i){var o,s=f.charCodeAt(l);if(e<=(o=97<=s?s-97+10:65<=s?s-65+10:48<=s&&s<=57?s-48:1/0))break;++l,r=r*e+o}return l===n||null!=t&&l-n!==t?null:r}function readNumber(e){var t=l,n=!1,r=48===f.charCodeAt(l);e||null!==readInt(10)||raise(t,"Invalid number"),46===f.charCodeAt(l)&&(++l,readInt(10),n=!0);var i=f.charCodeAt(l);69!==i&&101!==i||(43!==(i=f.charCodeAt(++l))&&45!==i||++l,null===readInt(10)&&raise(t,"Invalid number"),n=!0),Be(f.charCodeAt(l))&&raise(l,"Identifier directly after number");var a,o=f.slice(t,l);return n?a=parseFloat(o):r&&1!==o.length?/[89]/.test(o)||C?raise(t,"Invalid number"):a=parseInt(o,8):a=parseInt(o,10),finishToken(E,a)}function readHexChar(e){var t=readInt(16,e);return null===t&&raise(g,"Bad character escape sequence"),t}function readWord1(){for(var e,t=!(Pe=!1),n=l;;){var r=f.charCodeAt(l);if(ze(r))Pe&&(e+=f.charAt(l)),++l;else{if(92!==r)break;Pe||(e=f.slice(n,l)),Pe=!0,117!=f.charCodeAt(++l)&&raise(l,"Expecting Unicode escape sequence \\uXXXX"),++l;var i=readHexChar(4),a=String.fromCharCode(i);a||raise(l-1,"Invalid Unicode escape"),(t?Be(i):ze(i))||raise(l-4,"Invalid Unicode escape"),e+=a}t=!1}return Pe?e:f.slice(n,l)}function readWord(){var e=readWord1(),t=P;return!Pe&&Re(e)&&(t=te[e]),finishToken(t,e)}function next(){_=g,y=i,d=o,readToken()}function setStrict(e){if(C=e,l=g,p.locations)for(;l<h;)h=f.lastIndexOf("\n",h-2)+1,--c;skipSpace(),readToken()}function node_t(){this.type=null,this.start=g,this.end=null}function node_loc_t(){this.start=a,(this.end=null)!==n&&(this.source=n)}function startNode(){var e=new node_t;return p.locations&&(e.loc=new node_loc_t),p.directSourceFile&&(e.sourceFile=p.directSourceFile),p.ranges&&(e.range=[g,0]),e}function startNodeFrom(e){var t=new node_t;return t.start=e.start,p.locations&&(t.loc=new node_loc_t,t.loc.start=e.loc.start),p.ranges&&(t.range=[e.range[0],0]),t}function finishNode(e,t){return e.type=t,e.end=y,p.locations&&(e.loc.end=d),p.ranges&&(e.range[1]=y),e}function isUseStrict(e){return 5<=p.ecmaVersion&&"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"use strict"===e.expression.value}function eat(e){if(v===e)return next(),!0}function canInsertSemicolon(){return!p.strictSemicolons&&(v===I||v===ae||Ve.test(f.slice(y,g)))}function semicolon(){eat(ue)||canInsertSemicolon()||unexpected()}function expect(e){v===e?next():unexpected()}function unexpected(){raise(g,"Unexpected token")}function checkLVal(e){"Identifier"!==e.type&&"MemberExpression"!==e.type&&raise(e.start,"Assigning to rvalue"),C&&"Identifier"===e.type&&Ae(e.name)&&raise(e.start,"Assigning to "+e.name+" in strict mode")}var Ue={kind:"loop"},We={kind:"switch"};function parseStatement(){(v===pe||v===ge&&"/="==m)&&readToken(!0);var e=v,t=startNode();switch(e){case O:case R:next();var n=e===O;eat(ue)||canInsertSemicolon()?t.label=null:v!==P?unexpected():(t.label=parseIdent(),semicolon());for(var r=0;r<w.length;++r){var i=w[r];if(null==t.label||i.name===t.label.name){if(null!=i.kind&&(n||"loop"===i.kind))break;if(t.label&&n)break}}return r===w.length&&raise(t.start,"Unsyntactic "+e.keyword),finishNode(t,n?"BreakStatement":"ContinueStatement");case L:return next(),semicolon(),finishNode(t,"DebuggerStatement");case D:return next(),w.push(Ue),t.body=parseStatement(),w.pop(),expect(G),t.test=parseParenExpression(),semicolon(),finishNode(t,"DoWhileStatement");case j:if(next(),w.push(Ue),expect(oe),v===ue)return parseFor(t,null);if(v===H){var a=startNode();return next(),parseVar(a,!0),finishNode(a,"VariableDeclaration"),1===a.declarations.length&&eat(ee)?parseForIn(t,a):parseFor(t,a)}a=parseExpression(!1,!0);return eat(ee)?(checkLVal(a),parseForIn(t,a)):parseFor(t,a);case B:return next(),parseFunction(t,!0);case z:return next(),t.test=parseParenExpression(),t.consequent=parseStatement(),t.alternate=eat(F)?parseStatement():null,finishNode(t,"IfStatement");case U:return b||p.allowReturnOutsideFunction||raise(g,"'return' outside of function"),next(),eat(ue)||canInsertSemicolon()?t.argument=null:(t.argument=parseExpression(),semicolon()),finishNode(t,"ReturnStatement");case W:next(),t.discriminant=parseParenExpression(),t.cases=[],expect(ie),w.push(We);for(var o,s;v!=ae;)if(v===N||v===M){var l=v===N;o&&finishNode(o,"SwitchCase"),t.cases.push(o=startNode()),o.consequent=[],next(),l?o.test=parseExpression():(s&&raise(_,"Multiple default clauses"),s=!0,o.test=null),expect(ce)}else o||unexpected(),o.consequent.push(parseStatement());return o&&finishNode(o,"SwitchCase"),next(),w.pop(),finishNode(t,"SwitchStatement");case q:return next(),Ve.test(f.slice(y,g))&&raise(y,"Illegal newline after throw"),t.argument=parseExpression(),semicolon(),finishNode(t,"ThrowStatement");case Q:if(next(),t.block=parseBlock(),t.handler=null,v===A){var u=startNode();next(),expect(oe),u.param=parseIdent(),C&&Ae(u.param.name)&&raise(u.param.start,"Binding "+u.param.name+" in strict mode"),expect(se),u.guard=null,u.body=parseBlock(),t.handler=finishNode(u,"CatchClause")}return t.guardedHandlers=S,t.finalizer=eat(V)?parseBlock():null,t.handler||t.finalizer||raise(t.start,"Missing catch or finally clause"),finishNode(t,"TryStatement");case H:return next(),parseVar(t),semicolon(),finishNode(t,"VariableDeclaration");case G:return next(),t.test=parseParenExpression(),w.push(Ue),t.body=parseStatement(),w.pop(),finishNode(t,"WhileStatement");case K:return C&&raise(g,"'with' in strict mode"),next(),t.object=parseParenExpression(),t.body=parseStatement(),finishNode(t,"WithStatement");case ie:return parseBlock();case ue:return next(),finishNode(t,"EmptyStatement");default:var c=m,h=parseExpression();if(e===P&&"Identifier"===h.type&&eat(ce)){for(r=0;r<w.length;++r)w[r].name===c&&raise(h.start,"Label '"+c+"' is already declared");var d=v.isLoop?"loop":v===W?"switch":null;return w.push({name:c,kind:d}),t.body=parseStatement(),w.pop(),t.label=h,finishNode(t,"LabeledStatement")}return t.expression=h,semicolon(),finishNode(t,"ExpressionStatement")}}function parseParenExpression(){expect(oe);var e=parseExpression();return expect(se),e}function parseBlock(e){var t,n=startNode(),r=!0,i=!1;for(n.body=[],expect(ie);!eat(ae);){var a=parseStatement();n.body.push(a),r&&e&&isUseStrict(a)&&(t=i,setStrict(i=!0)),r=!1}return i&&!t&&setStrict(!1),finishNode(n,"BlockStatement")}function parseFor(e,t){return e.init=t,expect(ue),e.test=v===ue?null:parseExpression(),expect(ue),e.update=v===se?null:parseExpression(),expect(se),e.body=parseStatement(),w.pop(),finishNode(e,"ForStatement")}function parseForIn(e,t){return e.left=t,e.right=parseExpression(),expect(se),e.body=parseStatement(),w.pop(),finishNode(e,"ForInStatement")}function parseVar(e,t){for(e.declarations=[],e.kind="var";;){var n=startNode();if(n.id=parseIdent(),C&&Ae(n.id.name)&&raise(n.id.start,"Binding "+n.id.name+" in strict mode"),n.init=eat(fe)?parseExpression(!0,t):null,e.declarations.push(finishNode(n,"VariableDeclarator")),!eat(le))break}return e}function parseExpression(e,t){var n=parseMaybeAssign(t);if(e||v!==le)return n;var r=startNodeFrom(n);for(r.expressions=[n];eat(le);)r.expressions.push(parseMaybeAssign(t));return finishNode(r,"SequenceExpression")}function parseMaybeAssign(e){var t=function parseMaybeConditional(e){var t=function parseExprOps(e){return function parseExprOp(e,t,n){var r=v.binop;if(null!=r&&(!n||v!==ee)&&t<r){var i=startNodeFrom(e);i.left=e,i.operator=m;var a=v;next(),i.right=parseExprOp(parseMaybeUnary(),r,n);var o=finishNode(i,a===_e||a===ye?"LogicalExpression":"BinaryExpression");return parseExprOp(o,t,n)}return e}(parseMaybeUnary(),-1,e)}(e);if(eat(de)){var n=startNodeFrom(t);return n.test=t,n.consequent=parseExpression(!0),expect(ce),n.alternate=parseExpression(!0,e),finishNode(n,"ConditionalExpression")}return t}(e);if(v.isAssign){var n=startNodeFrom(t);return n.operator=m,n.left=t,next(),n.right=parseMaybeAssign(e),checkLVal(t),finishNode(n,"AssignmentExpression")}return t}function parseMaybeUnary(){if(v.prefix){var e=startNode(),t=v.isUpdate;return e.operator=m,e.prefix=!0,u=!0,next(),e.argument=parseMaybeUnary(),t?checkLVal(e.argument):C&&"delete"===e.operator&&"Identifier"===e.argument.type&&raise(e.start,"Deleting local variable in strict mode"),finishNode(e,t?"UpdateExpression":"UnaryExpression")}for(var n=function parseExprSubscripts(){return parseSubscripts(parseExprAtom())}();v.postfix&&!canInsertSemicolon();){(e=startNodeFrom(n)).operator=m,e.prefix=!1,checkLVal(e.argument=n),next(),n=finishNode(e,"UpdateExpression")}return n}function parseSubscripts(e,t){var n;return eat(he)?((n=startNodeFrom(e)).object=e,n.property=parseIdent(!0),n.computed=!1,parseSubscripts(finishNode(n,"MemberExpression"),t)):eat(ne)?((n=startNodeFrom(e)).object=e,n.property=parseExpression(),n.computed=!0,expect(re),parseSubscripts(finishNode(n,"MemberExpression"),t)):t||!eat(oe)?e:((n=startNodeFrom(e)).callee=e,n.arguments=parseExprList(se,!1),parseSubscripts(finishNode(n,"CallExpression"),t))}function parseExprAtom(){switch(v){case Y:var e=startNode();return next(),finishNode(e,"ThisExpression");case P:return parseIdent();case E:case T:case k:return(e=startNode()).value=m,e.raw=f.slice(g,i),next(),finishNode(e,"Literal");case J:case Z:case X:return(e=startNode()).value=v.atomValue,e.raw=v.keyword,next(),finishNode(e,"Literal");case oe:var t=a,n=g;next();var r=parseExpression();return r.start=n,r.end=i,p.locations&&(r.loc.start=t,r.loc.end=o),p.ranges&&(r.range=[n,i]),expect(se),r;case ne:e=startNode();return next(),e.elements=parseExprList(re,!0,!0),finishNode(e,"ArrayExpression");case ie:return function parseObj(){var e=startNode(),t=!0,n=!1;e.properties=[],next();for(;!eat(ae);){if(t)t=!1;else if(expect(le),p.allowTrailingCommas&&eat(ae))break;var r,i={key:parsePropertyName()},a=!1;if(eat(ce)?(i.value=parseExpression(!0),r=i.kind="init"):5<=p.ecmaVersion&&"Identifier"===i.key.type&&("get"===i.key.name||"set"===i.key.name)?(a=n=!0,r=i.kind=i.key.name,i.key=parsePropertyName(),v!==oe&&unexpected(),i.value=parseFunction(startNode(),!1)):unexpected(),"Identifier"===i.key.type&&(C||n))for(var o=0;o<e.properties.length;++o){var s=e.properties[o];if(s.key.name===i.key.name){var l=r==s.kind||a&&"init"===s.kind||"init"===r&&("get"===s.kind||"set"===s.kind);l&&!C&&"init"===r&&"init"===s.kind&&(l=!1),l&&raise(i.key.start,"Redefinition of property")}}e.properties.push(i)}return finishNode(e,"ObjectExpression")}();case B:e=startNode();return next(),parseFunction(e,!1);case $:return function parseNew(){var e=startNode();next(),e.callee=parseSubscripts(parseExprAtom(),!0),eat(oe)?e.arguments=parseExprList(se,!1):e.arguments=S;return finishNode(e,"NewExpression")}();default:unexpected()}}function parsePropertyName(){return v===E||v===T?parseExprAtom():parseIdent(!0)}function parseFunction(e,t){v===P?e.id=parseIdent():t?unexpected():e.id=null,e.params=[];var n=!0;for(expect(oe);!eat(se);)n?n=!1:expect(le),e.params.push(parseIdent());var r=b,i=w;if(b=!0,w=[],e.body=parseBlock(!0),b=r,w=i,C||e.body.body.length&&isUseStrict(e.body.body[0]))for(var a=e.id?-1:0;a<e.params.length;++a){var o=a<0?e.id:e.params[a];if((Ne(o.name)||Ae(o.name))&&raise(o.start,"Defining '"+o.name+"' in strict mode"),0<=a)for(var s=0;s<a;++s)o.name===e.params[s].name&&raise(o.start,"Argument name clash in strict mode")}return finishNode(e,t?"FunctionDeclaration":"FunctionExpression")}function parseExprList(e,t,n){for(var r=[],i=!0;!eat(e);){if(i)i=!1;else if(expect(le),t&&p.allowTrailingCommas&&eat(e))break;n&&v===le?r.push(null):r.push(parseExpression(!0))}return r}function parseIdent(e){var t=startNode();return e&&"everywhere"==p.forbidReserved&&(e=!1),v===P?(!e&&(p.forbidReserved&&(3===p.ecmaVersion?Ie:Oe)(m)||C&&Ne(m))&&-1==f.slice(g,i).indexOf("\\")&&raise(g,"The keyword '"+m+"' is reserved"),t.name=m):e&&v.keyword?t.name=v.keyword:unexpected(),u=!1,next(),finishNode(t,"Identifier")}},"object"==typeof e&&"object"==typeof t?n(e):(ce=[e],(de="function"==typeof(he=n)?he.apply(e,ce):he)===B||(t.exports=de)),i.version||(i=null));function parse(e,t){return(r.acorn||i).parse(e,t)}var y={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},b={"-":"__negate","+":"__self"},a=z.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(e){this["__"+e]="#"+e},{__self:function(){return this}});function __$__(e,t,n){var r=y[t];if(e&&e[r]){var i=e[r](n);return"!="===t?!i:i}switch(t){case"+":return e+n;case"-":return e-n;case"*":return e*n;case"/":return e/n;case"%":return e%n;case"==":return e==n;case"!=":return e!=n}}function $__(e,t){var n=b[e];if(t&&t[n])return t[n]();switch(e){case"+":return+t;case"-":return-t}}function compile(_,e){if(!_)return"";var o=[];function getOffset(e){for(var t=0,n=o.length;t<n;t++){var r=o[t];if(r[0]>=e)break;e+=r[1]}return e}function getCode(e){return _.substring(getOffset(e.range[0]),getOffset(e.range[1]))}function replaceCode(e,t){for(var n=getOffset(e.range[0]),r=getOffset(e.range[1]),i=0,a=o.length-1;0<=a;a--)if(n>o[a][0]){i=a+1;break}o.splice(i,0,[n,t.length-r+n]),_=_.substring(0,n)+t+_.substring(r)}var t,n=(e=e||{}).url||"",r=oe.agent,i=r.versionNumber,a=!1,s=e.sourceMaps,l=e.source||_,u=/\r\n|\n|\r/gm,c=e.offset||0;if(s&&(r.chrome&&30<=i||r.webkit&&537.76<=i||r.firefox&&23<=i||r.node)){if(r.node)c-=2;else if(k&&n&&!k.location.href.indexOf(n)){var h=T.getElementsByTagName("html")[0].innerHTML;c=h.substr(0,h.indexOf(_)+1).match(u).length+1}var d=["AA"+function encodeVLQ(e){var t="";for(e=(Math.abs(e)<<1)+(e<0?1:0);e||!t;){var n=31&e;(e>>=5)&&(n|=32),t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[n]}return t}((a=0<c&&!(r.chrome&&36<=i||r.safari&&600<=i||r.firefox&&40<=i||r.node))?0:c)+"A"];d.length=(_.match(u)||[]).length+1+(a?c:0),t={version:3,file:n,names:[],mappings:d.join(";AACA"),sourceRoot:"",sources:[n],sourcesContent:[l]}}return function walkAST(e,t){if(e){for(var n in e)if("range"!==n&&"loc"!==n){var r=e[n];if(Array.isArray(r))for(var i=0,a=r.length;i<a;i++)walkAST(r[i],e);else r&&"object"==typeof r&&walkAST(r,e)}switch(e.type){case"UnaryExpression":if(e.operator in b&&"Literal"!==e.argument.type){var o=getCode(e.argument);replaceCode(e,'$__("'+e.operator+'", '+o+")")}break;case"BinaryExpression":if(e.operator in y&&"Literal"!==e.left.type){var s=getCode(e.left),l=getCode(e.right),u=function getBetween(e,t){return _.substring(getOffset(e.range[1]),getOffset(t.range[0]))}(e.left,e.right),c=e.operator;replaceCode(e,"__$__("+s+","+u.replace(new RegExp("\\"+c),'"'+c+'"')+", "+l+")")}break;case"UpdateExpression":case"AssignmentExpression":var h=t&&t.type;if(!("ForStatement"===h||"BinaryExpression"===h&&/^[=!<>]/.test(t.operator)||"MemberExpression"===h&&t.computed))if("UpdateExpression"===e.type){var d=(o=getCode(e.argument))+" = "+(p="__$__("+o+', "'+e.operator[0]+'", 1)');e.prefix?d="("+d+")":"AssignmentExpression"!==h&&"VariableDeclarator"!==h&&"BinaryExpression"!==h||(getCode(t.left||t.id)===o&&(d=p),d=o+"; "+d),replaceCode(e,d)}else if(/^.=$/.test(e.operator)&&"Literal"!==e.left.type){s=getCode(e.left),l=getCode(e.right);var p=s+" = __$__("+s+', "'+e.operator[0]+'", '+l+")";replaceCode(e,/^\(.*\)$/.test(getCode(e))?"("+p+")":p)}break;case"ExportDefaultDeclaration":replaceCode({range:[e.start,e.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var f=e.declaration,g=e.specifiers;if(f){var v=f.declarations;v&&(v.forEach(function(e){replaceCode(e,"module.exports."+getCode(e))}),replaceCode({range:[e.start,f.start+f.kind.length]},""))}else if(g){var m=g.map(function(e){var t=getCode(e);return"module.exports."+t+" = "+t+"; "}).join("");m&&replaceCode(e,m)}}}}(parse(_,{ranges:!0,preserveParens:!0,sourceType:"module"})),t&&(a&&(_=new Array(c+1).join("\n")+_),/^(inline|both)$/.test(s)&&(_+="\n//# sourceMappingURL=data:application/json;base64,"+p.btoa(unescape(encodeURIComponent(JSON.stringify(t))))),_+="\n//# sourceURL="+(n||"paperscript")),{url:n,source:l,code:_,map:t}}function execute(r,e,t){var n,i=(oe=e).getView(),a=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(r)&&!/\bnew\s+Tool\b/.test(r)?new X:null,o=a?a._events:[],s=["onFrame","onResize"].concat(o),l=[],u=[],c="object"==typeof r?r:compile(r,t);function expose(e,t){for(var n in e)!t&&/^_/.test(n)||!new RegExp("([\\b\\s\\W]|^)"+n.replace(/\$/g,"\\$")+"\\b").test(r)||(l.push(n),u.push(e[n]))}r=c.code,expose({__$__:__$__,$__:$__,paper:e,tool:a},!0),expose(e),r="var module = { exports: {} }; "+r,(f=z.each(s,function(e){new RegExp("\\s+"+e+"\\b").test(r)&&(l.push(e),this.push("module.exports."+e+" = "+e+";"))},[]).join("\n"))&&(r+="\n"+f),r+="\nreturn module.exports;";var h=oe.agent;if(T&&(h.chrome||h.firefox&&h.versionNumber<40)){var d=T.createElement("script"),p=T.head||T.getElementsByTagName("head")[0];h.firefox&&(r="\n"+r),d.appendChild(T.createTextNode("document.__paperscript__ = function("+l+") {"+r+"\n}")),p.appendChild(d),n=T.__paperscript__,delete T.__paperscript__,p.removeChild(d)}else n=Function(l,r);var f,g=(f=n&&n.apply(e,u))||{};return z.each(o,function(e){var t=g[e];t&&(a[e]=t)}),i&&(g.onResize&&i.setOnResize(g.onResize),i.emit("resize",{size:i.size,delta:new W}),g.onFrame&&i.setOnFrame(g.onFrame),i.requestUpdate()),f}function loadScript(e){if(/^text\/(?:x-|)paperscript$/.test(e.type)&&"true"!==l.getAttribute(e,"ignore")){var t=l.getAttribute(e,"canvas"),n=T.getElementById(t),r=e.src||e.getAttribute("data-src"),i=l.hasAttribute(e,"async"),a="data-paper-scope";if(!n)throw new Error('Unable to find canvas with id "'+t+'"');var o=l.get(n.getAttribute(a))||(new l).setup(n);return n.setAttribute(a,o._id),r?te({url:r,async:i,mimeType:"text/plain",onLoad:function(e){execute(e,o,r)}}):execute(e.innerHTML,o,e.baseURI),e.setAttribute("data-paper-ignore","true"),o}}function loadAll(){z.each(T&&T.getElementsByTagName("script"),loadScript)}return W.inject(a),q.inject(a),A.inject(a),k&&("complete"===T.readyState?setTimeout(loadAll):D.add(k,{load:loadAll})),{compile:compile,execute:execute,load:function load(e){return e?loadScript(e):loadAll()},parse:parse,calculateBinary:__$__,calculateUnary:$__}}.call(this);var oe=new(l.inject(z.exports,{Base:z,Numerical:U,Key:Y,DomEvent:D,DomElement:M,document:T,window:k,Symbol:C,PlacedSymbol:o}));return oe.agent.node&&ue(1)(oe),(de="function"==typeof(he=oe)?he.call(le,ue,le,se):he)===B||(se.exports=de),oe}).call(this,"object"==typeof self?self:null)},MgzW:function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;e.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,i=function toObject(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),a=1;a<arguments.length;a++){for(var o in n=Object(arguments[a]))u.call(n,o)&&(i[o]=n[o]);if(l){r=l(n);for(var s=0;s<r.length;s++)c.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i}},NSPt:function(Gt,Kt,$t){"use strict";(function(l){Object.defineProperty(Kt,"__esModule",{value:!0});var e=function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}($t("wj3C")),f=$t("mrSG"),b=$t("zVF4"),n=$t("q/0M"),r=$t("S+S0"),i=(DOMStorageWrapper.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),b.stringify(t))},DOMStorageWrapper.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:b.jsonEval(t)},DOMStorageWrapper.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},DOMStorageWrapper.prototype.prefixedName_=function(e){return this.prefix_+e},DOMStorageWrapper.prototype.toString=function(){return this.domStorage_.toString()},DOMStorageWrapper);function DOMStorageWrapper(e){this.domStorage_=e,this.prefix_="firebase:"}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var a=(MemoryStorage.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},MemoryStorage.prototype.get=function(e){return b.contains(this.cache_,e)?this.cache_[e]:null},MemoryStorage.prototype.remove=function(e){delete this.cache_[e]},MemoryStorage);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MemoryStorage(){this.cache_={},this.isInMemoryStorage=!0}function G4a(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new i(t)}}catch(e){}return new a}function L4a(e){var t=b.stringToByteArray(e),n=new b.Sha1;n.update(t);var r=n.digest();return b.base64.encodeByteArray(r)}function P4a(e,t){b.assert(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(s.logLevel=n.LogLevel.VERBOSE,h=s.log.bind(s),t&&o.set("logging_enabled",!0)):"function"==typeof e?h=e:(h=null,o.remove("logging_enabled"))}function Q4a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===d&&(d=!1,null===h&&!0===o.get("logging_enabled")&&P4a(!0)),h){var n=c.apply(null,e);h(n)}}function R4a(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Q4a.apply(void 0,f.__spread([n],e))}}function S4a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+c.apply(void 0,f.__spread(e));s.error(n)}function T4a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+c.apply(void 0,f.__spread(e));throw s.error(n),new Error(n)}function U4a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+c.apply(void 0,f.__spread(e));s.warn(n)}function W4a(e){return"number"==typeof e&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)}function _4a(e,t){return e===t?0:e<t?-1:1}function a5a(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+b.stringify(t))}function c5a(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)n<i+t?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r}var t,u=G4a("localStorage"),o=G4a("sessionStorage"),s=new n.Logger("@firebase/database"),v=(t=1,function(){return t++}),c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++)Array.isArray(e[r])||e[r]&&"object"==typeof e[r]&&"number"==typeof e[r].length?n+=c.apply(null,e[r]):"object"==typeof e[r]?n+=b.stringify(e[r]):n+=e[r],n+=" ";return n},h=null,d=!0,p="[MIN_NAME]",g="[MAX_NAME]",m=function(e,t){if(e===t)return 0;if(e===p||t===g)return-1;if(t===p||e===g)return 1;var n=w(e),r=w(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},_=function(e){if("object"!=typeof e||null===e)return b.stringify(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=b.stringify(t[i]),r+=":",r+=_(e[t[i]]);return r+="}"};function each(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function d5a(e){var t,n,r,i,a,o,s;for(b.assert(!W4a(e),"Invalid JSON number"),0===e?t=1/e==-1/(r=n=0)?1:0:(t=e<0,r=(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,Math.round(e/Math.pow(2,-1074)))),o=[],a=52;a;a-=1)o.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(t?1:0),o.reverse(),s=o.join("");var l="";for(a=0;a<64;a+=8){var u=parseInt(s.substr(a,8),2).toString(16);1===u.length&&(u="0"+u),l+=u}return l.toLowerCase()}function j5a(e){try{e()}catch(t){setTimeout(function(){var e=t.stack||"";throw U4a("Exception was thrown by user callback.",e),t},Math.floor(0))}}function l5a(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n}var y=new RegExp("^-?(0*)\\d{1,10}$"),w=function(e){if(y.test(e)){var t=Number(e);if(-2147483648<=t&&t<=2147483647)return t}return null},C=(Object.defineProperty(Path,"Empty",{get:function(){return new Path("")},enumerable:!0,configurable:!0}),Path.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},Path.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},Path.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new Path(this.pieces_,e)},Path.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},Path.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},Path.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(String(this.pieces_[t])));return e||"/"},Path.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},Path.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],t=this.pieceNum_;t<this.pieces_.length-1;t++)e.push(this.pieces_[t]);return new Path(e,0)},Path.prototype.child=function(e){for(var t=[],n=this.pieceNum_;n<this.pieces_.length;n++)t.push(this.pieces_[n]);if(e instanceof Path)for(n=e.pieceNum_;n<e.pieces_.length;n++)t.push(e.pieces_[n]);else{var r=e.split("/");for(n=0;n<r.length;n++)0<r[n].length&&t.push(r[n])}return new Path(t,0)},Path.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},Path.relativePath=function(e,t){var n=e.getFront(),r=t.getFront();if(null===n)return t;if(n===r)return Path.relativePath(e.popFront(),t.popFront());throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")},Path.comparePaths=function(e,t){for(var n=e.slice(),r=t.slice(),i=0;i<n.length&&i<r.length;i++){var a=m(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1},Path.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},Path.prototype.contains=function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0},Path);function Path(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)0<this.pieces_[r].length&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}var x=(Object.defineProperty(ValidationPath,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(ValidationPath,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),ValidationPath.prototype.push=function(e){0<this.parts_.length&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=b.stringLength(e),this.checkValid_()},ValidationPath.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=b.stringLength(e),0<this.parts_.length&&(this.byteLength_-=1)},ValidationPath.prototype.checkValid_=function(){if(this.byteLength_>ValidationPath.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+ValidationPath.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>ValidationPath.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ValidationPath.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},ValidationPath.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},ValidationPath);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ValidationPath(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=b.stringLength(this.parts_[n]);this.checkValid_()}var S="firebaseio.com",E="long_polling",k=(RepoInfo.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},RepoInfo.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},RepoInfo.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},RepoInfo.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},RepoInfo.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&u.set("host:"+this.host,this.internalHost))},RepoInfo.prototype.connectionURL=function(e,t){var n;if(b.assert("string"==typeof e,"typeof type must == string"),b.assert("object"==typeof t,"typeof params must == object"),"websocket"===e)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(e!==E)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var r=[];return each(t,function(e,t){r.push(e+"="+t)}),n+r.join("&")},RepoInfo.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},RepoInfo.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},RepoInfo);function RepoInfo(e,t,n,r,i,a){void 0===i&&(i=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=a,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=u.get("host:"+e)||this.host}function y5a(e){var t=T(e),n=t.namespace;"firebase"===t.domain&&T4a(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===t.domain||T4a("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&U4a("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var r="ws"===t.scheme||"wss"===t.scheme;return{repoInfo:new k(t.host,t.secure,n,r,"",n!=t.subdomain),path:new C(t.pathString)}}function D5a(e){return"string"==typeof e&&0!==e.length&&!P.test(e)}function E5a(e){return"string"==typeof e&&0!==e.length&&!I.test(e)}function G5a(e){return null===e||"string"==typeof e||"number"==typeof e&&!W4a(e)||e&&"object"==typeof e&&b.contains(e,".sv")}function H5a(e,t,n,r,i){i&&void 0===n||N(b.errorPrefix(e,t,i),n,r)}function K5a(e,t,n,r,i){if(!i||void 0!==n){var a=b.errorPrefix(e,t,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");var o=[];each(n,function(e,t){var n=new C(e);if(N(a,t,r.child(n)),".priority"===n.getBack()&&!G5a(t))throw new Error(a+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(n)}),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=(r=t[n]).slice(),a=0;a<i.length;a++)if((".priority"!==i[a]||a!==i.length-1)&&!D5a(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(C.comparePaths);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&o.contains(r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(a,o)}}function L5a(e,t,n,r){if(!r||void 0!==n){if(W4a(n))throw new Error(b.errorPrefix(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!G5a(n))throw new Error(b.errorPrefix(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}function M5a(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(b.errorPrefix(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function N5a(e,t,n,r){if(!(r&&void 0===n||D5a(n)))throw new Error(b.errorPrefix(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function O5a(e,t,n,r){if(!(r&&void 0===n||E5a(n)))throw new Error(b.errorPrefix(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function Q5a(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")}function R5a(e,t,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!D5a(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(e){return e=e&&e.replace(/^\/*\.info(\/|$)/,"/"),E5a(e)}(r))throw new Error(b.errorPrefix(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')}var T=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",l=443;if("string"==typeof e){var u=e.indexOf("//");0<=u&&(s=e.substring(0,u-1),e=e.substring(u+2));var c=e.indexOf("/");-1===c&&(c=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(c,h)),c<h&&(i=
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function decodePath(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(0<n[r].length){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(c,h)));var d=function decodeQuery(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=f.__values(e.split("&")),a=i.next();!a.done;a=i.next()){var o=a.value;if(0!==o.length){var s=o.split("=");2===s.length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):U4a("Invalid query segment '"+o+"' in query '"+e+"'")}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,h)));0<=(u=t.indexOf(":"))?(o="https"===s||"wss"===s,l=parseInt(t.substring(u+1),10)):u=e.length;var p=t.split(".");3===p.length?(n=p[1],a=r=p[0].toLowerCase()):2===p.length?n=p[0]:"localhost"===p[0].slice(0,u).toLowerCase()&&(n="localhost"),"ns"in d&&(a=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},P=/[\[\].#$\/\u0000-\u001F\u007F]/,I=/[\[\].#$\u0000-\u001F\u007F]/,O=10485760,N=function(n,e,t){var r=t instanceof C?new x(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(n+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(W4a(e))throw new Error(n+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>O/3&&b.stringLength(e)>O)throw new Error(n+"contains a string greater than "+O+" utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,a=!1;if(each(e,function(e,t){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(a=!0,!D5a(e)))throw new Error(n+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),N(n,t,r),r.pop()}),i&&a)throw new Error(n+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},A=(OnDisconnect.prototype.cancel=function(e){b.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),b.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new b.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},OnDisconnect.prototype.remove=function(e){b.validateArgCount("OnDisconnect.remove",0,1,arguments.length),Q5a("OnDisconnect.remove",this.path_),b.validateCallback("OnDisconnect.remove",1,e,!0);var t=new b.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},OnDisconnect.prototype.set=function(e,t){b.validateArgCount("OnDisconnect.set",1,2,arguments.length),Q5a("OnDisconnect.set",this.path_),H5a("OnDisconnect.set",1,e,this.path_,!1),b.validateCallback("OnDisconnect.set",2,t,!0);var n=new b.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},OnDisconnect.prototype.setWithPriority=function(e,t,n){b.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),Q5a("OnDisconnect.setWithPriority",this.path_),H5a("OnDisconnect.setWithPriority",1,e,this.path_,!1),L5a("OnDisconnect.setWithPriority",2,t,!1),b.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new b.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,r.wrapCallback(n)),r.promise},OnDisconnect.prototype.update=function(e,t){if(b.validateArgCount("OnDisconnect.update",1,2,arguments.length),Q5a("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,U4a("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}K5a("OnDisconnect.update",1,e,this.path_,!1),b.validateCallback("OnDisconnect.update",2,t,!0);var i=new b.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,i.wrapCallback(t)),i.promise},OnDisconnect);function OnDisconnect(e,t){this.repo_=e,this.path_=t}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var R=(TransactionResult.prototype.toJSON=function(){return b.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},TransactionResult);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TransactionResult(e,t){this.committed=e,this.snapshot=t}var L,M,D,F=(L="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",M=0,D=[],function(e){var t,n=e===M;M=e;var r=new Array(8);for(t=7;0<=t;t--)r[t]=L.charAt(e%64),e=Math.floor(e/64);b.assert(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;0<=t&&63===D[t];t--)D[t]=0;D[t]++}else for(t=0;t<12;t++)D[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=L.charAt(D[t]);return b.assert(20===i.length,"nextPushId: Length should be 20."),i}),V=(NamedNode.Wrap=function(e,t){return new NamedNode(e,t)},NamedNode);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NamedNode(e,t){this.name=e,this.node=t}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var j,B=(Index.prototype.getCompare=function(){return this.compare.bind(this)},Index.prototype.indexedValueChanged=function(e,t){var n=new V(p,e),r=new V(p,t);return 0!==this.compare(n,r)},Index.prototype.minPost=function(){return V.MIN},Index);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Index(){}var z,U=(z=B,f.__extends(KeyIndex,z),Object.defineProperty(KeyIndex,"__EMPTY_NODE",{get:function(){return j},set:function(e){j=e},enumerable:!0,configurable:!0}),KeyIndex.prototype.compare=function(e,t){return m(e.name,t.name)},KeyIndex.prototype.isDefinedOn=function(e){throw b.assertionError("KeyIndex.isDefinedOn not expected to be called.")},KeyIndex.prototype.indexedValueChanged=function(e,t){return!1},KeyIndex.prototype.minPost=function(){return V.MIN},KeyIndex.prototype.maxPost=function(){return new V(g,j)},KeyIndex.prototype.makePost=function(e,t){return b.assert("string"==typeof e,"KeyIndex indexValue must always be a string."),new V(e,j)},KeyIndex.prototype.toString=function(){return".key"},KeyIndex);function KeyIndex(){return null!==z&&z.apply(this,arguments)||this}var W,q=new U;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6a(e){return"number"==typeof e?"number:"+d5a(e):"string:"+e}function b6a(e){if(e.isLeafNode()){var t=e.val();b.assert("string"==typeof t||"number"==typeof t||"object"==typeof t&&b.contains(t,".sv"),"Priority must be a string or number.")}else b.assert(e===W||e.isEmpty(),"priority of unexpected type.");b.assert(e===W||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")}var Q,H,G,K,$=(Object.defineProperty(LeafNode,"__childrenNodeConstructor",{get:function(){return Q},set:function(e){Q=e},enumerable:!0,configurable:!0}),LeafNode.prototype.isLeafNode=function(){return!0},LeafNode.prototype.getPriority=function(){return this.priorityNode_},LeafNode.prototype.updatePriority=function(e){return new LeafNode(this.value_,e)},LeafNode.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE},LeafNode.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE},LeafNode.prototype.hasChild=function(){return!1},LeafNode.prototype.getPredecessorChildName=function(e,t){return null},LeafNode.prototype.updateImmediateChild=function(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)},LeafNode.prototype.updateChild=function(e,t){var n=e.getFront();return null===n?t:t.isEmpty()&&".priority"!==n?this:(b.assert(".priority"!==n||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(n,LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),t)))},LeafNode.prototype.isEmpty=function(){return!1},LeafNode.prototype.numChildren=function(){return 0},LeafNode.prototype.forEachChild=function(e,t){return!1},LeafNode.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},LeafNode.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+a6a(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"==t?d5a(this.value_):this.value_,this.lazyHash_=L4a(e)}return this.lazyHash_},LeafNode.prototype.getValue=function(){return this.value_},LeafNode.prototype.compareTo=function(e){return e===LeafNode.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof LeafNode.__childrenNodeConstructor?-1:(b.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},LeafNode.prototype.compareToLeafNode_=function(e){var t=typeof e.value_,n=typeof this.value_,r=LeafNode.VALUE_TYPE_ORDER.indexOf(t),i=LeafNode.VALUE_TYPE_ORDER.indexOf(n);return b.assert(0<=r,"Unknown leaf type: "+t),b.assert(0<=i,"Unknown leaf type: "+n),r===i?"object"==n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r},LeafNode.prototype.withIndex=function(){return this},LeafNode.prototype.isIndexed=function(){return!0},LeafNode.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},LeafNode.VALUE_TYPE_ORDER=["object","boolean","number","string"],LeafNode);function LeafNode(e,t){void 0===t&&(t=LeafNode.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=t,this.lazyHash_=null,b.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),b6a(this.priorityNode_)}function PriorityIndex(){return null!==K&&K.apply(this,arguments)||this}var Y=new(K=B,f.__extends(PriorityIndex,K),PriorityIndex.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?m(e.name,t.name):i},PriorityIndex.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},PriorityIndex.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},PriorityIndex.prototype.minPost=function(){return V.MIN},PriorityIndex.prototype.maxPost=function(){return new V(g,new $("[PRIORITY-POST]",G))},PriorityIndex.prototype.makePost=function(e,t){var n=H(e);return new V(t,new $("[PRIORITY-POST]",n))},PriorityIndex.prototype.toString=function(){return".priority"},PriorityIndex),J=(SortedMapIterator.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},SortedMapIterator.prototype.hasNext=function(){return 0<this.nodeStack_.length},SortedMapIterator.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},SortedMapIterator);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SortedMapIterator(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var a=1;!e.isEmpty();)if(e=e,a=t?n(e.key,t):1,r&&(a*=-1),a<0)e=this.isReverse_?e.left:e.right;else{if(0===a){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}var Z=(LLRBNode.prototype.copy=function(e,t,n,r,i){return new LLRBNode(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},LLRBNode.prototype.count=function(){return this.left.count()+1+this.right.count()},LLRBNode.prototype.isEmpty=function(){return!1},LLRBNode.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},LLRBNode.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},LLRBNode.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},LLRBNode.prototype.minKey=function(){return this.min_().key},LLRBNode.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},LLRBNode.prototype.insert=function(e,t,n){var r,i;return(i=(r=n(e,(i=this).key))<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n))).fixUp_()},LLRBNode.prototype.removeMin_=function(){if(this.left.isEmpty())return ee.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},LLRBNode.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ee.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},LLRBNode.prototype.isRed_=function(){return this.color},LLRBNode.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},LLRBNode.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},LLRBNode.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},LLRBNode.prototype.rotateLeft_=function(){var e=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},LLRBNode.prototype.rotateRight_=function(){var e=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},LLRBNode.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},LLRBNode.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},LLRBNode.prototype.check_=function(){var e;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((e=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},LLRBNode.RED=!0,LLRBNode.BLACK=!1,LLRBNode);function LLRBNode(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:LLRBNode.RED,this.left=null!=r?r:ee.EMPTY_NODE,this.right=null!=i?i:ee.EMPTY_NODE}var X=(LLRBEmptyNode.prototype.copy=function(e,t,n,r,i){return this},LLRBEmptyNode.prototype.insert=function(e,t,n){return new Z(e,t,null)},LLRBEmptyNode.prototype.remove=function(e,t){return this},LLRBEmptyNode.prototype.count=function(){return 0},LLRBEmptyNode.prototype.isEmpty=function(){return!0},LLRBEmptyNode.prototype.inorderTraversal=function(e){return!1},LLRBEmptyNode.prototype.reverseTraversal=function(e){return!1},LLRBEmptyNode.prototype.minKey=function(){return null},LLRBEmptyNode.prototype.maxKey=function(){return null},LLRBEmptyNode.prototype.check_=function(){return 0},LLRBEmptyNode.prototype.isRed_=function(){return!1},LLRBEmptyNode);function LLRBEmptyNode(){}var ee=(SortedMap.prototype.insert=function(e,t){return new SortedMap(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Z.BLACK,null,null))},SortedMap.prototype.remove=function(e){return new SortedMap(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Z.BLACK,null,null))},SortedMap.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:0<t&&(n=n.right)}return null},SortedMap.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:0<t&&(n=(r=n).right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},SortedMap.prototype.isEmpty=function(){return this.root_.isEmpty()},SortedMap.prototype.count=function(){return this.root_.count()},SortedMap.prototype.minKey=function(){return this.root_.minKey()},SortedMap.prototype.maxKey=function(){return this.root_.maxKey()},SortedMap.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},SortedMap.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},SortedMap.prototype.getIterator=function(e){return new J(this.root_,null,this.comparator_,!1,e)},SortedMap.prototype.getIteratorFrom=function(e,t){return new J(this.root_,e,this.comparator_,!1,t)},SortedMap.prototype.getReverseIteratorFrom=function(e,t){return new J(this.root_,e,this.comparator_,!0,t)},SortedMap.prototype.getReverseIterator=function(e){return new J(this.root_,null,this.comparator_,!0,e)},SortedMap.EMPTY_NODE=new X,SortedMap);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SortedMap(e,t){void 0===t&&(t=SortedMap.EMPTY_NODE),this.comparator_=e,this.root_=t}var te=Math.log(2),ne=(Base12Num.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},Base12Num);function Base12Num(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/te,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}var re,ie,ae=function(u,e,c,t){u.sort(e);var h=function(e,t){var n,r,i=t-e;if(0==i)return null;if(1==i)return n=u[e],r=c?c(n):n,new Z(r,n.node,Z.BLACK,null,null);var a=parseInt(i/2,10)+e,o=h(e,a),s=h(a+1,t);return n=u[a],r=c?c(n):n,new Z(r,n.node,Z.BLACK,o,s)},n=function(e){for(var t=null,n=null,s=u.length,r=function(e,t){var n=s-e,r=s;s-=e;var i=h(1+n,r),a=u[n],o=c?c(a):a;l(new Z(o,a.node,t,null,i))},l=function(e){t=t?t.left=e:n=e},i=0;i<e.count;++i){var a=e.nextBitIsOne(),o=Math.pow(2,e.count-(i+1));a?r(o,Z.BLACK):(r(o,Z.BLACK),r(o,Z.RED))}return n}(new ne(u.length));return new ee(t||e,n)},oe={},se=(Object.defineProperty(IndexMap,"Default",{get:function(){return b.assert(Y,"ChildrenNode.ts has not been loaded"),re=re||new IndexMap({".priority":oe},{".priority":Y})},enumerable:!0,configurable:!0}),IndexMap.prototype.get=function(e){var t=b.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ee?t:null},IndexMap.prototype.hasIndex=function(e){return b.contains(this.indexSet_,e.toString())},IndexMap.prototype.addIndex=function(e,t){b.assert(e!==q,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var n,r=[],i=!1,a=t.getIterator(V.Wrap),o=a.getNext();o;)i=i||e.isDefinedOn(o.node),r.push(o),o=a.getNext();n=i?ae(r,e.getCompare()):oe;var s=e.toString(),l=f.__assign({},this.indexSet_);l[s]=e;var u=f.__assign({},this.indexes_);return u[s]=n,new IndexMap(u,l)},IndexMap.prototype.addToIndexes=function(l,u){var c=this;return new IndexMap(b.map(this.indexes_,function(e,t){var n=b.safeGet(c.indexSet_,t);if(b.assert(n,"Missing index implementation for "+t),e===oe){if(n.isDefinedOn(l.node)){for(var r=[],i=u.getIterator(V.Wrap),a=i.getNext();a;)a.name!=l.name&&r.push(a),a=i.getNext();return r.push(l),ae(r,n.getCompare())}return oe}var o=u.get(l.name),s=e;return o&&(s=s.remove(new V(l.name,o))),s.insert(l,l.node)}),this.indexSet_)},IndexMap.prototype.removeFromIndexes=function(n,r){return new IndexMap(b.map(this.indexes_,function(e){if(e===oe)return e;var t=r.get(n.name);return t?e.remove(new V(n.name,t)):e}),this.indexSet_)},IndexMap);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IndexMap(e,t){this.indexes_=e,this.indexSet_=t}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function NAME_ONLY_COMPARATOR(e,t){return m(e.name,t.name)}function NAME_COMPARATOR(e,t){return m(e,t)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le,ue=(Object.defineProperty(ChildrenNode,"EMPTY_NODE",{get:function(){return ie=ie||new ChildrenNode(new ee(NAME_COMPARATOR),null,se.Default)},enumerable:!0,configurable:!0}),ChildrenNode.prototype.isLeafNode=function(){return!1},ChildrenNode.prototype.getPriority=function(){return this.priorityNode_||ie},ChildrenNode.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new ChildrenNode(this.children_,e,this.indexMap_)},ChildrenNode.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?ie:t},ChildrenNode.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},ChildrenNode.prototype.hasChild=function(e){return null!==this.children_.get(e)},ChildrenNode.prototype.updateImmediateChild=function(e,t){if(b.assert(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);var n,r=new V(e,t),i=void 0,a=void 0;return a=t.isEmpty()?(i=this.children_.remove(e),this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,t),this.indexMap_.addToIndexes(r,this.children_)),n=i.isEmpty()?ie:this.priorityNode_,new ChildrenNode(i,n,a)},ChildrenNode.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;b.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,r)},ChildrenNode.prototype.isEmpty=function(){return this.children_.isEmpty()},ChildrenNode.prototype.numChildren=function(){return this.children_.count()},ChildrenNode.prototype.val=function(n){if(this.isEmpty())return null;var r={},i=0,a=0,o=!0;if(this.forEachChild(Y,function(e,t){r[e]=t.val(n),i++,o&&ChildrenNode.INTEGER_REGEXP_.test(e)?a=Math.max(a,Number(e)):o=!1}),!n&&o&&a<2*i){var e=[];for(var t in r)e[t]=r[t];return e}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r},ChildrenNode.prototype.hash=function(){if(null===this.lazyHash_){var r="";this.getPriority().isEmpty()||(r+="priority:"+a6a(this.getPriority().val())+":"),this.forEachChild(Y,function(e,t){var n=t.hash();""!==n&&(r+=":"+e+":"+n)}),this.lazyHash_=""===r?"":L4a(r)}return this.lazyHash_},ChildrenNode.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new V(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},ChildrenNode.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},ChildrenNode.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new V(t,this.children_.get(t)):null},ChildrenNode.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},ChildrenNode.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new V(t,this.children_.get(t)):null},ChildrenNode.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)},ChildrenNode.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},ChildrenNode.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,function(e){return e});for(var r=this.children_.getIteratorFrom(e.name,V.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},ChildrenNode.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},ChildrenNode.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});for(var r=this.children_.getReverseIteratorFrom(e.name,V.Wrap),i=r.peek();null!=i&&0<t.compare(i,e);)r.getNext(),i=r.peek();return r},ChildrenNode.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ce?-1:0},ChildrenNode.prototype.withIndex=function(e){if(e===q||this.indexMap_.hasIndex(e))return this;var t=this.indexMap_.addIndex(e,this.children_);return new ChildrenNode(this.children_,this.priorityNode_,t)},ChildrenNode.prototype.isIndexed=function(e){return e===q||this.indexMap_.hasIndex(e)},ChildrenNode.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()!==t.children_.count())return!1;for(var n=this.getIterator(Y),r=t.getIterator(Y),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1},ChildrenNode.prototype.resolveIndex_=function(e){return e===q?null:this.indexMap_.get(e.toString())},ChildrenNode.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,ChildrenNode);function ChildrenNode(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&b6a(this.priorityNode_),this.children_.isEmpty()&&b.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}function MaxNode(){return le.call(this,new ee(NAME_COMPARATOR),ue.EMPTY_NODE,se.Default)||this}var ce=new(le=ue,f.__extends(MaxNode,le),MaxNode.prototype.compareTo=function(e){return e===this?0:1},MaxNode.prototype.equals=function(e){return e===this},MaxNode.prototype.getPriority=function(){return this},MaxNode.prototype.getImmediateChild=function(e){return ue.EMPTY_NODE},MaxNode.prototype.isEmpty=function(){return!1},MaxNode);Object.defineProperties(V,{MIN:{value:new V(p,ue.EMPTY_NODE)},MAX:{value:new V(g,ce)}}),U.__EMPTY_NODE=ue.EMPTY_NODE,$.__childrenNodeConstructor=ue,function setMaxNode(e){W=e}(ce),function setMaxNode$1(e){G=e}(ce);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var he,de=!0;function nodeFromJSON$1(r,e){if(void 0===e&&(e=null),null===r)return ue.EMPTY_NODE;if("object"==typeof r&&".priority"in r&&(e=r[".priority"]),b.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof r&&".value"in r&&null!==r[".value"]&&(r=r[".value"]),"object"!=typeof r||".sv"in r)return new $(r,nodeFromJSON$1(e));if(r instanceof Array||!de){var i=ue.EMPTY_NODE;return each(r,function(e,t){if(b.contains(r,e)&&"."!==e.substring(0,1)){var n=nodeFromJSON$1(t);!n.isLeafNode()&&n.isEmpty()||(i=i.updateImmediateChild(e,n))}}),i.updatePriority(nodeFromJSON$1(e))}var a=[],o=!1;if(each(r,function(e,t){if("."!==e.substring(0,1)){var n=nodeFromJSON$1(t);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),a.push(new V(e,n)))}}),0==a.length)return ue.EMPTY_NODE;var t=ae(a,NAME_ONLY_COMPARATOR,function(e){return e.name},NAME_COMPARATOR);if(o){var n=ae(a,Y.getCompare());return new ue(t,nodeFromJSON$1(e),new se({".priority":n},{".priority":Y}))}return new ue(t,nodeFromJSON$1(e),se.Default)}function ValueIndex(){return null!==he&&he.apply(this,arguments)||this}!function setNodeFromJSON(e){H=e}(nodeFromJSON$1);var pe,fe=new(he=B,f.__extends(ValueIndex,he),ValueIndex.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?m(e.name,t.name):n},ValueIndex.prototype.isDefinedOn=function(e){return!0},ValueIndex.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},ValueIndex.prototype.minPost=function(){return V.MIN},ValueIndex.prototype.maxPost=function(){return V.MAX},ValueIndex.prototype.makePost=function(e,t){var n=nodeFromJSON$1(e);return new V(t,n)},ValueIndex.prototype.toString=function(){return".value"},ValueIndex),ge=(pe=B,f.__extends(PathIndex,pe),PathIndex.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},PathIndex.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},PathIndex.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?m(e.name,t.name):i},PathIndex.prototype.makePost=function(e,t){var n=nodeFromJSON$1(e),r=ue.EMPTY_NODE.updateChild(this.indexPath_,n);return new V(t,r)},PathIndex.prototype.maxPost=function(){var e=ue.EMPTY_NODE.updateChild(this.indexPath_,ce);return new V(g,e)},PathIndex.prototype.toString=function(){return this.indexPath_.slice().join("/")},PathIndex);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PathIndex(e){var t=pe.call(this)||this;return t.indexPath_=e,b.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),t}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ve=(DataSnapshot.prototype.val=function(){return b.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},DataSnapshot.prototype.exportVal=function(){return b.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},DataSnapshot.prototype.toJSON=function(){return b.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},DataSnapshot.prototype.exists=function(){return b.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},DataSnapshot.prototype.child=function(e){b.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),O5a("DataSnapshot.child",1,e,!1);var t=new C(e),n=this.ref_.child(t);return new DataSnapshot(this.node_.getChild(t),n,Y)},DataSnapshot.prototype.hasChild=function(e){b.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),O5a("DataSnapshot.hasChild",1,e,!1);var t=new C(e);return!this.node_.getChild(t).isEmpty()},DataSnapshot.prototype.getPriority=function(){return b.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},DataSnapshot.prototype.forEach=function(n){var r=this;return b.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),b.validateCallback("DataSnapshot.forEach",1,n,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(e,t){return n(new DataSnapshot(t,r.ref_.child(e),Y))})},DataSnapshot.prototype.hasChildren=function(){return b.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(DataSnapshot.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),DataSnapshot.prototype.numChildren=function(){return b.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},DataSnapshot.prototype.getRef=function(){return b.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(DataSnapshot.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),DataSnapshot);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DataSnapshot(e,t,n){this.node_=e,this.ref_=t,this.index_=n}var me=(DataEvent.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},DataEvent.prototype.getEventType=function(){return this.eventType},DataEvent.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},DataEvent.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+b.stringify(this.snapshot.exportVal())},DataEvent);function DataEvent(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}var _e=(CancelEvent.prototype.getPath=function(){return this.path},CancelEvent.prototype.getEventType=function(){return"cancel"},CancelEvent.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},CancelEvent.prototype.toString=function(){return this.path.toString()+":cancel"},CancelEvent);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CancelEvent(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}var ye=(ValueEventRegistration.prototype.respondsTo=function(e){return"value"===e},ValueEventRegistration.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new me("value",this,new ve(e.snapshotNode,t.getRef(),n))},ValueEventRegistration.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){b.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},ValueEventRegistration.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new _e(this,e,t):null},ValueEventRegistration.prototype.matches=function(e){return e instanceof ValueEventRegistration&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},ValueEventRegistration.prototype.hasAnyCallback=function(){return null!==this.callback_},ValueEventRegistration);function ValueEventRegistration(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}var be,we=(ChildEventRegistration.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,b.contains(this.callbacks_,t)},ChildEventRegistration.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new _e(this,e,t):null},ChildEventRegistration.prototype.createEvent=function(e,t){b.assert(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new me(e.type,this,new ve(e.snapshotNode,n,r),e.prevName)},ChildEventRegistration.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){b.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},ChildEventRegistration.prototype.matches=function(t){var n=this;if(t instanceof ChildEventRegistration){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var e=Object.keys(t.callbacks_),r=Object.keys(this.callbacks_),i=e.length;if(i===r.length){if(1!==i)return r.every(function(e){return t.callbacks_[e]===n.callbacks_[e]});var a=e[0],o=r[0];return!(o!==a||t.callbacks_[a]&&this.callbacks_[o]&&t.callbacks_[a]!==this.callbacks_[o])}}}return!1},ChildEventRegistration.prototype.hasAnyCallback=function(){return null!==this.callbacks_},ChildEventRegistration);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ChildEventRegistration(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}var Ce=(Object.defineProperty(Query,"__referenceConstructor",{get:function(){return b.assert(be,"Reference.ts has not been loaded"),be},set:function(e){be=e},enumerable:!0,configurable:!0}),Query.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===q){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!=p)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!=g)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Y){if(null!=t&&!G5a(t)||null!=n&&!G5a(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(b.assert(e.getIndex()instanceof ge||e.getIndex()===fe,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},Query.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},Query.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},Query.prototype.getQueryParams=function(){return this.queryParams_},Query.prototype.getRef=function(){return b.validateArgCount("Query.ref",0,0,arguments.length),new Query.__referenceConstructor(this.repo,this.path)},Query.prototype.on=function(e,t,n,r){b.validateArgCount("Query.on",2,4,arguments.length),M5a("Query.on",1,e,!1),b.validateCallback("Query.on",2,t,!1);var i=Query.getCancelAndContextArgs_("Query.on",n,r);if("value"===e)this.onValueEvent(t,i.cancel,i.context);else{var a={};a[e]=t,this.onChildEvent(a,i.cancel,i.context)}return t},Query.prototype.onValueEvent=function(e,t,n){var r=new ye(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,r)},Query.prototype.onChildEvent=function(e,t,n){var r=new we(e,t,n);this.repo.addEventCallbackForQuery(this,r)},Query.prototype.off=function(e,t,n){b.validateArgCount("Query.off",0,3,arguments.length),M5a("Query.off",1,e,!0),b.validateCallback("Query.off",2,t,!0),b.validateContextObject("Query.off",3,n,!0);var r=null,i=null;"value"===e?r=new ye(t||null,null,n||null):e&&(t&&((i={})[e]=t),r=new we(i,null,n||null)),this.repo.removeEventCallbackForQuery(this,r)},Query.prototype.once=function(t,n,e,r){var i=this;b.validateArgCount("Query.once",1,4,arguments.length),M5a("Query.once",1,t,!1),b.validateCallback("Query.once",2,n,!0);var a=Query.getCancelAndContextArgs_("Query.once",e,r),o=!0,s=new b.Deferred;s.promise.catch(function(){});var l=function(e){o&&(o=!1,i.off(t,l),n&&n.bind(a.context)(e),s.resolve(e))};return this.on(t,l,function(e){i.off(t,l),a.cancel&&a.cancel.bind(a.context)(e),s.reject(e)}),s.promise},Query.prototype.limitToFirst=function(e){if(b.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Query(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},Query.prototype.limitToLast=function(e){if(b.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Query(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},Query.prototype.orderByChild=function(e){if(b.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');O5a("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var t=new C(e);if(t.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var n=new ge(t),r=this.queryParams_.orderBy(n);return Query.validateQueryEndpoints_(r),new Query(this.repo,this.path,r,!0)},Query.prototype.orderByKey=function(){b.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(q);return Query.validateQueryEndpoints_(e),new Query(this.repo,this.path,e,!0)},Query.prototype.orderByPriority=function(){b.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Y);return Query.validateQueryEndpoints_(e),new Query(this.repo,this.path,e,!0)},Query.prototype.orderByValue=function(){b.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(fe);return Query.validateQueryEndpoints_(e),new Query(this.repo,this.path,e,!0)},Query.prototype.startAt=function(e,t){void 0===e&&(e=null),b.validateArgCount("Query.startAt",0,2,arguments.length),H5a("Query.startAt",1,e,this.path,!0),N5a("Query.startAt",2,t,!0);var n=this.queryParams_.startAt(e,t);if(Query.validateLimit_(n),Query.validateQueryEndpoints_(n),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(t=e=null),new Query(this.repo,this.path,n,this.orderByCalled_)},Query.prototype.endAt=function(e,t){void 0===e&&(e=null),b.validateArgCount("Query.endAt",0,2,arguments.length),H5a("Query.endAt",1,e,this.path,!0),N5a("Query.endAt",2,t,!0);var n=this.queryParams_.endAt(e,t);if(Query.validateLimit_(n),Query.validateQueryEndpoints_(n),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Query(this.repo,this.path,n,this.orderByCalled_)},Query.prototype.equalTo=function(e,t){if(b.validateArgCount("Query.equalTo",1,2,arguments.length),H5a("Query.equalTo",1,e,this.path,!1),N5a("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},Query.prototype.toString=function(){return b.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},Query.prototype.toJSON=function(){return b.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},Query.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},Query.prototype.queryIdentifier=function(){var e=this.queryObject(),t=_(e);return"{}"===t?"default":t},Query.prototype.isEqual=function(e){if(b.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof Query))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var t=this.repo===e.repo,n=this.path.equals(e.path),r=this.queryIdentifier()===e.queryIdentifier();return t&&n&&r},Query.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,b.validateCallback(e,3,r.cancel,!0),r.context=n,b.validateContextObject(e,4,r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(b.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(Query.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),Query);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Query(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}var xe=(SparseSnapshotTree.prototype.find=function(e){if(null!=this.value)return this.value.getChild(e);if(!e.isEmpty()&&0<this.children.size){var t=e.getFront();return e=e.popFront(),this.children.has(t)?this.children.get(t).find(e):null}return null},SparseSnapshotTree.prototype.remember=function(e,t){if(e.isEmpty())this.value=t,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,t);else{var n=e.getFront();this.children.has(n)||this.children.set(n,new SparseSnapshotTree);var r=this.children.get(n);e=e.popFront(),r.remember(e,t)}},SparseSnapshotTree.prototype.forget=function(e){if(e.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var t=this.value;this.value=null;var n=this;return t.forEachChild(Y,function(e,t){n.remember(new C(e),t)}),this.forget(e)}if(0<this.children.size){var r=e.getFront();return e=e.popFront(),!this.children.has(r)||this.children.get(r).forget(e)&&this.children.delete(r),0===this.children.size}return!0},SparseSnapshotTree.prototype.forEachTree=function(r,i){null!==this.value?i(r,this.value):this.forEachChild(function(e,t){var n=new C(r.toString()+"/"+e);t.forEachTree(n,i)})},SparseSnapshotTree.prototype.forEachChild=function(n){this.children.forEach(function(e,t){n(t,e)})},SparseSnapshotTree);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SparseSnapshotTree(){this.value=null,this.children=new Map}function J6a(e,t,n){return e&&"object"==typeof e?(b.assert(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?ke(e[".sv"],t,n):"object"==typeof e[".sv"]?Te(e[".sv"],t):void b.assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e}var Se,Ee,ke=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:b.assert(!1,"Unexpected server value: "+e)}},Te=function(e,t,n){e.hasOwnProperty("increment")||b.assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;if("number"!=typeof r&&b.assert(!1,"Unexpected increment value: "+r),!t.isLeafNode())return r;var i=t.getValue();return"number"!=typeof i?r:i+r},Pe=function(e,r,i){var a,t=e.getPriority().val(),n=J6a(t,r.getPriority(),i);if(e.isLeafNode()){var o=e,s=J6a(o.getValue(),r,i);return s!==o.getValue()||n!==o.getPriority().val()?new $(s,nodeFromJSON$1(n)):e}var l=e;return n!==(a=l).getPriority().val()&&(a=a.updatePriority(new $(n))),l.forEachChild(Y,function(e,t){var n=Pe(t,r.getImmediateChild(e),i);n!==t&&(a=a.updateImmediateChild(e,n))}),a};(Ee=Se=Se||{})[Ee.OVERWRITE=0]="OVERWRITE",Ee[Ee.MERGE=1]="MERGE",Ee[Ee.ACK_USER_WRITE=2]="ACK_USER_WRITE",Ee[Ee.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var Ie=(OperationSource.User=new OperationSource(!0,!1,null,!1),OperationSource.Server=new OperationSource(!1,!0,null,!1),OperationSource.forServerTaggedQuery=function(e){return new OperationSource(!1,!0,e,!0)},OperationSource);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OperationSource(e,t,n,r){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=r,b.assert(!r||t,"Tagged queries must be from server.")}var Oe,Ne=(AckUserWrite.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return b.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var t=this.affectedTree.subtree(new C(e));return new AckUserWrite(C.Empty,t,this.revert)}return b.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new AckUserWrite(this.path.popFront(),this.affectedTree,this.revert)},AckUserWrite);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AckUserWrite(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Se.ACK_USER_WRITE,this.source=Ie.User}var Ae=(ImmutableTree.fromObject=function(e){var n=ImmutableTree.Empty;return each(e,function(e,t){n=n.set(new C(e),t)}),n},ImmutableTree.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},ImmutableTree.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:C.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),r=this.children.get(n);if(null===r)return null;var i=r.findRootMostMatchingPathAndValue(e.popFront(),t);return null==i?null:{path:new C(n).child(i.path),value:i.value}},ImmutableTree.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},ImmutableTree.prototype.subtree=function(e){if(e.isEmpty())return this;var t=e.getFront(),n=this.children.get(t);return null!==n?n.subtree(e.popFront()):ImmutableTree.Empty},ImmutableTree.prototype.set=function(e,t){if(e.isEmpty())return new ImmutableTree(t,this.children);var n=e.getFront(),r=(this.children.get(n)||ImmutableTree.Empty).set(e.popFront(),t),i=this.children.insert(n,r);return new ImmutableTree(this.value,i)},ImmutableTree.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?ImmutableTree.Empty:new ImmutableTree(null,this.children);var t=e.getFront(),n=this.children.get(t);if(n){var r=n.remove(e.popFront()),i=void 0;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?ImmutableTree.Empty:new ImmutableTree(this.value,i)}return this},ImmutableTree.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},ImmutableTree.prototype.setTree=function(e,t){if(e.isEmpty())return t;var n=e.getFront(),r=(this.children.get(n)||ImmutableTree.Empty).setTree(e.popFront(),t),i=void 0;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new ImmutableTree(this.value,i)},ImmutableTree.prototype.fold=function(e){return this.fold_(C.Empty,e)},ImmutableTree.prototype.fold_=function(n,r){var i={};return this.children.inorderTraversal(function(e,t){i[e]=t.fold_(n.child(e),r)}),r(n,this.value,i)},ImmutableTree.prototype.findOnPath=function(e,t){return this.findOnPath_(e,C.Empty,t)},ImmutableTree.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(e.isEmpty())return null;var i=e.getFront(),a=this.children.get(i);return a?a.findOnPath_(e.popFront(),t.child(i),n):null},ImmutableTree.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,C.Empty,t)},ImmutableTree.prototype.foreachOnPath_=function(e,t,n){if(e.isEmpty())return this;this.value&&n(t,this.value);var r=e.getFront(),i=this.children.get(r);return i?i.foreachOnPath_(e.popFront(),t.child(r),n):ImmutableTree.Empty},ImmutableTree.prototype.foreach=function(e){this.foreach_(C.Empty,e)},ImmutableTree.prototype.foreach_=function(n,r){this.children.inorderTraversal(function(e,t){t.foreach_(n.child(e),r)}),this.value&&r(n,this.value)},ImmutableTree.prototype.foreachChild=function(n){this.children.inorderTraversal(function(e,t){t.value&&n(e,t.value)})},ImmutableTree.Empty=new ImmutableTree(null),ImmutableTree);function ImmutableTree(e,t){void 0===t&&(t=Oe=Oe||new ee(_4a)),this.value=e,this.children=t}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Re=(ListenComplete.prototype.operationForChild=function(e){return this.path.isEmpty()?new ListenComplete(this.source,C.Empty):new ListenComplete(this.source,this.path.popFront())},ListenComplete);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ListenComplete(e,t){this.source=e,this.path=t,this.type=Se.LISTEN_COMPLETE}var Le=(Overwrite.prototype.operationForChild=function(e){return this.path.isEmpty()?new Overwrite(this.source,C.Empty,this.snap.getImmediateChild(e)):new Overwrite(this.source,this.path.popFront(),this.snap)},Overwrite);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Overwrite(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Se.OVERWRITE}var Me=(Merge.prototype.operationForChild=function(e){if(this.path.isEmpty()){var t=this.children.subtree(new C(e));return t.isEmpty()?null:t.value?new Le(this.source,C.Empty,t.value):new Merge(this.source,C.Empty,t)}return b.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new Merge(this.source,this.path.popFront(),this.children)},Merge.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},Merge);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Merge(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Se.MERGE}var De=(CacheNode.prototype.isFullyInitialized=function(){return this.fullyInitialized_},CacheNode.prototype.isFiltered=function(){return this.filtered_},CacheNode.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},CacheNode.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},CacheNode.prototype.getNode=function(){return this.node_},CacheNode);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CacheNode(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}var Fe=(ViewCache.prototype.updateEventSnap=function(e,t,n){return new ViewCache(new De(e,t,n),this.serverCache_)},ViewCache.prototype.updateServerSnap=function(e,t,n){return new ViewCache(this.eventCache_,new De(e,t,n))},ViewCache.prototype.getEventCache=function(){return this.eventCache_},ViewCache.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},ViewCache.prototype.getServerCache=function(){return this.serverCache_},ViewCache.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},ViewCache.Empty=new ViewCache(new De(ue.EMPTY_NODE,!1,!1),new De(ue.EMPTY_NODE,!1,!1)),ViewCache);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ViewCache(e,t){this.eventCache_=e,this.serverCache_=t}var Ve=(Change.valueChange=function(e){return new Change(Change.VALUE,e)},Change.childAddedChange=function(e,t){return new Change(Change.CHILD_ADDED,t,e)},Change.childRemovedChange=function(e,t){return new Change(Change.CHILD_REMOVED,t,e)},Change.childChangedChange=function(e,t,n){return new Change(Change.CHILD_CHANGED,t,e,n)},Change.childMovedChange=function(e,t){return new Change(Change.CHILD_MOVED,t,e)},Change.CHILD_ADDED="child_added",Change.CHILD_REMOVED="child_removed",Change.CHILD_CHANGED="child_changed",Change.CHILD_MOVED="child_moved",Change.VALUE="value",Change);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Change(e,t,n,r,i){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=r,this.prevName=i}var je=(IndexedFilter.prototype.updateChild=function(e,t,n,r,i,a){b.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()==n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(Ve.childRemovedChange(t,o)):b.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Ve.childAddedChange(t,n)):a.trackChildChange(Ve.childChangedChange(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},IndexedFilter.prototype.updateFullNode=function(r,n,i){return null!=i&&(r.isLeafNode()||r.forEachChild(Y,function(e,t){n.hasChild(e)||i.trackChildChange(Ve.childRemovedChange(e,t))}),n.isLeafNode()||n.forEachChild(Y,function(e,t){if(r.hasChild(e)){var n=r.getImmediateChild(e);n.equals(t)||i.trackChildChange(Ve.childChangedChange(e,t,n))}else i.trackChildChange(Ve.childAddedChange(e,t))})),n.withIndex(this.index_)},IndexedFilter.prototype.updatePriority=function(e,t){return e.isEmpty()?ue.EMPTY_NODE:e.updatePriority(t)},IndexedFilter.prototype.filtersNodes=function(){return!1},IndexedFilter.prototype.getIndexedFilter=function(){return this},IndexedFilter.prototype.getIndex=function(){return this.index_},IndexedFilter);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IndexedFilter(e){this.index_=e}var Be=(ChildChangeAccumulator.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;b.assert(t==Ve.CHILD_ADDED||t==Ve.CHILD_CHANGED||t==Ve.CHILD_REMOVED,"Only child changes supported for tracking"),b.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(t==Ve.CHILD_ADDED&&i==Ve.CHILD_REMOVED)this.changeMap.set(n,Ve.childChangedChange(n,e.snapshotNode,r.snapshotNode));else if(t==Ve.CHILD_REMOVED&&i==Ve.CHILD_ADDED)this.changeMap.delete(n);else if(t==Ve.CHILD_REMOVED&&i==Ve.CHILD_CHANGED)this.changeMap.set(n,Ve.childRemovedChange(n,r.oldSnap));else if(t==Ve.CHILD_CHANGED&&i==Ve.CHILD_ADDED)this.changeMap.set(n,Ve.childAddedChange(n,e.snapshotNode));else{if(t!=Ve.CHILD_CHANGED||i!=Ve.CHILD_CHANGED)throw b.assertionError("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Ve.childChangedChange(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},ChildChangeAccumulator.prototype.getChanges=function(){return Array.from(this.changeMap.values())},ChildChangeAccumulator);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ChildChangeAccumulator(){this.changeMap=new Map}function NoCompleteChildSource_(){}var ze=new(NoCompleteChildSource_.prototype.getCompleteChild=function(e){return null},NoCompleteChildSource_.prototype.getChildAfterChild=function(e,t,n){return null},NoCompleteChildSource_),Ue=(WriteTreeCompleteChildSource.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new De(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},WriteTreeCompleteChildSource.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,t,1,n,e);return 0===i.length?null:i[0]},WriteTreeCompleteChildSource);function WriteTreeCompleteChildSource(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var We=function ProcessorResult(e,t){this.viewCache=e,this.changes=t},qe=(ViewProcessor.prototype.assertIndexed=function(e){b.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),b.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},ViewProcessor.prototype.applyOperation=function(e,t,n,r){var i,a,o=new Be;if(t.type===Se.OVERWRITE){var s=t;i=s.source.fromUser?this.applyUserOverwrite_(e,s.path,s.snap,n,r,o):(b.assert(s.source.fromServer,"Unknown source."),a=s.source.tagged||e.getServerCache().isFiltered()&&!s.path.isEmpty(),this.applyServerOverwrite_(e,s.path,s.snap,n,r,a,o))}else if(t.type===Se.MERGE){var l=t;i=l.source.fromUser?this.applyUserMerge_(e,l.path,l.children,n,r,o):(b.assert(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.getServerCache().isFiltered(),this.applyServerMerge_(e,l.path,l.children,n,r,a,o))}else if(t.type===Se.ACK_USER_WRITE){var u=t;i=u.revert?this.revertUserWrite_(e,u.path,n,r,o):this.ackUserWrite_(e,u.path,u.affectedTree,n,r,o)}else{if(t.type!==Se.LISTEN_COMPLETE)throw b.assertionError("Unknown operation type: "+t.type);i=this.listenComplete_(e,t.path,n,o)}var c=o.getChanges();return ViewProcessor.maybeAddValueEvent_(e,i,c),new We(i,c)},ViewProcessor.maybeAddValueEvent_=function(e,t,n){var r=t.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=e.getCompleteEventSnap();(0<n.length||!e.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Ve.valueChange(t.getCompleteEventSnap()))}},ViewProcessor.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,r,i){var a=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var o=void 0,s=void 0;if(t.isEmpty())if(b.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var l=e.getCompleteServerSnap(),u=l instanceof ue?l:ue.EMPTY_NODE,c=n.calcCompleteEventChildren(u);o=this.filter_.updateFullNode(e.getEventCache().getNode(),c,i)}else{var h=n.calcCompleteEventCache(e.getCompleteServerSnap());o=this.filter_.updateFullNode(e.getEventCache().getNode(),h,i)}else{var d=t.getFront();if(".priority"==d){b.assert(1==t.getLength(),"Can't have a priority with additional path components");var p=a.getNode();s=e.getServerCache().getNode();var f=n.calcEventCacheAfterServerOverwrite(t,p,s);o=null!=f?this.filter_.updatePriority(p,f):a.getNode()}else{var g=t.popFront(),v=void 0;if(a.isCompleteForChild(d)){s=e.getServerCache().getNode();var m=n.calcEventCacheAfterServerOverwrite(t,a.getNode(),s);v=null!=m?a.getNode().getImmediateChild(d).updateChild(g,m):a.getNode().getImmediateChild(d)}else v=n.calcCompleteChild(d,e.getServerCache());o=null!=v?this.filter_.updateChild(a.getNode(),d,v,g,r,i):a.getNode()}}return e.updateEventSnap(o,a.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},ViewProcessor.prototype.applyServerOverwrite_=function(e,t,n,r,i,a,o){var s,l=e.getServerCache(),u=a?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())s=u.updateFullNode(l.getNode(),n,null);else if(u.filtersNodes()&&!l.isFiltered()){var c=l.getNode().updateChild(t,n);s=u.updateFullNode(l.getNode(),c,null)}else{var h=t.getFront();if(!l.isCompleteForPath(t)&&1<t.getLength())return e;var d=t.popFront(),p=l.getNode().getImmediateChild(h).updateChild(d,n);s=".priority"==h?u.updatePriority(l.getNode(),p):u.updateChild(l.getNode(),h,p,d,ze,null)}var f=e.updateServerSnap(s,l.isFullyInitialized()||t.isEmpty(),u.filtersNodes()),g=new Ue(r,f,i);return this.generateEventCacheAfterServerEvent_(f,t,r,g,o)},ViewProcessor.prototype.applyUserOverwrite_=function(e,t,n,r,i,a){var o,s,l=e.getEventCache(),u=new Ue(r,e,i);if(t.isEmpty())s=this.filter_.updateFullNode(e.getEventCache().getNode(),n,a),o=e.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var c=t.getFront();if(".priority"===c)s=this.filter_.updatePriority(e.getEventCache().getNode(),n),o=e.updateEventSnap(s,l.isFullyInitialized(),l.isFiltered());else{var h=t.popFront(),d=l.getNode().getImmediateChild(c),p=void 0;if(h.isEmpty())p=n;else{var f=u.getCompleteChild(c);p=null!=f?".priority"===h.getBack()&&f.getChild(h.parent()).isEmpty()?f:f.updateChild(h,n):ue.EMPTY_NODE}if(d.equals(p))o=e;else{var g=this.filter_.updateChild(l.getNode(),c,p,h,u,a);o=e.updateEventSnap(g,l.isFullyInitialized(),this.filter_.filtersNodes())}}}return o},ViewProcessor.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},ViewProcessor.prototype.applyUserMerge_=function(r,i,e,a,o,s){var l=this,u=r;return e.foreach(function(e,t){var n=i.child(e);ViewProcessor.cacheHasChild_(r,n.getFront())&&(u=l.applyUserOverwrite_(u,n,t,a,o,s))}),e.foreach(function(e,t){var n=i.child(e);ViewProcessor.cacheHasChild_(r,n.getFront())||(u=l.applyUserOverwrite_(u,n,t,a,o,s))}),u},ViewProcessor.prototype.applyMerge_=function(n,e){return e.foreach(function(e,t){n=n.updateChild(e,t)}),n},ViewProcessor.prototype.applyServerMerge_=function(a,e,t,o,s,l,u){var c=this;if(a.getServerCache().getNode().isEmpty()&&!a.getServerCache().isFullyInitialized())return a;var n,h=a;n=e.isEmpty()?t:Ae.Empty.setTree(e,t);var d=a.getServerCache().getNode();return n.children.inorderTraversal(function(e,t){if(d.hasChild(e)){var n=a.getServerCache().getNode().getImmediateChild(e),r=c.applyMerge_(n,t);h=c.applyServerOverwrite_(h,new C(e),r,o,s,l,u)}}),n.children.inorderTraversal(function(e,t){var n=!a.getServerCache().isCompleteForChild(e)&&null==t.value;if(!d.hasChild(e)&&!n){var r=a.getServerCache().getNode().getImmediateChild(e),i=c.applyMerge_(r,t);h=c.applyServerOverwrite_(h,new C(e),i,o,s,l,u)}}),h},ViewProcessor.prototype.ackUserWrite_=function(e,r,t,n,i,a){if(null!=n.shadowingWrite(r))return e;var o=e.getServerCache().isFiltered(),s=e.getServerCache();if(null!=t.value){if(r.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(r))return this.applyServerOverwrite_(e,r,s.getNode().getChild(r),n,i,o,a);if(r.isEmpty()){var l=Ae.Empty;return s.getNode().forEachChild(q,function(e,t){l=l.set(new C(e),t)}),this.applyServerMerge_(e,r,l,n,i,o,a)}return e}var u=Ae.Empty;return t.foreach(function(e,t){var n=r.child(e);s.isCompleteForPath(n)&&(u=u.set(e,s.getNode().getChild(n)))}),this.applyServerMerge_(e,r,u,n,i,o,a)},ViewProcessor.prototype.listenComplete_=function(e,t,n,r){var i=e.getServerCache(),a=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||t.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(a,t,n,ze,r)},ViewProcessor.prototype.revertUserWrite_=function(e,t,n,r,i){var a;if(null!=n.shadowingWrite(t))return e;var o=new Ue(n,e,r),s=e.getEventCache().getNode(),l=void 0;if(t.isEmpty()||".priority"===t.getFront()){var u=void 0;if(e.getServerCache().isFullyInitialized())u=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var c=e.getServerCache().getNode();b.assert(c instanceof ue,"serverChildren would be complete if leaf node"),u=n.calcCompleteEventChildren(c)}u=u,l=this.filter_.updateFullNode(s,u,i)}else{var h=t.getFront(),d=n.calcCompleteChild(h,e.getServerCache());null==d&&e.getServerCache().isCompleteForChild(h)&&(d=s.getImmediateChild(h)),(l=null!=d?this.filter_.updateChild(s,h,d,t.popFront(),o,i):e.getEventCache().getNode().hasChild(h)?this.filter_.updateChild(s,h,ue.EMPTY_NODE,t.popFront(),o,i):s).isEmpty()&&e.getServerCache().isFullyInitialized()&&(a=n.calcCompleteEventCache(e.getCompleteServerSnap())).isLeafNode()&&(l=this.filter_.updateFullNode(l,a,i))}return a=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(C.Empty),e.updateEventSnap(l,a,this.filter_.filtersNodes())},ViewProcessor);function ViewProcessor(e){this.filter_=e}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Qe=(EventGenerator.prototype.generateEventsForChanges=function(e,t,n){var r=this,i=[],a=[];return e.forEach(function(e){e.type===Ve.CHILD_CHANGED&&r.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&a.push(Ve.childMovedChange(e.childName,e.snapshotNode))}),this.generateEventsForType_(i,Ve.CHILD_REMOVED,e,n,t),this.generateEventsForType_(i,Ve.CHILD_ADDED,e,n,t),this.generateEventsForType_(i,Ve.CHILD_MOVED,a,n,t),this.generateEventsForType_(i,Ve.CHILD_CHANGED,e,n,t),this.generateEventsForType_(i,Ve.VALUE,e,n,t),i},EventGenerator.prototype.generateEventsForType_=function(r,t,e,i,a){var o=this,n=e.filter(function(e){return e.type===t});n.sort(this.compareChanges_.bind(this)),n.forEach(function(t){var n=o.materializeSingleChange_(t,a);i.forEach(function(e){e.respondsTo(t.type)&&r.push(e.createEvent(n,o.query_))})})},EventGenerator.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_)),e},EventGenerator.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw b.assertionError("Should only compare child_ events.");var n=new V(e.childName,e.snapshotNode),r=new V(t.childName,t.snapshotNode);return this.index_.compare(n,r)},EventGenerator);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EventGenerator(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}var He,Ge=(View.prototype.getQuery=function(){return this.query_},View.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},View.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},View.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},View.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},View.prototype.removeEventRegistration=function(e,n){var r=[];if(n){b.assert(null==e,"A cancel should cancel all event registrations.");var i=this.query_.path;this.eventRegistrations_.forEach(function(e){n=n;var t=e.createCancelEvent(n,i);t&&r.push(t)})}if(e){for(var t=[],a=0;a<this.eventRegistrations_.length;++a){var o=this.eventRegistrations_[a];if(o.matches(e)){if(e.hasAnyCallback()){t=t.concat(this.eventRegistrations_.slice(a+1));break}}else t.push(o)}this.eventRegistrations_=t}else this.eventRegistrations_=[];return r},View.prototype.applyOperation=function(e,t,n){e.type===Se.MERGE&&null!==e.source.queryId&&(b.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),b.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,e,t,n);return this.processor_.assertIndexed(i.viewCache),b.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},View.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Y,function(e,t){n.push(Ve.childAddedChange(e,t))}),t.isFullyInitialized()&&n.push(Ve.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},View.prototype.generateEventsForChanges_=function(e,t,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,t,r)},View);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function View(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new je(n.getIndex()),i=n.getNodeFilter();this.processor_=new qe(i);var a=t.getServerCache(),o=t.getEventCache(),s=r.updateFullNode(ue.EMPTY_NODE,a.getNode(),null),l=i.updateFullNode(ue.EMPTY_NODE,o.getNode(),null),u=new De(s,a.isFullyInitialized(),r.filtersNodes()),c=new De(l,o.isFullyInitialized(),i.filtersNodes());this.viewCache_=new Fe(c,u),this.eventGenerator_=new Qe(this.query_)}var Ke=(Object.defineProperty(SyncPoint,"__referenceConstructor",{get:function(){return b.assert(He,"Reference.ts has not been loaded"),He},set:function(e){b.assert(!He,"__referenceConstructor has already been defined"),He=e},enumerable:!0,configurable:!0}),SyncPoint.prototype.isEmpty=function(){return 0===this.views.size},SyncPoint.prototype.applyOperation=function(e,t,n){var r,i,a=e.source.queryId;if(null!==a){var o=this.views.get(a);return b.assert(null!=o,"SyncTree gave us an op for an invalid query."),o.applyOperation(e,t,n)}var s=[];try{for(var l=f.__values(this.views.values()),u=l.next();!u.done;u=l.next())o=u.value,s=s.concat(o.applyOperation(e,t,n))}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return s},SyncPoint.prototype.addEventRegistration=function(e,t,n,r,i){var a=e.queryIdentifier(),o=this.views.get(a);if(!o){var s=n.calcCompleteEventCache(i?r:null),l=!1;l=!!s||(s=r instanceof ue?n.calcCompleteEventChildren(r):ue.EMPTY_NODE,!1);var u=new Fe(new De(s,l,!1),new De(r,i,!1));o=new Ge(e,u),this.views.set(a,o)}return o.addEventRegistration(t),o.getInitialEvents(t)},SyncPoint.prototype.removeEventRegistration=function(e,t,n){var r,i,a=e.queryIdentifier(),o=[],s=[],l=this.hasCompleteView();if("default"===a)try{for(var u=f.__values(this.views.entries()),c=u.next();!c.done;c=u.next()){var h=f.__read(c.value,2),d=h[0],p=h[1];s=s.concat(p.removeEventRegistration(t,n)),p.isEmpty()&&(this.views.delete(d),p.getQuery().getQueryParams().loadsAllData()||o.push(p.getQuery()))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}else(p=this.views.get(a))&&(s=s.concat(p.removeEventRegistration(t,n)),p.isEmpty()&&(this.views.delete(a),p.getQuery().getQueryParams().loadsAllData()||o.push(p.getQuery())));return l&&!this.hasCompleteView()&&o.push(new SyncPoint.__referenceConstructor(e.repo,e.path)),{removed:o,events:s}},SyncPoint.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=f.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var a=i.value;a.getQuery().getQueryParams().loadsAllData()||n.push(a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},SyncPoint.prototype.getCompleteServerCache=function(e){var t,n,r=null;try{for(var i=f.__values(this.views.values()),a=i.next();!a.done;a=i.next()){var o=a.value;r=r||o.getCompleteServerCache(e)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},SyncPoint.prototype.viewForQuery=function(e){if(e.getQueryParams().loadsAllData())return this.getCompleteView();var t=e.queryIdentifier();return this.views.get(t)},SyncPoint.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},SyncPoint.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},SyncPoint.prototype.getCompleteView=function(){var t,e;try{for(var n=f.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},SyncPoint);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SyncPoint(){this.views=new Map}var $e=(CompoundWrite.prototype.addWrite=function(e,t){if(e.isEmpty())return new CompoundWrite(new Ae(t));var n=this.writeTree_.findRootMostValueAndPath(e);if(null!=n){var r=n.path,i=n.value,a=C.relativePath(r,e);return i=i.updateChild(a,t),new CompoundWrite(this.writeTree_.set(r,i))}var o=new Ae(t);return new CompoundWrite(this.writeTree_.setTree(e,o))},CompoundWrite.prototype.addWrites=function(n,e){var r=this;return each(e,function(e,t){r=r.addWrite(n.child(e),t)}),r},CompoundWrite.prototype.removeWrite=function(e){return e.isEmpty()?CompoundWrite.Empty:new CompoundWrite(this.writeTree_.setTree(e,Ae.Empty))},CompoundWrite.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},CompoundWrite.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild(C.relativePath(t.path,e)):null},CompoundWrite.prototype.getCompleteChildren=function(){var n=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Y,function(e,t){n.push(new V(e,t))}):this.writeTree_.children.inorderTraversal(function(e,t){null!=t.value&&n.push(new V(e,t.value))}),n},CompoundWrite.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var t=this.getCompleteNode(e);return new CompoundWrite(null!=t?new Ae(t):this.writeTree_.subtree(e))},CompoundWrite.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},CompoundWrite.prototype.apply=function(e){return function applySubtreeWrite(n,e,r){if(null!=e.value)return r.updateChild(n,e.value);var i=null;return e.children.inorderTraversal(function(e,t){".priority"===e?(b.assert(null!==t.value,"Priority writes must always be leaf nodes"),i=t.value):r=applySubtreeWrite(n.child(e),t,r)}),r.getChild(n).isEmpty()||null===i||(r=r.updateChild(n.child(".priority"),i)),r}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(C.Empty,this.writeTree_,e)},CompoundWrite.Empty=new CompoundWrite(new Ae(null)),CompoundWrite);function CompoundWrite(e){this.writeTree_=e}var Ye=(WriteTree.prototype.childWrites=function(e){return new Je(e,this)},WriteTree.prototype.addOverwrite=function(e,t,n,r){b.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},WriteTree.prototype.addMerge=function(e,t,n){b.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},WriteTree.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},WriteTree.prototype.removeWrite=function(t){var n=this,e=this.allWrites_.findIndex(function(e){return e.writeId===t});b.assert(0<=e,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[e];this.allWrites_.splice(e,1);for(var i=r.visible,a=!1,o=this.allWrites_.length-1;i&&0<=o;){var s=this.allWrites_[o];s.visible&&(e<=o&&this.recordContainsPath_(s,r.path)?i=!1:r.path.contains(s.path)&&(a=!0)),o--}return!!i&&(a?this.resetTree_():r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):each(r.children,function(e){n.visibleWrites_=n.visibleWrites_.removeWrite(r.path.child(e))}),!0)},WriteTree.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},WriteTree.prototype.calcCompleteEventCache=function(t,e,n,r){if(n||r){var i=this.visibleWrites_.childCompoundWrite(t);if(!r&&i.isEmpty())return e;if(r||null!=e||i.hasCompleteWrite(C.Empty)){var a=WriteTree.layerTree_(this.allWrites_,function(e){return(e.visible||r)&&(!n||!~n.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))},t);return l=e||ue.EMPTY_NODE,a.apply(l)}return null}var o=this.visibleWrites_.getCompleteNode(t);if(null!=o)return o;var s=this.visibleWrites_.childCompoundWrite(t);if(s.isEmpty())return e;if(null!=e||s.hasCompleteWrite(C.Empty)){var l=e||ue.EMPTY_NODE;return s.apply(l)}return null},WriteTree.prototype.calcCompleteEventChildren=function(e,t){var r=ue.EMPTY_NODE,n=this.visibleWrites_.getCompleteNode(e);if(n)return n.isLeafNode()||n.forEachChild(Y,function(e,t){r=r.updateImmediateChild(e,t)}),r;if(t){var i=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(Y,function(e,t){var n=i.childCompoundWrite(new C(e)).apply(t);r=r.updateImmediateChild(e,n)}),i.getCompleteChildren().forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r}return this.visibleWrites_.childCompoundWrite(e).getCompleteChildren().forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r},WriteTree.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,r){b.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=e.child(t);if(this.visibleWrites_.hasCompleteWrite(i))return null;var a=this.visibleWrites_.childCompoundWrite(i);return a.isEmpty()?r.getChild(t):a.apply(r.getChild(t))},WriteTree.prototype.calcCompleteChild=function(e,t,n){var r=e.child(t),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(t)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(t)):null},WriteTree.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},WriteTree.prototype.calcIndexedSlice=function(e,t,n,r,i,a){var o,s=this.visibleWrites_.childCompoundWrite(e),l=s.getCompleteNode(C.Empty);if(null!=l)o=l;else{if(null==t)return[];o=s.apply(t)}if((o=o.withIndex(a)).isEmpty()||o.isLeafNode())return[];for(var u=[],c=a.getCompare(),h=i?o.getReverseIteratorFrom(n,a):o.getIteratorFrom(n,a),d=h.getNext();d&&u.length<r;)0!==c(d,n)&&u.push(d),d=h.getNext();return u},WriteTree.prototype.recordContainsPath_=function(e,t){if(e.snap)return e.path.contains(t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&e.path.child(n).contains(t))return!0;return!1},WriteTree.prototype.resetTree_=function(){this.visibleWrites_=WriteTree.layerTree_(this.allWrites_,WriteTree.DefaultFilter_,C.Empty),0<this.allWrites_.length?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},WriteTree.DefaultFilter_=function(e){return e.visible},WriteTree.layerTree_=function(e,t,n){for(var r=$e.Empty,i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)n.contains(o)?(s=C.relativePath(n,o),r=r.addWrite(s,a.snap)):o.contains(n)&&(s=C.relativePath(o,n),r=r.addWrite(C.Empty,a.snap.getChild(s)));else{if(!a.children)throw b.assertionError("WriteRecord should have .snap or .children");if(n.contains(o))s=C.relativePath(n,o),r=r.addWrites(s,a.children);else if(o.contains(n))if((s=C.relativePath(o,n)).isEmpty())r=r.addWrites(C.Empty,a.children);else{var l=b.safeGet(a.children,s.getFront());if(l){var u=l.getChild(s.popFront());r=r.addWrite(C.Empty,u)}}}}}return r},WriteTree);function WriteTree(){this.visibleWrites_=$e.Empty,this.allWrites_=[],this.lastWriteId_=-1}var Je=(WriteTreeRef.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},WriteTreeRef.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},WriteTreeRef.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},WriteTreeRef.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},WriteTreeRef.prototype.calcIndexedSlice=function(e,t,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,r,i)},WriteTreeRef.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},WriteTreeRef.prototype.child=function(e){return new WriteTreeRef(this.treePath_.child(e),this.writeTree_)},WriteTreeRef);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WriteTreeRef(e,t){this.treePath_=e,this.writeTree_=t}var Ze=(SyncTree.prototype.applyUserOverwrite=function(e,t,n,r){return this.pendingWriteTree_.addOverwrite(e,t,n,r),r?this.applyOperationToSyncPoints_(new Le(Ie.User,e,t)):[]},SyncTree.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var r=Ae.fromObject(t);return this.applyOperationToSyncPoints_(new Me(Ie.User,e,r))},SyncTree.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e);if(this.pendingWriteTree_.removeWrite(e)){var r=Ae.Empty;return null!=n.snap?r=r.set(C.Empty,!0):each(n.children,function(e,t){r=r.set(new C(e),t)}),this.applyOperationToSyncPoints_(new Ne(n.path,r,t))}return[]},SyncTree.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new Le(Ie.Server,e,t))},SyncTree.prototype.applyServerMerge=function(e,t){var n=Ae.fromObject(t);return this.applyOperationToSyncPoints_(new Me(Ie.Server,e,n))},SyncTree.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new Re(Ie.Server,e))},SyncTree.prototype.applyTaggedQueryOverwrite=function(e,t,n){var r=this.queryKeyForTag_(n);if(null==r)return[];var i=SyncTree.parseQueryKey_(r),a=i.path,o=i.queryId,s=C.relativePath(a,e),l=new Le(Ie.forServerTaggedQuery(o),s,t);return this.applyTaggedOperation_(a,l)},SyncTree.prototype.applyTaggedQueryMerge=function(e,t,n){var r=this.queryKeyForTag_(n);if(r){var i=SyncTree.parseQueryKey_(r),a=i.path,o=i.queryId,s=C.relativePath(a,e),l=Ae.fromObject(t),u=new Me(Ie.forServerTaggedQuery(o),s,l);return this.applyTaggedOperation_(a,u)}return[]},SyncTree.prototype.applyTaggedListenComplete=function(e,t){var n=this.queryKeyForTag_(t);if(n){var r=SyncTree.parseQueryKey_(n),i=r.path,a=r.queryId,o=C.relativePath(i,e),s=new Re(Ie.forServerTaggedQuery(a),o);return this.applyTaggedOperation_(i,s)}return[]},SyncTree.prototype.addEventRegistration=function(e,t){var r=e.path,i=null,a=!1;this.syncPointTree_.foreachOnPath(r,function(e,t){var n=C.relativePath(e,r);i=i||t.getCompleteServerCache(n),a=a||t.hasCompleteView()});var n,o=this.syncPointTree_.get(r);o?(a=a||o.hasCompleteView(),i=i||o.getCompleteServerCache(C.Empty)):(o=new Ke,this.syncPointTree_=this.syncPointTree_.set(r,o)),null!=i?n=!0:(n=!1,i=ue.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild(function(e,t){var n=t.getCompleteServerCache(C.Empty);n&&(i=i.updateImmediateChild(e,n))}));var s=o.viewExistsForQuery(e);if(!s&&!e.getQueryParams().loadsAllData()){var l=SyncTree.makeQueryKey_(e);b.assert(!this.queryToTagMap.has(l),"View does not exist, but we have a tag");var u=SyncTree.getNextQueryTag_();this.queryToTagMap.set(l,u),this.tagToQueryMap.set(u,l)}var c=this.pendingWriteTree_.childWrites(r),h=o.addEventRegistration(e,t,c,i,n);if(!s&&!a){var d=o.viewForQuery(e);h=h.concat(this.setupListener_(e,d))}return h},SyncTree.prototype.removeEventRegistration=function(e,t,n){var r=this,i=e.path,a=this.syncPointTree_.get(i),o=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var s=a.removeEventRegistration(e,t,n);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(i));var l=s.removed;o=s.events;var u=-1!==l.findIndex(function(e){return e.getQueryParams().loadsAllData()}),c=this.syncPointTree_.findOnPath(i,function(e,t){return t.hasCompleteView()});if(u&&!c){var h=this.syncPointTree_.subtree(i);if(!h.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(h),p=0;p<d.length;++p){var f=d[p],g=f.getQuery(),v=this.createListenerForView_(f);this.listenProvider_.startListening(SyncTree.queryForListening_(g),this.tagForQuery_(g),v.hashFn,v.onComplete)}}!c&&0<l.length&&!n&&(u?this.listenProvider_.stopListening(SyncTree.queryForListening_(e),null):l.forEach(function(e){var t=r.queryToTagMap.get(SyncTree.makeQueryKey_(e));r.listenProvider_.stopListening(SyncTree.queryForListening_(e),t)})),this.removeTags_(l)}return o},SyncTree.prototype.calcCompleteEventCache=function(i,e){var t=this.pendingWriteTree_,n=this.syncPointTree_.findOnPath(i,function(e,t){var n=C.relativePath(e,i),r=t.getCompleteServerCache(n);if(r)return r});return t.calcCompleteEventCache(i,n,e,!0)},SyncTree.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold(function(e,t,n){if(t&&t.hasCompleteView())return[t.getCompleteView()];var r=[];return t&&(r=t.getQueryViews()),each(n,function(e,t){r=r.concat(t)}),r})},SyncTree.prototype.removeTags_=function(e){for(var t=0;t<e.length;++t){var n=e[t];if(!n.getQueryParams().loadsAllData()){var r=SyncTree.makeQueryKey_(n),i=this.queryToTagMap.get(r);this.queryToTagMap.delete(r),this.tagToQueryMap.delete(i)}}},SyncTree.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},SyncTree.prototype.setupListener_=function(e,t){var n=e.path,r=this.tagForQuery_(e),i=this.createListenerForView_(t),a=this.listenProvider_.startListening(SyncTree.queryForListening_(e),r,i.hashFn,i.onComplete),o=this.syncPointTree_.subtree(n);if(r)b.assert(!o.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var s=o.fold(function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var r=[];return t&&(r=r.concat(t.getQueryViews().map(function(e){return e.getQuery()}))),each(n,function(e,t){r=r.concat(t)}),r}),l=0;l<s.length;++l){var u=s[l];this.listenProvider_.stopListening(SyncTree.queryForListening_(u),this.tagForQuery_(u))}return a},SyncTree.prototype.createListenerForView_=function(e){var n=this,r=e.getQuery(),i=this.tagForQuery_(r);return{hashFn:function(){return(e.getServerCache()||ue.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return i?n.applyTaggedListenComplete(r.path,i):n.applyListenComplete(r.path);var t=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?n="Client doesn't have permission to access the desired data.":"unavailable"==e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r}(e,r);return n.removeEventRegistration(r,null,t)}}},SyncTree.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},SyncTree.parseQueryKey_=function(e){var t=e.indexOf("$");return b.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new C(e.substr(0,t))}},SyncTree.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap.get(e)},SyncTree.prototype.tagForQuery_=function(e){var t=SyncTree.makeQueryKey_(e);return this.queryToTagMap.get(t)},SyncTree.getNextQueryTag_=function(){return SyncTree.nextQueryTag_++},SyncTree.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);b.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,r,null)},SyncTree.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(C.Empty))},SyncTree.prototype.applyOperationHelper_=function(e,t,n,r){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,r);var i=t.get(C.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(C.Empty));var a=[],o=e.path.getFront(),s=e.operationForChild(o),l=t.children.get(o);if(l&&s){var u=n?n.getImmediateChild(o):null,c=r.child(o);a=a.concat(this.applyOperationHelper_(s,l,u,c))}return i&&(a=a.concat(i.applyOperation(e,r,n))),a},SyncTree.prototype.applyOperationDescendantsHelper_=function(a,e,o,s){var l=this,t=e.get(C.Empty);null==o&&null!=t&&(o=t.getCompleteServerCache(C.Empty));var u=[];return e.children.inorderTraversal(function(e,t){var n=o?o.getImmediateChild(e):null,r=s.child(e),i=a.operationForChild(e);i&&(u=u.concat(l.applyOperationDescendantsHelper_(i,t,n,r)))}),t&&(u=u.concat(t.applyOperation(a,s,o))),u},SyncTree.nextQueryTag_=1,SyncTree);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SyncTree(e){this.listenProvider_=e,this.syncPointTree_=Ae.Empty,this.pendingWriteTree_=new Ye,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}var Xe=(SnapshotHolder.prototype.getNode=function(e){return this.rootNode_.getChild(e)},SnapshotHolder.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},SnapshotHolder);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SnapshotHolder(){this.rootNode_=ue.EMPTY_NODE}var et=(AuthTokenProvider.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch(function(e){return e&&"auth/token-not-initialized"===e.code?(Q4a("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)}):Promise.resolve(null)},AuthTokenProvider.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout(function(){return t(null)},0),this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)}))},AuthTokenProvider.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},AuthTokenProvider.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',U4a(e)},AuthTokenProvider);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AuthTokenProvider(e,t){var n=this;this.app_=e,this.authProvider_=t,this.auth_=null,this.auth_=t.getImmediate({optional:!0}),this.auth_||t.get().then(function(e){return n.auth_=e})}var tt=(StatsCollection.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),b.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},StatsCollection.prototype.get=function(){return b.deepCopy(this.counters_)},StatsCollection);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function StatsCollection(){this.counters_={}}var nt=(StatsManager.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new tt),this.collections_[t]},StatsManager.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},StatsManager.collections_={},StatsManager.reporters_={},StatsManager);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function StatsManager(){}var rt=(StatsListener.prototype.get=function(){var e=this.collection_.get(),n=f.__assign({},e);return this.last_&&each(this.last_,function(e,t){n[e]=n[e]-t}),this.last_=e,n},StatsListener);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function StatsListener(e){this.collection_=e,this.last_=null}var it=(StatsReporter.prototype.includeStat=function(e){this.statsToReport_[e]=!0},StatsReporter.prototype.reportStats_=function(){var n=this,e=this.statsListener_.get(),r={},i=!1;each(e,function(e,t){0<t&&b.contains(n.statsToReport_,e)&&(r[e]=t,i=!0)}),i&&this.server_.reportStats(r),l5a(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},StatsReporter);function StatsReporter(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new rt(e);var n=1e4+2e4*Math.random();l5a(this.reportStats_.bind(this),Math.floor(n))}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var at=(EventQueue.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n],i=r.getPath();null===t||i.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new ot(i)),t.add(r)}t&&this.eventLists_.push(t)},EventQueue.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},EventQueue.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},EventQueue.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(e(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1)}t&&(this.eventLists_=[]),this.recursionDepth_--},EventQueue);function EventQueue(){this.eventLists_=[],this.recursionDepth_=0}var ot=(EventList.prototype.add=function(e){this.events_.push(e)},EventList.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var n=t.getEventRunner();h&&Q4a("event: "+t.toString()),j5a(n)}}},EventList.prototype.getPath=function(){return this.path_},EventList);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EventList(e){this.path_=e,this.events_=[]}var st=(EventEmitter.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=f.__spread(this.listeners_[e]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},EventEmitter.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},EventEmitter.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},EventEmitter.prototype.validateEventType_=function(t){b.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},EventEmitter);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EventEmitter(e){this.allowedEvents_=e,this.listeners_={},b.assert(Array.isArray(e)&&0<e.length,"Requires a non-empty array")}var lt,ut=(lt=st,f.__extends(VisibilityMonitor,lt),VisibilityMonitor.getInstance=function(){return new VisibilityMonitor},VisibilityMonitor.prototype.getInitialEvent=function(e){return b.assert("visible"===e,"Unknown event type: "+e),[this.visible_]},VisibilityMonitor);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VisibilityMonitor(){var t,e,n=lt.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),n.visible_=!0,e&&document.addEventListener(e,function(){var e=!document[t];e!==n.visible_&&(n.visible_=e,n.trigger("visible",e))},!1),n}var ct,ht=(ct=st,f.__extends(OnlineMonitor,ct),OnlineMonitor.getInstance=function(){return new OnlineMonitor},OnlineMonitor.prototype.getInitialEvent=function(e){return b.assert("online"===e,"Unknown event type: "+e),[this.online_]},OnlineMonitor.prototype.currentlyOnline=function(){return this.online_},OnlineMonitor);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OnlineMonitor(){var e=ct.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||b.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}var dt=(PacketReceiver.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},PacketReceiver.prototype.handleResponse=function(e,t){var r=this;this.pendingResponses[e]=t;for(var n=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&j5a(function(){r.onMessage_(t[e])})},n=0;n<t.length;++n)e(n);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==n(););},PacketReceiver);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PacketReceiver(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}var pt=(BrowserPollConnection.prototype.open=function(e,t){var o=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new dt(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){o.log_("Timed out trying to connect."),o.onClosed_(),o.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(b.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!o.isClosed_){o.scriptTagHolder=new ft(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=f.__read(e,5),r=n[0],i=n[1],a=n[2];if(n[3],n[4],o.incrementIncomingBytes_(e),o.scriptTagHolder)if(o.connectTimeoutTimer_&&(clearTimeout(o.connectTimeoutTimer_),o.connectTimeoutTimer_=null),o.everConnected_=!0,"start"==r)o.id=i,o.password=a;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(o.scriptTagHolder.sendNewPolls=!1,o.myPacketOrderer.closeAfter(i,function(){o.onClosed_()})):o.onClosed_()}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=f.__read(e,2),r=n[0],i=n[1];o.incrementIncomingBytes_(e),o.myPacketOrderer.handleResponse(r,i)},function(){o.onClosed_()},o.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),o.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=o.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",o.transportSessionId&&(e.s=o.transportSessionId),o.lastSessionId&&(e.ls=o.lastSessionId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(S)&&(e.r="f");var t=o.urlFn(e);o.log_("Connecting via long-poll to "+t),o.scriptTagHolder.addTag(t,function(){})}})},BrowserPollConnection.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},BrowserPollConnection.forceAllow=function(){BrowserPollConnection.forceAllow_=!0},BrowserPollConnection.forceDisallow=function(){BrowserPollConnection.forceDisallow_=!0},BrowserPollConnection.isAvailable=function(){return!(b.isNodeSdk()||!BrowserPollConnection.forceAllow_&&(BrowserPollConnection.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},BrowserPollConnection.prototype.markConnectionHealthy=function(){},BrowserPollConnection.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},BrowserPollConnection.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},BrowserPollConnection.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},BrowserPollConnection.prototype.send=function(e){var t=b.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=b.base64Encode(t),r=c5a(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},BrowserPollConnection.prototype.addDisconnectPingFrame=function(e,t){if(!b.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},BrowserPollConnection.prototype.incrementIncomingBytes_=function(e){var t=b.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},BrowserPollConnection);function BrowserPollConnection(e,t,n,r){this.connId=e,this.repoInfo=t,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=R4a(e),this.stats_=nt.getCollection(t),this.urlFn=function(e){return t.connectionURL(E,e)}}var ft=(FirebaseIFrameScriptHolder.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Q4a("No IE domain setting required")}catch(e){var n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},FirebaseIFrameScriptHolder.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},FirebaseIFrameScriptHolder.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},FirebaseIFrameScriptHolder.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(0<this.pendingSegs.length?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;0<this.pendingSegs.length&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},FirebaseIFrameScriptHolder.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},FirebaseIFrameScriptHolder.prototype.addLongPollTag_=function(e,t){var n=this;function hEb(){n.outstandingRequests.delete(t),n.newRequest_()}this.outstandingRequests.add(t);var r=setTimeout(hEb,Math.floor(25e3));this.addTag(e,function(){clearTimeout(r),hEb()})},FirebaseIFrameScriptHolder.prototype.addTag=function(e,n){var r=this;b.isNodeSdk()?this.doNodeLongPoll(e,n):setTimeout(function(){try{if(!r.sendNewPolls)return;var t=r.myIFrame.doc.createElement("script");t.type="text/javascript",t.async=!0,t.src=e,t.onload=t.onreadystatechange=function(){var e=t.readyState;e&&"loaded"!==e&&"complete"!==e||(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),n())},t.onerror=function(){Q4a("Long-poll script failed to load: "+e),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(t)}catch(e){}},Math.floor(1))},FirebaseIFrameScriptHolder);
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FirebaseIFrameScriptHolder(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,b.isNodeSdk())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=v(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=FirebaseIFrameScriptHolder.createIFrame_();var i="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))i='<script>document.domain="'+document.domain+'";<\/script>';var a="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(e){Q4a("frame writing exception"),e.stack&&Q4a(e.stack),Q4a(e)}}}var gt="";
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var vt=null;"undefined"!=typeof MozWebSocket?vt=MozWebSocket:"undefined"!=typeof WebSocket&&(vt=WebSocket);var mt=(WebSocketConnection.connectionURL_=function(e,t,n){var r={v:"5"};return!b.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(S)&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),e.connectionURL("websocket",r)},WebSocketConnection.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,u.set("previous_websocket_failure",!0);try{if(b.isNodeSdk()){var r=b.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+gt+"/"+l.platform+"/"+r}},a=l.env,o=0==this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(i.proxy={origin:o}),this.mySock=new vt(this.connURL,[],i)}else this.mySock=new vt(this.connURL)}catch(e){this.log_("Error instantiating WebSocket.");var s=e.message||e.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},WebSocketConnection.prototype.start=function(){},WebSocketConnection.forceDisallow=function(){WebSocketConnection.forceDisallow_=!0},WebSocketConnection.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);t&&1<t.length&&parseFloat(t[1])<4.4&&(e=!0)}return!e&&null!==vt&&!WebSocketConnection.forceDisallow_},WebSocketConnection.previouslyFailed=function(){return u.isInMemoryStorage||!0===u.get("previous_websocket_failure")},WebSocketConnection.prototype.markConnectionHealthy=function(){u.remove("previous_websocket_failure")},WebSocketConnection.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length==this.totalFrames){var t=this.frames.join("");this.frames=null;var n=b.jsonEval(t);this.onMessage(n)}},WebSocketConnection.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},WebSocketConnection.prototype.extractFrameCount_=function(e){if(b.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},WebSocketConnection.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},WebSocketConnection.prototype.send=function(e){this.resetKeepAlive();var t=b.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=c5a(t,16384);1<n.length&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},WebSocketConnection.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},WebSocketConnection.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},WebSocketConnection.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},WebSocketConnection.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(45e3))},WebSocketConnection.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},WebSocketConnection.responsesRequiredToBeHealthy=2,WebSocketConnection.healthyTimeout=3e4,WebSocketConnection);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WebSocketConnection(e,t,n,r){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=R4a(this.connId),this.stats_=nt.getCollection(t),this.connURL=WebSocketConnection.connectionURL_(t,n,r)}var _t=(Object.defineProperty(TransportManager,"ALL_TRANSPORTS",{get:function(){return[pt,mt]},enumerable:!0,configurable:!0}),TransportManager.prototype.initTransports_=function(e){var t,n,r=mt&&mt.isAvailable(),i=r&&!mt.previouslyFailed();if(e.webSocketOnly&&(r||U4a("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[mt];else{var a=this.transports_=[];try{for(var o=f.__values(TransportManager.ALL_TRANSPORTS),s=o.next();!s.done;s=o.next()){var l=s.value;l&&l.isAvailable()&&a.push(l)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}},TransportManager.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw new Error("No transports available")},TransportManager.prototype.upgradeTransport=function(){return 1<this.transports_.length?this.transports_[1]:null},TransportManager);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TransportManager(e){this.initTransports_(e)}var yt=(Connection.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(n,r)},Math.floor(0));var i=t.healthyTimeout||0;0<i&&(this.healthyTimeout_=l5a(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&102400<e.conn_.bytesReceived?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&10240<e.conn_.bytesSent?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(i)))},Connection.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},Connection.prototype.disconnReceiver_=function(t){var n=this;return function(e){t===n.conn_?n.onConnectionLost_(e):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},Connection.prototype.connReceiver_=function(t){var n=this;return function(e){2!=n.state_&&(t===n.rx_?n.onPrimaryMessageReceived_(e):t===n.secondaryConn_?n.onSecondaryMessageReceived_(e):n.log_("message on old connection"))}},Connection.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},Connection.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},Connection.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},Connection.prototype.onSecondaryMessageReceived_=function(e){var t=a5a("t",e),n=a5a("d",e);if("c"==t)this.onSecondaryControl_(n);else{if("d"!=t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},Connection.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},Connection.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},Connection.prototype.onPrimaryMessageReceived_=function(e){var t=a5a("t",e),n=a5a("d",e);"c"==t?this.onControl_(n):"d"==t&&this.onDataMessage_(n)},Connection.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},Connection.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},Connection.prototype.onControl_=function(e){var t=a5a("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?S4a("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):S4a("Unknown control packet command: "+t)}},Connection.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&U4a("Protocol version mismatch detected"),this.tryStartUpgrade_())},Connection.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},Connection.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),l5a(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(6e4))},Connection.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},Connection.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):l5a(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},Connection.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},Connection.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},Connection.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(u.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},Connection.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},Connection.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},Connection.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},Connection.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},Connection);function Connection(e,t,n,r,i,a,o){this.id=e,this.repoInfo_=t,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=a,this.lastSessionId=o,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=R4a("c:"+this.id+":"),this.transportManager_=new _t(t),this.log_("Connection created"),this.start_()}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var bt=(ServerActions.prototype.put=function(e,t,n,r){},ServerActions.prototype.merge=function(e,t,n,r){},ServerActions.prototype.refreshAuthToken=function(e){},ServerActions.prototype.onDisconnectPut=function(e,t,n){},ServerActions.prototype.onDisconnectMerge=function(e,t,n){},ServerActions.prototype.onDisconnectCancel=function(e,t){},ServerActions.prototype.reportStats=function(e){},ServerActions);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ServerActions(){}var wt,Ct=(wt=bt,f.__extends(PersistentConnection,wt),PersistentConnection.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(b.stringify(i)),b.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},PersistentConnection.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),a=e.path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),b.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),b.assert(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)},PersistentConnection.prototype.sendListen_=function(r){var i=this,a=r.query,o=a.path.toString(),s=a.queryIdentifier();this.log_("Listen on "+o+" for "+s);var e={p:o};r.tag&&(e.q=a.queryObject(),e.t=r.tag),e.h=r.hashFn(),this.sendRequest("q",e,function(e){var t=e.d,n=e.s;PersistentConnection.warnOnListenWarnings_(t,a),(i.listens.get(o)&&i.listens.get(o).get(s))===r&&(i.log_("listen response",e),"ok"!==n&&i.removeListen_(o,s),r.onComplete&&r.onComplete(n,t))})},PersistentConnection.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&b.contains(e,"w")){var n=b.safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();U4a("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},PersistentConnection.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)},PersistentConnection.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||b.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},PersistentConnection.prototype.tryAuth=function(){var r=this;if(this.connected_&&this.authToken_){var i=this.authToken_,e=b.isValidFormat(i)?"auth":"gauth",t={cred:i};null===this.authOverride_?t.noauth=!0:"object"==typeof this.authOverride_&&(t.authvar=this.authOverride_),this.sendRequest(e,t,function(e){var t=e.s,n=e.d||"error";r.authToken_===i&&("ok"===t?r.invalidAuthTokenCount_=0:r.onAuthRevoked_(t,n))})}},PersistentConnection.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),b.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},PersistentConnection.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},PersistentConnection.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},PersistentConnection.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},PersistentConnection.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},PersistentConnection.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,function(e){r&&setTimeout(function(){r(e.s,e.d)},Math.floor(0))})},PersistentConnection.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},PersistentConnection.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},PersistentConnection.prototype.putInternal=function(e,t,n,r,i){var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)},PersistentConnection.prototype.sendPut_=function(t){var n=this,r=this.outstandingPuts_[t].action,e=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,e,function(e){n.log_(r+" response",e),delete n.outstandingPuts_[t],n.outstandingPutCount_--,0===n.outstandingPutCount_&&(n.outstandingPuts_=[]),i&&i(e.s,e.d)})},PersistentConnection.prototype.reportStats=function(e){var n=this;if(this.connected_){var t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,function(e){if("ok"!==e.s){var t=e.d;n.log_("reportStats","Error sending stats: "+t)}})}},PersistentConnection.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+b.stringify(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},PersistentConnection.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):S4a("Unrecognized action received from server: "+b.stringify(e)+"\nAre you using the latest client?")},PersistentConnection.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},PersistentConnection.prototype.scheduleConnect_=function(e){var t=this;b.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},Math.floor(e))},PersistentConnection.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},PersistentConnection.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},PersistentConnection.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(3e4<(new Date).getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},PersistentConnection.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+PersistentConnection.nextConnectionId_++,a=this,o=this.lastSessionId,s=!1,l=null,u=function(){l?l.close():(s=!0,r())};this.realtime_={close:u,sendRequest:function(e){b.assert(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)}};var e=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(e).then(function(e){s?Q4a("getToken() completed but was canceled"):(Q4a("getToken() completed. Creating connection."),a.authToken_=e&&e.accessToken,l=new yt(i,a.repoInfo_,t,n,r,function(e){U4a(e+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")},o))}).then(null,function(e){a.log_("Failed to get token: "+e),s||(b.CONSTANTS.NODE_ADMIN&&U4a(e),u())})}},PersistentConnection.prototype.interrupt=function(e){Q4a("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},PersistentConnection.prototype.resume=function(e){Q4a("Resuming connection for reason: "+e),delete this.interruptReasons_[e],b.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},PersistentConnection.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},PersistentConnection.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},PersistentConnection.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map(function(e){return _(e)}).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},PersistentConnection.prototype.removeListen_=function(e,t){var n,r=new C(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},PersistentConnection.prototype.onAuthRevoked_=function(e,t){Q4a("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},PersistentConnection.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},PersistentConnection.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=f.__values(this.listens.values()),a=i.next();!a.done;a=i.next()){var o=a.value;try{for(var s=(n=void 0,f.__values(o.values())),l=s.next();!l.done;l=s.next()){var u=l.value;this.sendListen_(u)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},PersistentConnection.prototype.sendConnectStats_=function(){var e={},t="js";b.CONSTANTS.NODE_ADMIN?t="admin_node":b.CONSTANTS.NODE_CLIENT&&(t="node"),e["sdk."+t+"."+gt.replace(/\./g,"-")]=1,b.isMobileCordova()?e["framework.cordova"]=1:b.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},PersistentConnection.prototype.shouldReconnect_=function(){var e=ht.getInstance().currentlyOnline();return b.isEmpty(this.interruptReasons_)&&e},PersistentConnection.nextPersistentConnectionId_=0,PersistentConnection.nextConnectionId_=0,PersistentConnection);function PersistentConnection(e,t,n,r,i,a){var o=wt.call(this)||this;if(o.repoInfo_=e,o.onDataUpdate_=t,o.onConnectStatus_=n,o.onServerInfoUpdate_=r,o.authTokenProvider_=i,o.authOverride_=a,o.id=PersistentConnection.nextPersistentConnectionId_++,o.log_=R4a("p:"+o.id+":"),o.interruptReasons_={},o.listens=new Map,o.outstandingPuts_=[],o.outstandingPutCount_=0,o.onDisconnectRequestQueue_=[],o.connected_=!1,o.reconnectDelay_=1e3,o.maxReconnectDelay_=3e5,o.securityDebugCallback_=null,o.lastSessionId=null,o.establishConnectionTimer_=null,o.visible_=!1,o.requestCBHash_={},o.requestNumber_=0,o.realtime_=null,o.authToken_=null,o.forceTokenRefresh_=!1,o.invalidAuthTokenCount_=0,o.firstConnection_=!0,o.lastConnectionAttemptTime_=null,o.lastConnectionEstablishedTime_=null,a&&!b.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return o.scheduleConnect_(0),ut.getInstance().on("visible",o.onVisible_,o),-1===e.host.indexOf("fblocal")&&ht.getInstance().on("online",o.onOnline_,o),o}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var xt,St=(xt=bt,f.__extends(ReadonlyRestClient,xt),ReadonlyRestClient.prototype.reportStats=function(e){throw new Error("Method not implemented.")},ReadonlyRestClient.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(b.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},ReadonlyRestClient.prototype.listen=function(e,t,r,i){var a=this,o=e.path.toString();this.log_("Listen called for "+o+" "+e.queryIdentifier());var s=ReadonlyRestClient.getListenId_(e,r),l={};this.listens_[s]=l;var n=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(o+".json",n,function(e,t){var n=t;404===e&&(e=n=null),null===e&&a.onDataUpdate_(o,n,!1,r),b.safeGet(a.listens_,s)===l&&i(e?401==e?"permission_denied":"rest_error:"+e:"ok",null)})},ReadonlyRestClient.prototype.unlisten=function(e,t){var n=ReadonlyRestClient.getListenId_(e,t);delete this.listens_[n]},ReadonlyRestClient.prototype.refreshAuthToken=function(e){},ReadonlyRestClient.prototype.restRequest_=function(i,a,o){var s=this;void 0===a&&(a={}),a.format="export",this.authTokenProvider_.getToken(!1).then(function(e){var t=e&&e.accessToken;t&&(a.auth=t);var n=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+i+"?ns="+s.repoInfo_.namespace+b.querystring(a);s.log_("Sending REST request for "+n);var r=new XMLHttpRequest;r.onreadystatechange=function(){if(o&&4===r.readyState){s.log_("REST Response for "+n+" received. status:",r.status,"response:",r.responseText);var e=null;if(200<=r.status&&r.status<300){try{e=b.jsonEval(r.responseText)}catch(e){U4a("Failed to parse JSON response for "+n+": "+r.responseText)}o(null,e)}else 401!==r.status&&404!==r.status&&U4a("Got unsuccessful REST response for "+n+" Status: "+r.status),o(r.status);o=null}},r.open("GET",n,!0),r.send()})},ReadonlyRestClient);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ReadonlyRestClient(e,t,n){var r=xt.call(this)||this;return r.repoInfo_=e,r.onDataUpdate_=t,r.authTokenProvider_=n,r.log_=R4a("p:rest:"),r.listens_={},r}var Et="repo_interrupt",kt=(Repo.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},Repo.prototype.name=function(){return this.repoInfo_.namespace},Repo.prototype.serverTime=function(){var e=this.infoData_.getNode(new C(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e},Repo.prototype.generateServerValues=function(){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:this.serverTime()})},Repo.prototype.onDataUpdate_=function(e,t,n,r){this.dataUpdateCount++;var i=new C(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var a=[];if(r)if(n){var o=b.map(t,function(e){return nodeFromJSON$1(e)});a=this.serverSyncTree_.applyTaggedQueryMerge(i,o,r)}else{var s=nodeFromJSON$1(t);a=this.serverSyncTree_.applyTaggedQueryOverwrite(i,s,r)}else if(n){var l=b.map(t,function(e){return nodeFromJSON$1(e)});a=this.serverSyncTree_.applyServerMerge(i,l)}else{var u=nodeFromJSON$1(t);a=this.serverSyncTree_.applyServerOverwrite(i,u)}var c=i;0<a.length&&(c=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(c,a)},Repo.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},Repo.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},Repo.prototype.onServerInfoUpdate_=function(e){var n=this;each(e,function(e,t){n.updateInfo_(e,t)})},Repo.prototype.updateInfo_=function(e,t){var n=new C("/.info/"+e),r=nodeFromJSON$1(t);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},Repo.prototype.getNextWriteId_=function(){return this.nextWriteId_++},Repo.prototype.setWithPriority=function(i,e,t,a){var o=this;this.log_("set",{path:i.toString(),value:e,priority:t});var n=this.generateServerValues(),r=nodeFromJSON$1(e,t),s=this.serverSyncTree_.calcCompleteEventCache(i),l=Pe(r,s,n),u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(i,l,u,!0);this.eventQueue_.queueEvents(c),this.server_.put(i.toString(),r.val(!0),function(e,t){var n="ok"===e;n||U4a("set at "+i+" failed: "+e);var r=o.serverSyncTree_.ackUserWrite(u,!n);o.eventQueue_.raiseEventsForChangedPath(i,r),o.callOnCompleteCallback(a,e,t)});var h=this.abortTransactions_(i);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},Repo.prototype.update=function(a,e,o){var s=this;this.log_("update",{path:a.toString(),value:e});var r=!0,i=this.generateServerValues(),l={};if(each(e,function(e,t){r=!1;var n=nodeFromJSON$1(t);l[e]=Pe(n,s.serverSyncTree_.calcCompleteEventCache(a),i)}),r)Q4a("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(o,"ok");else{var u=this.getNextWriteId_(),t=this.serverSyncTree_.applyUserMerge(a,l,u);this.eventQueue_.queueEvents(t),this.server_.merge(a.toString(),e,function(e,t){var n="ok"===e;n||U4a("update at "+a+" failed: "+e);var r=s.serverSyncTree_.ackUserWrite(u,!n),i=0<r.length?s.rerunTransactions_(a):a;s.eventQueue_.raiseEventsForChangedPath(i,r),s.callOnCompleteCallback(o,e,t)}),each(e,function(e){var t=s.abortTransactions_(a.child(e));s.rerunTransactions_(t)}),this.eventQueue_.raiseEventsForChangedPath(a,[])}},Repo.prototype.runOnDisconnectEvents_=function(){var r=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),t=function(e,r,i){var a=new xe;return e.forEachTree(new C(""),function(e,t){var n=r.calcCompleteEventCache(e);b.assert(null!=n,"Expected ChildrenNode.EMPTY_NODE for nulls"),a.remember(e,Pe(t,n,i))}),a}(this.onDisconnect_,this.serverSyncTree_,e),i=[];t.forEachTree(C.Empty,function(e,t){i=i.concat(r.serverSyncTree_.applyServerOverwrite(e,t));var n=r.abortTransactions_(e);r.rerunTransactions_(n)}),this.onDisconnect_=new xe,this.eventQueue_.raiseEventsForChangedPath(C.Empty,i)},Repo.prototype.onDisconnectCancel=function(n,r){var i=this;this.server_.onDisconnectCancel(n.toString(),function(e,t){"ok"===e&&i.onDisconnect_.forget(n),i.callOnCompleteCallback(r,e,t)})},Repo.prototype.onDisconnectSet=function(n,e,r){var i=this,a=nodeFromJSON$1(e);this.server_.onDisconnectPut(n.toString(),a.val(!0),function(e,t){"ok"===e&&i.onDisconnect_.remember(n,a),i.callOnCompleteCallback(r,e,t)})},Repo.prototype.onDisconnectSetWithPriority=function(n,e,t,r){var i=this,a=nodeFromJSON$1(e,t);this.server_.onDisconnectPut(n.toString(),a.val(!0),function(e,t){"ok"===e&&i.onDisconnect_.remember(n,a),i.callOnCompleteCallback(r,e,t)})},Repo.prototype.onDisconnectUpdate=function(r,n,i){var a=this;if(b.isEmpty(n))return Q4a("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(i,"ok");this.server_.onDisconnectMerge(r.toString(),n,function(e,t){"ok"===e&&each(n,function(e,t){var n=nodeFromJSON$1(t);a.onDisconnect_.remember(r.child(e),n)}),a.callOnCompleteCallback(i,e,t)})},Repo.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},Repo.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},Repo.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(Et)},Repo.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(Et)},Repo.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var t;t=e?(this.statsListener_||(this.statsListener_=new rt(this.stats_)),this.statsListener_.get()):this.stats_.get();var i=Object.keys(t).reduce(function(e,t){return Math.max(t.length,e)},0);each(t,function(e,t){for(var n=e,r=e.length;r<i+2;r++)n+=" ";console.log(n+t)})}},Repo.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},Repo.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),Q4a.apply(void 0,f.__spread([n],e))},Repo.prototype.callOnCompleteCallback=function(r,i,a){r&&j5a(function(){if("ok"==i)r(null);else{var e=(i||"error").toUpperCase(),t=e;a&&(t+=": "+a);var n=new Error(t);n.code=e,r(n)}})},Object.defineProperty(Repo.prototype,"database",{get:function(){return this.__database||(this.__database=new jt(this))},enumerable:!0,configurable:!0}),Repo);function Repo(e,t,n,r){var o=this;this.repoInfo_=e,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new at,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new xe,this.persistentConnection_=null;var i=new et(n,r);if(this.stats_=nt.getCollection(e),t||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.server_=new St(this.repoInfo_,this.onDataUpdate_.bind(this),i),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var a=n.options.databaseAuthVariableOverride;if(null!=a){if("object"!=typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{b.stringify(a)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}this.persistentConnection_=new Ct(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,a),this.server_=this.persistentConnection_}i.addTokenChangeListener(function(e){o.server_.refreshAuthToken(e)}),this.statsReporter_=nt.getOrCreateReporter(e,function(){return new it(o.stats_,o.server_)}),this.transactions_init_(),this.infoData_=new Xe,this.infoSyncTree_=new Ze({startListening:function(e,t,n,r){var i=[],a=o.infoData_.getNode(e.path);return a.isEmpty()||(i=o.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout(function(){r("ok")},0)),i},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ze({startListening:function(r,e,t,i){return o.server_.listen(r,t,e,function(e,t){var n=i(e,t);o.eventQueue_.raiseEventsForChangedPath(r.path,n)}),[]},stopListening:function(e,t){o.server_.unlisten(e,t)}})}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Tt=(RangedFilter.prototype.getStartPost=function(){return this.startPost_},RangedFilter.prototype.getEndPost=function(){return this.endPost_},RangedFilter.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},RangedFilter.prototype.updateChild=function(e,t,n,r,i,a){return this.matches(new V(t,n))||(n=ue.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)},RangedFilter.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=ue.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(ue.EMPTY_NODE);var i=this;return t.forEachChild(Y,function(e,t){i.matches(new V(e,t))||(r=r.updateImmediateChild(e,ue.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)},RangedFilter.prototype.updatePriority=function(e,t){return e},RangedFilter.prototype.filtersNodes=function(){return!0},RangedFilter.prototype.getIndexedFilter=function(){return this.indexedFilter_},RangedFilter.prototype.getIndex=function(){return this.index_},RangedFilter.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},RangedFilter.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},RangedFilter);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RangedFilter(e){this.indexedFilter_=new je(e.getIndex()),this.index_=e.getIndex(),this.startPost_=RangedFilter.getStartPost_(e),this.endPost_=RangedFilter.getEndPost_(e)}var Pt=(LimitedFilter.prototype.updateChild=function(e,t,n,r,i,a){return this.rangedFilter_.matches(new V(t,n))||(n=ue.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)},LimitedFilter.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=ue.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=ue.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{r=(r=t.withIndex(this.index_)).updatePriority(ue.EMPTY_NODE);var s=void 0,l=void 0,u=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),l=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();u=function(e,t){return c(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),l=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();a=0;for(var h=!1;i.hasNext();)o=i.getNext(),!h&&u(s,o)<=0&&(h=!0),h&&a<this.limit_&&u(o,l)<=0?a++:r=r.updateImmediateChild(o.name,ue.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},LimitedFilter.prototype.updatePriority=function(e,t){return e},LimitedFilter.prototype.filtersNodes=function(){return!0},LimitedFilter.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},LimitedFilter.prototype.getIndex=function(){return this.index_},LimitedFilter.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;b.assert(s.numChildren()==this.limit_,"");var l=new V(t,n),u=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(s.hasChild(t)){for(var h=s.getImmediateChild(t),d=r.getChildAfterChild(this.index_,u,this.reverse_);null!=d&&(d.name==t||s.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,l);if(c&&!n.isEmpty()&&0<=p)return null!=i&&i.trackChildChange(Ve.childChangedChange(t,n,h)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Ve.childRemovedChange(t,h));var f=s.updateImmediateChild(t,ue.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(Ve.childAddedChange(d.name,d.node)),f.updateImmediateChild(d.name,d.node)):f}return n.isEmpty()?e:c&&0<=a(u,l)?(null!=i&&(i.trackChildChange(Ve.childRemovedChange(u.name,u.node)),i.trackChildChange(Ve.childAddedChange(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(u.name,ue.EMPTY_NODE)):e},LimitedFilter);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LimitedFilter(e){this.rangedFilter_=new Tt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}var It=(QueryParams.prototype.hasStart=function(){return this.startSet_},QueryParams.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===QueryParams.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},QueryParams.prototype.getIndexStartValue=function(){return b.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},QueryParams.prototype.getIndexStartName=function(){return b.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:p},QueryParams.prototype.hasEnd=function(){return this.endSet_},QueryParams.prototype.getIndexEndValue=function(){return b.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},QueryParams.prototype.getIndexEndName=function(){return b.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:g},QueryParams.prototype.hasLimit=function(){return this.limitSet_},QueryParams.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},QueryParams.prototype.getLimit=function(){return b.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},QueryParams.prototype.getIndex=function(){return this.index_},QueryParams.prototype.copy_=function(){var e=new QueryParams;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},QueryParams.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},QueryParams.prototype.limitToFirst=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_=QueryParams.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,t},QueryParams.prototype.limitToLast=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_=QueryParams.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,t},QueryParams.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,void 0===e&&(e=null),n.indexStartValue_=e,null!=t?(n.startNameSet_=!0,n.indexStartName_=t):(n.startNameSet_=!1,n.indexStartName_=""),n},QueryParams.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,void 0===e&&(e=null),n.indexEndValue_=e,void 0!==t?(n.endNameSet_=!0,n.indexEndName_=t):(n.endNameSet_=!1,n.indexEndName_=""),n},QueryParams.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},QueryParams.prototype.getQueryObject=function(){var e=QueryParams.WIRE_PROTOCOL_CONSTANTS_,t={};if(this.startSet_&&(t[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(t[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(t[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(t[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){t[e.LIMIT]=this.limit_;var n=this.viewFrom_;""===n&&(n=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),t[e.VIEW_FROM]=n}return this.index_!==Y&&(t[e.INDEX]=this.index_.toString()),t},QueryParams.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},QueryParams.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Y},QueryParams.prototype.getNodeFilter=function(){return this.loadsAllData()?new je(this.getIndex()):this.hasLimit()?new Pt(this):new Tt(this)},QueryParams.prototype.toRestQueryStringParameters=function(){var e,t=QueryParams.REST_QUERY_CONSTANTS_,n={};return this.isDefault()||(e=this.index_===Y?t.PRIORITY_INDEX:this.index_===fe?t.VALUE_INDEX:this.index_===q?t.KEY_INDEX:(b.assert(this.index_ instanceof ge,"Unrecognized index type!"),this.index_.toString()),n[t.ORDER_BY]=b.stringify(e),this.startSet_&&(n[t.START_AT]=b.stringify(this.indexStartValue_),this.startNameSet_&&(n[t.START_AT]+=","+b.stringify(this.indexStartName_))),this.endSet_&&(n[t.END_AT]=b.stringify(this.indexEndValue_),this.endNameSet_&&(n[t.END_AT]+=","+b.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[t.LIMIT_TO_FIRST]=this.limit_:n[t.LIMIT_TO_LAST]=this.limit_)),n},QueryParams.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},QueryParams.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},QueryParams.DEFAULT=new QueryParams,QueryParams);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QueryParams(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Y}var Ot,Nt=(Ot=Ce,f.__extends(Reference,Ot),Reference.prototype.getKey=function(){return b.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},Reference.prototype.child=function(e){return b.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof C||(null===this.path.getFront()?function(e,t,n,r){n=n&&n.replace(/^\/*\.info(\/|$)/,"/"),O5a(e,t,n,r)}("Reference.child",1,e,!1):O5a("Reference.child",1,e,!1)),new Reference(this.repo,this.path.child(e))},Reference.prototype.getParent=function(){b.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new Reference(this.repo,e)},Reference.prototype.getRoot=function(){b.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},Reference.prototype.databaseProp=function(){return this.repo.database},Reference.prototype.set=function(e,t){b.validateArgCount("Reference.set",1,2,arguments.length),Q5a("Reference.set",this.path),H5a("Reference.set",1,e,this.path,!1),b.validateCallback("Reference.set",2,t,!0);var n=new b.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},Reference.prototype.update=function(e,t){if(b.validateArgCount("Reference.update",1,2,arguments.length),Q5a("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,U4a("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}K5a("Reference.update",1,e,this.path,!1),b.validateCallback("Reference.update",2,t,!0);var i=new b.Deferred;return this.repo.update(this.path,e,i.wrapCallback(t)),i.promise},Reference.prototype.setWithPriority=function(e,t,n){if(b.validateArgCount("Reference.setWithPriority",2,3,arguments.length),Q5a("Reference.setWithPriority",this.path),H5a("Reference.setWithPriority",1,e,this.path,!1),L5a("Reference.setWithPriority",2,t,!1),b.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new b.Deferred;return this.repo.setWithPriority(this.path,e,t,r.wrapCallback(n)),r.promise},Reference.prototype.remove=function(e){return b.validateArgCount("Reference.remove",0,1,arguments.length),Q5a("Reference.remove",this.path),b.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},Reference.prototype.transaction=function(e,r,t){if(b.validateArgCount("Reference.transaction",1,3,arguments.length),Q5a("Reference.transaction",this.path),b.validateCallback("Reference.transaction",1,e,!1),b.validateCallback("Reference.transaction",2,r,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(b.errorPrefix(e,t,r)+"must be a boolean.")}("Reference.transaction",3,t,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===t&&(t=!0);var i=new b.Deferred;return"function"==typeof r&&i.promise.catch(function(){}),this.repo.startTransaction(this.path,e,function(e,t,n){e?i.reject(e):i.resolve(new R(t,n)),"function"==typeof r&&r(e,t,n)},t),i.promise},Reference.prototype.setPriority=function(e,t){b.validateArgCount("Reference.setPriority",1,2,arguments.length),Q5a("Reference.setPriority",this.path),L5a("Reference.setPriority",1,e,!1),b.validateCallback("Reference.setPriority",2,t,!0);var n=new b.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},Reference.prototype.push=function(e,t){b.validateArgCount("Reference.push",0,2,arguments.length),Q5a("Reference.push",this.path),H5a("Reference.push",1,e,this.path,!0),b.validateCallback("Reference.push",2,t,!0);var n,r=this.repo.serverTime(),i=F(r),a=this.child(i),o=this.child(i);return n=null!=e?a.set(e,t).then(function(){return o}):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),"function"==typeof t&&n.catch(function(){}),a},Reference.prototype.onDisconnect=function(){return Q5a("Reference.onDisconnect",this.path),new A(this.repo,this.path)},Object.defineProperty(Reference.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(Reference.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(Reference.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(Reference.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),Reference);function Reference(e,t){if(!(e instanceof kt))throw new Error("new Reference() no longer supported - use app.database().");return Ot.call(this,e,t,It.DEFAULT,!1)||this}Ce.__referenceConstructor=Nt,Ke.__referenceConstructor=Nt;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var At,Rt,Lt=function TreeNode(){this.children={},this.childCount=0,this.value=null},Mt=(Tree.prototype.subTree=function(e){for(var t,n=e instanceof C?e:new C(e),r=this;null!==(t=n.getFront());)r=new Tree(t,r,b.safeGet(r.node_.children,t)||new Lt),n=n.popFront();return r},Tree.prototype.getValue=function(){return this.node_.value},Tree.prototype.setValue=function(e){b.assert(void 0!==e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},Tree.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},Tree.prototype.hasChildren=function(){return 0<this.node_.childCount},Tree.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},Tree.prototype.forEachChild=function(n){var r=this;each(this.node_.children,function(e,t){n(new Tree(e,r,t))})},Tree.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},Tree.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},Tree.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},Tree.prototype.path=function(){return new C(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},Tree.prototype.name=function(){return this.name_},Tree.prototype.parent=function(){return this.parent_},Tree.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},Tree.prototype.updateChild_=function(e,t){var n=t.isEmpty(),r=b.contains(this.node_.children,e);n&&r?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},Tree);function Tree(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new Lt),this.name_=e,this.parent_=t,this.node_=n}(Rt=At=At||{})[Rt.RUN=0]="RUN",Rt[Rt.SENT=1]="SENT",Rt[Rt.COMPLETED=2]="COMPLETED",Rt[Rt.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",Rt[Rt.NEEDS_ABORT=4]="NEEDS_ABORT",kt.MAX_TRANSACTION_RETRIES_=25,kt.prototype.transactions_init_=function(){this.transactionQueueTree_=new Mt},kt.prototype.startTransaction=function(e,t,n,r){this.log_("transaction on "+e);function NPb(){}var i=new Nt(this,e);i.on("value",NPb);var a={path:e,update:t,onComplete:n,status:null,order:v(),applyLocally:r,retryCount:0,unwatcher:function(){i.off("value",NPb)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},o=this.getLatestState_(e);a.currentInputSnapshot=o;var s=a.update(o.val());if(void 0===s){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var l=new ve(a.currentInputSnapshot,new Nt(this,a.path),Y);a.onComplete(null,!1,l)}}else{N("transaction failed: Data returned ",s,a.path),a.status=At.RUN;var u=this.transactionQueueTree_.subTree(e),c=u.getValue()||[];c.push(a),u.setValue(c);var h=void 0;if("object"==typeof s&&null!==s&&b.contains(s,".priority"))h=b.safeGet(s,".priority"),b.assert(G5a(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else h=(this.serverSyncTree_.calcCompleteEventCache(e)||ue.EMPTY_NODE).getPriority().val();h=h;var d=this.generateServerValues(),p=nodeFromJSON$1(s,h),f=Pe(p,o,d);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=f,a.currentWriteId=this.getNextWriteId_();var g=this.serverSyncTree_.applyUserOverwrite(e,f,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,g),this.sendReadyTransactions_()}},kt.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||ue.EMPTY_NODE},kt.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);b.assert(0<n.length,"Sending zero length transaction queue"),n.every(function(e){return e.status===At.RUN})&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild(function(e){t.sendReadyTransactions_(e)})},kt.prototype.sendTransactionQueue_=function(s,l){for(var u=this,e=l.map(function(e){return e.currentWriteId}),t=this.getLatestState_(s,e),n=t,r=t.hash(),i=0;i<l.length;i++){var a=l[i];b.assert(a.status===At.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=At.SENT,a.retryCount++;var o=C.relativePath(s,a.path);n=n.updateChild(o,a.currentOutputSnapshotRaw)}var c=n.val(!0),h=s;this.server_.put(h.toString(),c,function(e){u.log_("transaction put response",{path:h.toString(),status:e});var t=[];if("ok"===e){for(var n=[],r=0;r<l.length;r++){if(l[r].status=At.COMPLETED,t=t.concat(u.serverSyncTree_.ackUserWrite(l[r].currentWriteId)),l[r].onComplete){var i=l[r].currentOutputSnapshotResolved,a=new Nt(u,l[r].path),o=new ve(i,a,Y);n.push(l[r].onComplete.bind(null,null,!0,o))}l[r].unwatcher()}u.pruneCompletedTransactionsBelowNode_(u.transactionQueueTree_.subTree(s)),u.sendReadyTransactions_(),u.eventQueue_.raiseEventsForChangedPath(s,t);for(r=0;r<n.length;r++)j5a(n[r])}else{if("datastale"===e)for(r=0;r<l.length;r++)l[r].status===At.SENT_NEEDS_ABORT?l[r].status=At.NEEDS_ABORT:l[r].status=At.RUN;else{U4a("transaction at "+h.toString()+" failed: "+e);for(r=0;r<l.length;r++)l[r].status=At.NEEDS_ABORT,l[r].abortReason=e}u.rerunTransactions_(s)}},r)},kt.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),r=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(r,n),n},kt.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n,r=[],i=[],a=e.filter(function(e){return e.status===At.RUN}).map(function(e){return e.currentWriteId}),o=0;o<e.length;o++){var s=e[o],l=C.relativePath(t,s.path),u=!1,c=void 0;if(b.assert(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===At.NEEDS_ABORT)u=!0,c=s.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===At.RUN)if(s.retryCount>=kt.MAX_TRANSACTION_RETRIES_)u=!0,c="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var h=this.getLatestState_(s.path,a);s.currentInputSnapshot=h;var d=e[o].update(h.val());if(void 0!==d){N("transaction failed: Data returned ",d,s.path);var p=nodeFromJSON$1(d);"object"==typeof d&&null!=d&&b.contains(d,".priority")||(p=p.updatePriority(h.getPriority()));var f=s.currentWriteId,g=this.generateServerValues(),v=Pe(p,h,g);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=v,s.currentWriteId=this.getNextWriteId_(),a.splice(a.indexOf(f),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(s.path,v,s.currentWriteId,s.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(f,!0))}else u=!0,c="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,i),i=[],u&&(e[o].status=At.COMPLETED,n=e[o].unwatcher,setTimeout(n,Math.floor(0)),e[o].onComplete))if("nodata"===c){var m=new Nt(this,e[o].path),_=e[o].currentInputSnapshot,y=new ve(_,m,Y);r.push(e[o].onComplete.bind(null,null,!1,y))}else r.push(e[o].onComplete.bind(null,new Error(c),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(o=0;o<r.length;o++)j5a(r[o]);this.sendReadyTransactions_()}},kt.prototype.getAncestorTransactionNode_=function(e){for(var t,n=this.transactionQueueTree_;null!==(t=e.getFront())&&null===n.getValue();)n=n.subTree(t),e=e.popFront();return n},kt.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort(function(e,t){return e.order-t.order}),t},kt.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,r=e.getValue();if(null!==r)for(var i=0;i<r.length;i++)t.push(r[i]);e.forEachChild(function(e){n.aggregateTransactionQueuesForNode_(e,t)})},kt.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==At.COMPLETED&&(n[r]=n[i],r++);n.length=r,e.setValue(0<n.length?n:null)}e.forEachChild(function(e){t.pruneCompletedTransactionsBelowNode_(e)})},kt.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),r=this.transactionQueueTree_.subTree(e);return r.forEachAncestor(function(e){t.abortTransactionsOnNode_(e)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(e){t.abortTransactionsOnNode_(e)}),n},kt.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],r=[],i=-1,a=0;a<t.length;a++)if(t[a].status!==At.SENT_NEEDS_ABORT)if(t[a].status===At.SENT)b.assert(i===a-1,"All SENT items should be at beginning of queue."),t[i=a].status=At.SENT_NEEDS_ABORT,t[a].abortReason="set";else if(b.assert(t[a].status===At.RUN,"Unexpected transaction status in abort"),t[a].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(t[a].currentWriteId,!0)),t[a].onComplete){n.push(t[a].onComplete.bind(null,new Error("set"),!1,null))}-1===i?e.setValue(null):t.length=i+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),r);for(a=0;a<n.length;a++)j5a(n[a])}};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Dt,Ft="databaseURL",Vt=(RepoManager.getInstance=function(){return Dt=Dt||new RepoManager},RepoManager.prototype.interrupt=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].interrupt()},RepoManager.prototype.resume=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].resume()},RepoManager.prototype.databaseFromApp=function(e,t,n){var r=n||e.options[Ft];void 0===r&&T4a("Can't determine Firebase Database URL.  Be sure to include "+Ft+" option when calling firebase.initializeApp().");var i=y5a(r),a=i.repoInfo,o=void 0;return void 0!==l&&(o=l.env.FIREBASE_DATABASE_EMULATOR_HOST),o&&(r="http://"+o+"?ns="+a.namespace,a=(i=y5a(r)).repoInfo),R5a("Invalid Firebase Database URL",1,i),i.path.isEmpty()||T4a("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(a,e,t).database},RepoManager.prototype.deleteRepo=function(e){var t=b.safeGet(this.repos_,e.app.name);t&&b.safeGet(t,e.repoInfo_.toURLString())===e||T4a("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.repoInfo_.toURLString()]},RepoManager.prototype.createRepo=function(e,t,n){var r=b.safeGet(this.repos_,t.name);r||(r={},this.repos_[t.name]=r);var i=b.safeGet(r,e.toURLString());return i&&T4a("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new kt(e,this.useRestClient_,t,n),r[e.toURLString()]=i},RepoManager.prototype.forceRestClient=function(e){this.useRestClient_=e},RepoManager);function RepoManager(){this.repos_={},this.useRestClient_=!1}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var jt=(Object.defineProperty(Database.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),Database.prototype.ref=function(e){return this.checkDeleted_("ref"),b.validateArgCount("database.ref",0,1,arguments.length),e instanceof Nt?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},Database.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),b.validateArgCount(t,1,1,arguments.length);var n=y5a(e);R5a(t,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&T4a(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},Database.prototype.checkDeleted_=function(e){null===this.repo_&&T4a("Cannot call "+e+" on a deleted database.")},Database.prototype.goOffline=function(){b.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},Database.prototype.goOnline=function(){b.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},Database.ServerValue={TIMESTAMP:{".sv":"timestamp"},_increment:function(e){return{".sv":{increment:e}}}},Database);function Database(e){(this.repo_=e)instanceof kt||T4a("Don't call new Database() directly - please use firebase.database()."),this.root_=new Nt(e,C.Empty),this.INTERNAL=new Bt(this)}var Bt=(DatabaseInternals.prototype.delete=function(){return f.__awaiter(this,void 0,void 0,function(){return f.__generator(this,function(e){return this.database.checkDeleted_("delete"),Vt.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},DatabaseInternals);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DatabaseInternals(e){this.database=e}var zt=Object.freeze({__proto__:null,forceLongPolling:function(){mt.forceDisallow(),pt.forceAllow()},forceWebSockets:function(){pt.forceDisallow()},isWebSocketsAvailable:function(){return mt.isAvailable()},setSecurityDebugCallback:function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){e.repo.stats(t)},statsIncrementCounter:function(e,t){e.repo.statsIncrementCounter(t)},dataUpdateCount:function(e){return e.repo.dataUpdateCount},interceptServerData:function(e,t){return e.repo.interceptServerData_(t)}}),Ut=Ct;Ct.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ct.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Wt=yt,qt=k,Qt=Object.freeze({__proto__:null,DataConnection:Ut,RealTimeConnection:Wt,hijackHash:function(i){var a=Ct.prototype.put;return Ct.prototype.put=function(e,t,n,r){void 0!==r&&(r=i()),a.call(this,e,t,n,r)},function(){Ct.prototype.put=a}},ConnectionTarget:qt,queryIdentifier:function(e){return e.queryIdentifier()},forceRestClient:function(e){Vt.getInstance().forceRestClient(e)}}),Ht=jt.ServerValue;function registerDatabase(e){!function setSDKVersion(e){gt=e}(e.SDK_VERSION);var t=e.INTERNAL.registerComponent(new r.Component("database",function(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal");return Vt.getInstance().databaseFromApp(n,r,t)},"PUBLIC").setServiceProps({Reference:Nt,Query:Ce,Database:jt,DataSnapshot:ve,enableLogging:P4a,INTERNAL:zt,ServerValue:Ht,TEST_ACCESS:Qt}).setMultipleInstances(!0));b.isNodeSdk()&&(Gt.exports=t)}registerDatabase(e),Kt.DataSnapshot=ve,Kt.Database=jt,Kt.OnDisconnect=A,Kt.Query=Ce,Kt.Reference=Nt,Kt.ServerValue=Ht,Kt.enableLogging=P4a,Kt.registerDatabase=registerDatabase}).call(this,$t("8oxB"))},QCnb:function(e,t,n){"use strict";e.exports=n("+wdc")},"S+S0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=n("mrSG"),i=n("zVF4"),r=(Component.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},Component.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},Component.prototype.setServiceProps=function(e){return this.serviceProps=e,this},Component);function Component(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var h="[DEFAULT]",a=(Provider.prototype.get=function(e){void 0===e&&(e=h);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService(t);r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},Provider.prototype.getImmediate=function(e){var t=c.__assign({identifier:h,optional:!1},e),n=t.identifier,r=t.optional,i=this.normalizeInstanceIdentifier(n);try{var a=this.getOrInitializeService(i);if(a)return a;if(r)return null;throw Error("Service "+this.name+" is not available")}catch(e){if(r)return null;throw e}},Provider.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(function isComponentEager(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.component=e))try{this.getOrInitializeService(h)}catch(e){}try{for(var r=c.__values(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var a=c.__read(i.value,2),o=a[0],s=a[1],l=this.normalizeInstanceIdentifier(o);try{var u=this.getOrInitializeService(l);s.resolve(u)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},Provider.prototype.clearInstance=function(e){void 0===e&&(e=h),this.instancesDeferred.delete(e),this.instances.delete(e)},Provider.prototype.delete=function(){return c.__awaiter(this,void 0,void 0,function(){var t;return c.__generator(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))];case 1:return e.sent(),[2]}})})},Provider.prototype.isComponentSet=function(){return null!=this.component},Provider.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,function normalizeIdentifierForFactory(e){return e===h?void 0:e}(e)),this.instances.set(e,t)),t||null},Provider.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:h:e},Provider);
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Provider(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}var o=(ComponentContainer.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},ComponentContainer.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},ComponentContainer.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},ComponentContainer.prototype.getProviders=function(){return Array.from(this.providers.values())},ComponentContainer);function ComponentContainer(e){this.name=e,this.providers=new Map}t.Component=r,t.ComponentContainer=o,t.Provider=a},Wcq6:function(e,t,n){"use strict";var r=function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(n("wj3C"));
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */e.exports=r},Zs65:function(e,t,n){"use strict";n("NSPt")},i8i4:function(e,t,n){"use strict";(function checkDCE(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}})(),e.exports=n("yl30")},kMSe:function(t,i,a){"use strict";var o=a("i8i4"),h=a("2vnA"),l=a("q1tI"),u=a.n(l);if(!l.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!h.p)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var c=!1;function isUsingStaticRendering(){return c}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var d=function(){return(d=Object.assign||function __assign(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function __read(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function printDebugValue(e){return e.current?Object(h.i)(e.current):"<unknown>"}var p=[];function useForceUpdate(){var e=__read(Object(l.useState)(0),2)[1];return Object(l.useCallback)(function(){e(function(e){return e+1})},[])}var f={};function useObserver(e,t,n){if(void 0===t&&(t="observed"),void 0===n&&(n=f),isUsingStaticRendering())return e();var r=(n.useForceUpdate||useForceUpdate)(),i=Object(l.useRef)(null);i.current||(i.current=new h.b("observer("+t+")",function(){r()}));function vVb(){i.current&&!i.current.isDisposed&&(i.current.dispose(),i.current=null)}var a,o;if(Object(l.useDebugValue)(i,printDebugValue),function useUnmount(e){Object(l.useEffect)(function(){return e},p)}(function(){vVb()}),i.current.track(function(){try{a=e()}catch(e){o=e}}),o)throw vVb(),o;return a}function observer(n,e){if(isUsingStaticRendering())return n;function DVb(e,t){return useObserver(function(){return n(e,t)},i)}var t,r=d({forwardRef:!1},e),i=n.displayName||n.name;return DVb.displayName=i,t=r.forwardRef?Object(l.memo)(Object(l.forwardRef)(DVb)):Object(l.memo)(DVb),function copyStaticProperties(t,n){Object.keys(t).forEach(function(e){t.hasOwnProperty(e)&&!g[e]&&Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}(n,t),t.displayName=i,t}var g={$$typeof:!0,render:!0,compare:!0,type:!0};function ObserverComponent(e){var t=e.children,n=e.render,r=t||n;return"function"!=typeof r?null:useObserver(r)}function ObserverPropsCheck(e,t,n,r,i){var a="children"===t?"render":"children",o="function"==typeof e[t],s="function"==typeof e[a];return o&&s?new Error("MobX Observer: Do not use children and render in the same time in`"+n):o||s?null:new Error("Invalid prop `"+i+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}ObserverComponent.propTypes={children:ObserverPropsCheck,render:ObserverPropsCheck},ObserverComponent.displayName="Observer";a.d(i,"a",function(){return W});var v=0,m={};function j(e){return m[e]||(m[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+v+")";return v++,t}(e)),m[e]}function x(e,t){if(P(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!hasOwnProperty.call(t,n[i])||!P(e[n[i]],t[n[i]]))return!1;return!0}function P(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function S(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var _=j("patchMixins"),y=j("patchedDefinition");function A(e,t){for(var n=this,r=[],i=arguments.length-2;0<i--;)r[i]=arguments[i+2];t.locks++;try{var a;return null!=e&&(a=e.apply(this,r)),a}finally{t.locks--,0===t.locks&&t.methods.forEach(function(e){e.apply(n,r)})}}function C(n,r){return function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];A.call.apply(A,[this,n,r].concat(e))}}function U(e,t,n){var r,i,a,o,s=(i=t,a=(r=e)[_]=r[_]||{},(o=a[i]=a[i]||{}).locks=o.locks||0,o.methods=o.methods||[],o);s.methods.indexOf(n)<0&&s.methods.push(n);var l=Object.getOwnPropertyDescriptor(e,t);if(!l||!l[y]){var u=function e(r,i,a,o,t){var n,s=C(t,o);return(n={})[y]=!0,n.get=function(){return s},n.set=function(t){if(this===r)s=C(t,o);else{var n=e(this,i,a,o,t);Object.defineProperty(this,i,n)}},n.configurable=!0,n.enumerable=a,n}(e,t,l?l.enumerable:void 0,s,e[t]);Object.defineProperty(e,t,u)}}var b=h.a||"$mobx",w=j("isUnmounted"),E=j("skipRender"),k=j("isForcingUpdate");function N(e,t){return isUsingStaticRendering()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!x(this.props,e)}function D(e,t){var r=j("reactProp_"+t+"_valueHolder"),i=j("reactProp_"+t+"_atomHolder");function n(){return this[i]||S(this,i,Object(h.h)("reactive "+t)),this[i]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return n.call(this).reportObserved(),this[r]},set:function(e){this[k]||x(this[r],e)?S(this,r,e):(S(this,r,e),S(this,E,!0),n.call(this).reportChanged(),S(this,E,!1))}})}var T="function"==typeof Symbol&&Symbol.for,I=T?Symbol.for("react.forward_ref"):"function"==typeof l.forwardRef&&Object(l.forwardRef)(function(){}).$$typeof,O=T?Symbol.for("react.memo"):"function"==typeof l.memo&&Object(l.memo)(function(){}).$$typeof;function W(e){if(!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),O&&e.$$typeof===O)throw new Error("Mobx observer: You are trying to use 'observer' on function component wrapped to either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(I&&e.$$typeof===I){var t=e.render;if("function"!=typeof t)throw new Error("render property of ForwardRef was not a function");return Object(l.forwardRef)(function(){var e=arguments;return u.a.createElement(ObserverComponent,null,function(){return t.apply(void 0,e)})})}return"function"!=typeof e||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(l.Component,e)?function(e){var t=e.prototype;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==l.PureComponent)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==N)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=N;D(t,"props"),D(t,"state");var n=t.render;return t.render=function(){return function(e){var t=this;if(!0===isUsingStaticRendering())return e.call(this);S(this,E,!1),S(this,k,!1);var n=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",r=e.bind(this),i=!1,a=new h.b(n+".render()",function(){if(!i&&(i=!0)!==t[w]){var e=!0;try{S(t,k,!0),t[E]||l.Component.prototype.forceUpdate.call(t),e=!1}finally{S(t,k,!1),e&&a.dispose()}}});function s(){i=!1;var t=void 0,e=void 0;if(a.track(function(){try{e=Object(h.c)(!1,r)}catch(e){t=e}}),t)throw t;return e}return a.reactComponent=this,s[b]=a,(this.render=s).call(this)}.call(this,n)},U(t,"componentWillUnmount",function(){!0!==isUsingStaticRendering()&&(this.render[b]&&this.render[b].dispose(),this[w]=!0)}),e}(e):observer(e)}u.a.createContext({});j("disposeOnUnmountProto"),j("disposeOnUnmountInst");function J(l){function r(e,t,n,r,i,a){for(var o=[],s=arguments.length-6;0<s--;)o[s]=arguments[s+6];return Object(h.r)(function(){return r=r||"<<anonymous>>",a=a||n,null==t[n]?e?new Error("The "+i+" `"+a+"` is marked as required in `"+r+"`, but its value is `"+(null===t[n]?"null":"undefined")+"`."):null:l.apply(void 0,[t,n,r,i,a].concat(o))})}var e=r.bind(null,!1);return e.isRequired=r.bind(null,!0),e}function K(e){var t,n=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":(t=e,"symbol"==n||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol?"symbol":n)}function Q(l,u){return J(function(i,a,o,e,s){return Object(h.r)(function(){if(l&&K(i[a])===u.toLowerCase())return null;var e;switch(u){case"Array":e=h.j;break;case"Object":e=h.l;break;case"Map":e=h.k;break;default:throw new Error("Unexpected mobxType: "+u)}var t=i[a];if(e(t))return null;var n=function(e){var t=K(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(t),r=l?" or javascript `"+u.toLowerCase()+"`":"";return new Error("Invalid prop `"+s+"` of type `"+n+"` supplied to `"+o+"`, expected `mobx.Observable"+u+"`"+r+".")})})}function Z(u,c){return J(function(r,i,a,o,s){for(var l=[],e=arguments.length-5;0<e--;)l[e]=arguments[e+5];return Object(h.r)(function(){if("function"!=typeof c)return new Error("Property `"+s+"` of component `"+a+"` has invalid PropType notation.");var e=Q(u,"Array")(r,i,a);if(e instanceof Error)return e;for(var t=r[i],n=0;n<t.length;n++)if((e=c.apply(void 0,[t,n,a,o,s+"["+n+"]"].concat(l)))instanceof Error)return e;return null})})}Q(!1,"Array"),Z.bind(null,!1),Q(!1,"Map"),Q(!1,"Object"),Q(!0,"Array"),Z.bind(null,!0),Q(!0,"Object");if(!l.Component)throw new Error("mobx-react requires React to be available");if(!h.m)throw new Error("mobx-react requires mobx to be available");"function"==typeof o.unstable_batchedUpdates&&Object(h.g)({reactionScheduler:o.unstable_batchedUpdates})},mrSG:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return __extends}),n.d(t,"__assign",function(){return i}),n.d(t,"__rest",function(){return __rest}),n.d(t,"__decorate",function(){return __decorate}),n.d(t,"__param",function(){return __param}),n.d(t,"__metadata",function(){return __metadata}),n.d(t,"__awaiter",function(){return __awaiter}),n.d(t,"__generator",function(){return __generator}),n.d(t,"__exportStar",function(){return __exportStar}),n.d(t,"__values",function(){return __values}),n.d(t,"__read",function(){return __read}),n.d(t,"__spread",function(){return __spread}),n.d(t,"__spreadArrays",function(){return __spreadArrays}),n.d(t,"__await",function(){return __await}),n.d(t,"__asyncGenerator",function(){return __asyncGenerator}),n.d(t,"__asyncDelegator",function(){return __asyncDelegator}),n.d(t,"__asyncValues",function(){return __asyncValues}),n.d(t,"__makeTemplateObject",function(){return __makeTemplateObject}),n.d(t,"__importStar",function(){return __importStar}),n.d(t,"__importDefault",function(){return __importDefault});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}var i=function(){return(i=Object.assign||function __assign(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function __rest(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function __decorate(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(o=(a<3?i(o):3<a?i(t,n,o):i(t,n))||o);return 3<a&&o&&Object.defineProperty(t,n,o),o}function __param(n,r){return function(e,t){r(e,t,n)}}function __metadata(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function __awaiter(n,r,i,a){return new(i=i||Promise)(function(e,t){function fulfilled(e){try{step(a.next(e))}catch(e){t(e)}}function rejected(e){try{step(a.throw(e))}catch(e){t(e)}}function step(t){t.done?e(t.value):new i(function(e){e(t.value)}).then(fulfilled,rejected)}step((a=a.apply(n,r||[])).next())})}function __generator(n,r){var i,a,o,e,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return e={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function verb(t){return function(e){return function step(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,a&&(o=2&t[0]?a.return:t[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,t[1])).done)return o;switch(a=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,a=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){s.label=t[1];break}if(6===t[0]&&s.label<o[1]){s.label=o[1],o=t;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(t);break}o[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],a=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function __exportStar(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function __values(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function __read(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function __spread(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e}function __spreadArrays(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,a=n.apply(e,t||[]),o=[];return i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i;function verb(r){a[r]&&(i[r]=function(n){return new Promise(function(e,t){1<o.push([r,n,e,t])||resume(r,n)})})}function resume(e,t){try{!function step(e){e.value instanceof __await?Promise.resolve(e.value.v).then(fulfill,reject):settle(o[0][2],e)}(a[e](t))}catch(e){settle(o[0][3],e)}}function fulfill(e){resume("next",e)}function reject(e){resume("throw",e)}function settle(e,t){e(t),o.shift(),o.length&&resume(o[0][0],o[0][1])}}function __asyncDelegator(r){var e,i;return e={},verb("next"),verb("throw",function(e){throw e}),verb("return"),e[Symbol.iterator]=function(){return this},e;function verb(t,n){e[t]=r[t]?function(e){return(i=!i)?{value:__await(r[t](e)),done:"return"===t}:n?n(e):e}:n}}function __asyncValues(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=i[Symbol.asyncIterator];return t?t.call(i):(i=__values(i),e={},verb("next"),verb("throw"),verb("return"),e[Symbol.asyncIterator]=function(){return this},e);function verb(r){e[r]=i[r]&&function(n){return new Promise(function(e,t){(function settle(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)})(e,t,(n=i[r](n)).done,n.value)})}}}function __makeTemplateObject(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function __importStar(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function __importDefault(e){return e&&e.__esModule?e:{default:e}}},"q/0M":function(e,t,n){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function __spreadArrays(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */n.r(t),n.d(t,"LogLevel",function(){return a}),n.d(t,"Logger",function(){return s}),n.d(t,"setLogLevel",function(){return setLogLevel});var a,r,i=[];(r=a=a||{})[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT";function y_b(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString();switch(t){case a.DEBUG:case a.VERBOSE:console.log.apply(console,__spreadArrays(["["+i+"]  "+e.name+":"],n));break;case a.INFO:console.info.apply(console,__spreadArrays(["["+i+"]  "+e.name+":"],n));break;case a.WARN:console.warn.apply(console,__spreadArrays(["["+i+"]  "+e.name+":"],n));break;case a.ERROR:console.error.apply(console,__spreadArrays(["["+i+"]  "+e.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}}var o=a.INFO,s=(Object.defineProperty(Logger.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in a))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(Logger.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),Logger.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,__spreadArrays([this,a.DEBUG],e))},Logger.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,__spreadArrays([this,a.VERBOSE],e))},Logger.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,__spreadArrays([this,a.INFO],e))},Logger.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,__spreadArrays([this,a.WARN],e))},Logger.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,__spreadArrays([this,a.ERROR],e))},Logger);function Logger(e){this.name=e,this._logLevel=o,this._logHandler=y_b,i.push(this)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function setLogLevel(t){i.forEach(function(e){e.logLevel=t})}},q1tI:function(e,t,n){"use strict";e.exports=n("viRO")},sOAE:function(e,t,n){"use strict";n.r(t),n.d(t,"Node",function(){return q}),n.d(t,"Parser",function(){return I}),n.d(t,"Position",function(){return k}),n.d(t,"SourceLocation",function(){return T}),n.d(t,"TokContext",function(){return H}),n.d(t,"Token",function(){return ie}),n.d(t,"TokenType",function(){return p}),n.d(t,"defaultOptions",function(){return P}),n.d(t,"getLineInfo",function(){return getLineInfo}),n.d(t,"isIdentifierChar",function(){return isIdentifierChar}),n.d(t,"isIdentifierStart",function(){return isIdentifierStart}),n.d(t,"isNewLine",function(){return isNewLine}),n.d(t,"keywordTypes",function(){return v}),n.d(t,"lineBreak",function(){return _}),n.d(t,"lineBreakG",function(){return y}),n.d(t,"nonASCIIwhitespace",function(){return b}),n.d(t,"parse",function(){return parse}),n.d(t,"parseExpressionAt",function(){return parseExpressionAt}),n.d(t,"tokContexts",function(){return G}),n.d(t,"tokTypes",function(){return m}),n.d(t,"tokenizer",function(){return tokenizer}),n.d(t,"version",function(){return se});var o={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},r="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",s={5:r,"5module":r+" export import",6:r+" const class extends export import super"},l=/^in(stanceof)?$/,i="---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",a="--------------------------------------------------------------------------------------------------------------------------------------------------",u=new RegExp("["+i+"]"),c=new RegExp("["+i+a+"]");i=a=null;var h=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],d=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239];function isInAstralSet(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(e<(n+=t[r]))return!1;if(e<=(n+=t[r+1]))return!0}}function isIdentifierStart(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?170<=e&&u.test(String.fromCharCode(e)):!1!==t&&isInAstralSet(e,h)))}function isIdentifierChar(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?170<=e&&c.test(String.fromCharCode(e)):!1!==t&&(isInAstralSet(e,h)||isInAstralSet(e,d)))))}var p=function TokenType(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null};function binop(e,t){return new p(e,{beforeExpr:!0,binop:t})}var f={beforeExpr:!0},g={startsExpr:!0},v={};function kw(e,t){return void 0===t&&(t={}),t.keyword=e,v[e]=new p(e,t)}var m={num:new p("num",g),regexp:new p("regexp",g),string:new p("string",g),name:new p("name",g),eof:new p("eof"),bracketL:new p("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new p("]"),braceL:new p("{",{beforeExpr:!0,startsExpr:!0}),braceR:new p("}"),parenL:new p("(",{beforeExpr:!0,startsExpr:!0}),parenR:new p(")"),comma:new p(",",f),semi:new p(";",f),colon:new p(":",f),dot:new p("."),question:new p("?",f),arrow:new p("=>",f),template:new p("template"),invalidTemplate:new p("invalidTemplate"),ellipsis:new p("...",f),backQuote:new p("`",g),dollarBraceL:new p("${",{beforeExpr:!0,startsExpr:!0}),eq:new p("=",{beforeExpr:!0,isAssign:!0}),assign:new p("_=",{beforeExpr:!0,isAssign:!0}),incDec:new p("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new p("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:binop("||",1),logicalAND:binop("&&",2),bitwiseOR:binop("|",3),bitwiseXOR:binop("^",4),bitwiseAND:binop("&",5),equality:binop("==/!=/===/!==",6),relational:binop("</>/<=/>=",7),bitShift:binop("<</>>/>>>",8),plusMin:new p("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:binop("%",10),star:binop("*",10),slash:binop("/",10),starstar:new p("**",{beforeExpr:!0}),_break:kw("break"),_case:kw("case",f),_catch:kw("catch"),_continue:kw("continue"),_debugger:kw("debugger"),_default:kw("default",f),_do:kw("do",{isLoop:!0,beforeExpr:!0}),_else:kw("else",f),_finally:kw("finally"),_for:kw("for",{isLoop:!0}),_function:kw("function",g),_if:kw("if"),_return:kw("return",f),_switch:kw("switch"),_throw:kw("throw",f),_try:kw("try"),_var:kw("var"),_const:kw("const"),_while:kw("while",{isLoop:!0}),_with:kw("with"),_new:kw("new",{beforeExpr:!0,startsExpr:!0}),_this:kw("this",g),_super:kw("super",g),_class:kw("class",g),_extends:kw("extends",f),_export:kw("export"),_import:kw("import",g),_null:kw("null",g),_true:kw("true",g),_false:kw("false",g),_in:kw("in",{beforeExpr:!0,binop:7}),_instanceof:kw("instanceof",{beforeExpr:!0,binop:7}),_typeof:kw("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:kw("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:kw("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},_=/\r\n?|\n|\u2028|\u2029/,y=new RegExp(_.source,"g");function isNewLine(e,t){return 10===e||13===e||!t&&(8232===e||8233===e)}var b=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,w=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,C=Object.prototype,x=C.hasOwnProperty,S=C.toString;function has(e,t){return x.call(e,t)}var E=Array.isArray||function(e){return"[object Array]"===S.call(e)};function wordsRegexp(e){return new RegExp("^(?:"+e.replace(/ /g,"|")+")$")}var k=function Position(e,t){this.line=e,this.column=t};k.prototype.offset=function offset(e){return new k(this.line,this.column+e)};var T=function SourceLocation(e,t,n){this.start=t,this.end=n,null!==e.sourceFile&&(this.source=e.sourceFile)};function getLineInfo(e,t){for(var n=1,r=0;;){y.lastIndex=r;var i=y.exec(e);if(!(i&&i.index<t))return new k(n,t-r);++n,r=i.index+i[0].length}}var P={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function getOptions(e){var t={};for(var n in P)t[n]=e&&has(e,n)?e[n]:P[n];if(2015<=t.ecmaVersion&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),E(t.onToken)){var r=t.onToken;t.onToken=function(e){return r.push(e)}}return E(t.onComment)&&(t.onComment=function pushComment(s,l){return function(e,t,n,r,i,a){var o={type:e?"Block":"Line",value:t,start:n,end:r};s.locations&&(o.loc=new T(this,i,a)),s.ranges&&(o.range=[n,r]),l.push(o)}}(t,t.onComment)),t}function functionFlags(e,t){return 2|(e?4:0)|(t?8:0)}var I=function Parser(e,t,n){this.options=e=getOptions(e),this.sourceFile=e.sourceFile,this.keywords=wordsRegexp(s[6<=e.ecmaVersion?6:"module"===e.sourceType?"5module":5]);var r="";if(!0!==e.allowReserved){for(var i=e.ecmaVersion;!(r=o[i]);i--);"module"===e.sourceType&&(r+=" await")}this.reservedWords=wordsRegexp(r);var a=(r?r+" ":"")+o.strict;this.reservedWordsStrict=wordsRegexp(a),this.reservedWordsStrictBind=wordsRegexp(a+" "+o.strictBind),this.input=String(t),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(_).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=m.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null},O={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};I.prototype.parse=function parse(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},O.inFunction.get=function(){return 0<(2&this.currentVarScope().flags)},O.inGenerator.get=function(){return 0<(8&this.currentVarScope().flags)},O.inAsync.get=function(){return 0<(4&this.currentVarScope().flags)},O.allowSuper.get=function(){return 0<(64&this.currentThisScope().flags)},O.allowDirectSuper.get=function(){return 0<(128&this.currentThisScope().flags)},O.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},I.prototype.inNonArrowFunction=function inNonArrowFunction(){return 0<(2&this.currentThisScope().flags)},I.extend=function extend(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this,r=0;r<e.length;r++)n=e[r](n);return n},I.parse=function parse(e,t){return new this(t,e).parse()},I.parseExpressionAt=function parseExpressionAt(e,t,n){var r=new this(n,e,t);return r.nextToken(),r.parseExpression()},I.tokenizer=function tokenizer(e,t){return new this(t,e)},Object.defineProperties(I.prototype,O);var N=I.prototype,A=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)")/;function DestructuringErrors(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}N.strictDirective=function(e){for(;;){w.lastIndex=e,e+=w.exec(this.input)[0].length;var t=A.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2]))return!0;e+=t[0].length,w.lastIndex=e,e+=w.exec(this.input)[0].length,";"===this.input[e]&&e++}},N.eat=function(e){return this.type===e&&(this.next(),!0)},N.isContextual=function(e){return this.type===m.name&&this.value===e&&!this.containsEsc},N.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},N.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},N.canInsertSemicolon=function(){return this.type===m.eof||this.type===m.braceR||_.test(this.input.slice(this.lastTokEnd,this.start))},N.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},N.semicolon=function(){this.eat(m.semi)||this.insertSemicolon()||this.unexpected()},N.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},N.expect=function(e){this.eat(e)||this.unexpected()},N.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")},N.checkPatternErrors=function(e,t){if(e){-1<e.trailingComma&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;-1<n&&this.raiseRecoverable(n,"Parenthesized pattern")}},N.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return 0<=n||0<=r;0<=n&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),0<=r&&this.raiseRecoverable(r,"Redefinition of __proto__ property")},N.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},N.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var R=I.prototype;R.parseTopLevel=function(e){var t={};for(e.body||(e.body=[]);this.type!==m.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var a=i[r];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var L={kind:"loop"},M={kind:"switch"};R.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;w.lastIndex=this.pos;var t=w.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(91===r)return!0;if(e)return!1;if(123===r)return!0;if(isIdentifierStart(r,!0)){for(var i=n+1;isIdentifierChar(this.input.charCodeAt(i),!0);)++i;var a=this.input.slice(n,i);if(!l.test(a))return!0}return!1},R.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;w.lastIndex=this.pos;var e=w.exec(this.input),t=this.pos+e[0].length;return!(_.test(this.input.slice(this.pos,t))||"function"!==this.input.slice(t,t+8)||t+8!==this.input.length&&isIdentifierChar(this.input.charAt(t+8)))},R.parseStatement=function(e,t,n){var r,i=this.type,a=this.startNode();switch(this.isLet(e)&&(i=m._var,r="let"),i){case m._break:case m._continue:return this.parseBreakContinueStatement(a,i.keyword);case m._debugger:return this.parseDebuggerStatement(a);case m._do:return this.parseDoStatement(a);case m._for:return this.parseForStatement(a);case m._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&6<=this.options.ecmaVersion&&this.unexpected(),this.parseFunctionStatement(a,!1,!e);case m._class:return e&&this.unexpected(),this.parseClass(a,!0);case m._if:return this.parseIfStatement(a);case m._return:return this.parseReturnStatement(a);case m._switch:return this.parseSwitchStatement(a);case m._throw:return this.parseThrowStatement(a);case m._try:return this.parseTryStatement(a);case m._const:case m._var:return r=r||this.value,e&&"var"!==r&&this.unexpected(),this.parseVarStatement(a,r);case m._while:return this.parseWhileStatement(a);case m._with:return this.parseWithStatement(a);case m.braceL:return this.parseBlock(!0,a);case m.semi:return this.parseEmptyStatement(a);case m._export:case m._import:if(10<this.options.ecmaVersion&&i===m._import){w.lastIndex=this.pos;var o=w.exec(this.input),s=this.pos+o[0].length;if(40===this.input.charCodeAt(s))return this.parseExpressionStatement(a,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===m._import?this.parseImport(a):this.parseExport(a,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(a,!0,!e);var l=this.value,u=this.parseExpression();return i===m.name&&"Identifier"===u.type&&this.eat(m.colon)?this.parseLabeledStatement(a,l,u,e):this.parseExpressionStatement(a,u)}},R.parseBreakContinueStatement=function(e,t){var n="break"===t;this.next(),this.eat(m.semi)||this.insertSemicolon()?e.label=null:this.type!==m.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if(null==e.label||i.name===e.label.name){if(null!=i.kind&&(n||"loop"===i.kind))break;if(e.label&&n)break}}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},R.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},R.parseDoStatement=function(e){return this.next(),this.labels.push(L),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(m._while),e.test=this.parseParenExpression(),6<=this.options.ecmaVersion?this.eat(m.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},R.parseForStatement=function(e){this.next();var t=9<=this.options.ecmaVersion&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(L),this.enterScope(0),this.expect(m.parenL),this.type===m.semi)return-1<t&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===m._var||this.type===m._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===m._in||6<=this.options.ecmaVersion&&this.isContextual("of"))&&1===r.declarations.length?(9<=this.options.ecmaVersion&&(this.type===m._in?-1<t&&this.unexpected(t):e.await=-1<t),this.parseForIn(e,r)):(-1<t&&this.unexpected(t),this.parseFor(e,r))}var a=new DestructuringErrors,o=this.parseExpression(!0,a);return this.type===m._in||6<=this.options.ecmaVersion&&this.isContextual("of")?(9<=this.options.ecmaVersion&&(this.type===m._in?-1<t&&this.unexpected(t):e.await=-1<t),this.toAssignable(o,!1,a),this.checkLVal(o),this.parseForIn(e,o)):(this.checkExpressionErrors(a,!0),-1<t&&this.unexpected(t),this.parseFor(e,o))},R.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,F|(n?0:V),!1,t)},R.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(m._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},R.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(m.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},R.parseSwitchStatement=function(e){var t;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(m.braceL),this.labels.push(M),this.enterScope(0);for(var n=!1;this.type!==m.braceR;)if(this.type===m._case||this.type===m._default){var r=this.type===m._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(m.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},R.parseThrowStatement=function(e){return this.next(),_.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var D=[];R.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===m._catch){var t=this.startNode();if(this.next(),this.eat(m.parenL)){t.param=this.parseBindingAtom();var n="Identifier"===t.param.type;this.enterScope(n?32:0),this.checkLVal(t.param,n?4:2),this.expect(m.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0);t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(m._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},R.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")},R.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(L),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},R.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},R.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},R.parseLabeledStatement=function(e,t,n,r){for(var i=0,a=this.labels;i<a.length;i+=1){a[i].name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var o=this.type.isLoop?"loop":this.type===m._switch?"switch":null,s=this.labels.length-1;0<=s;s--){var l=this.labels[s];if(l.statementStart!==e.start)break;l.statementStart=this.start,l.kind=o}return this.labels.push({name:t,kind:o,statementStart:this.start}),e.body=this.parseStatement(r?-1===r.indexOf("label")?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},R.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},R.parseBlock=function(e,t){for(void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect(m.braceL),e&&this.enterScope(0);!this.eat(m.braceR);){var n=this.parseStatement(null);t.body.push(n)}return e&&this.exitScope(),this.finishNode(t,"BlockStatement")},R.parseFor=function(e,t){return e.init=t,this.expect(m.semi),e.test=this.type===m.semi?null:this.parseExpression(),this.expect(m.semi),e.update=this.type===m.parenR?null:this.parseExpression(),this.expect(m.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},R.parseForIn=function(e,t){var n=this.type===m._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!n||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)?this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"):"AssignmentPattern"===t.type&&this.raise(t.start,"Invalid left-hand side in for-loop"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(m.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")},R.parseVar=function(e,t,n){for(e.declarations=[],e.kind=n;;){var r=this.startNode();if(this.parseVarId(r,n),this.eat(m.eq)?r.init=this.parseMaybeAssign(t):"const"!==n||this.type===m._in||6<=this.options.ecmaVersion&&this.isContextual("of")?"Identifier"===r.id.type||t&&(this.type===m._in||this.isContextual("of"))?r.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(m.comma))break}return e},R.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLVal(e.id,"var"===t?1:2,!1)};var F=1,V=2;R.parseFunction=function(e,t,n,r){this.initFunction(e),(9<=this.options.ecmaVersion||6<=this.options.ecmaVersion&&!r)&&(this.type===m.star&&t&V&&this.unexpected(),e.generator=this.eat(m.star)),8<=this.options.ecmaVersion&&(e.async=!!r),t&F&&(e.id=4&t&&this.type!==m.name?null:this.parseIdent(),!e.id||t&V||this.checkLVal(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?1:2:3));var i=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(functionFlags(e.async,e.generator)),t&F||(e.id=this.type===m.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1),this.yieldPos=i,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(e,t&F?"FunctionDeclaration":"FunctionExpression")},R.parseFunctionParams=function(e){this.expect(m.parenL),e.params=this.parseBindingList(m.parenR,!1,8<=this.options.ecmaVersion),this.checkYieldAwaitInDefaultParams()},R.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.startNode(),i=!1;for(r.body=[],this.expect(m.braceL);!this.eat(m.braceR);){var a=this.parseClassElement(null!==e.superClass);a&&(r.body.push(a),"MethodDefinition"===a.type&&"constructor"===a.kind&&(i&&this.raise(a.start,"Duplicate constructor in the same class"),i=!0))}return e.body=this.finishNode(r,"ClassBody"),this.strict=n,this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},R.parseClassElement=function(e){var i=this;if(this.eat(m.semi))return null;function a5b(e,t){void 0===t&&(t=!1);var n=i.start,r=i.startLoc;return!!i.eatContextual(e)&&(!(i.type===m.parenL||t&&i.canInsertSemicolon())||(a.key&&i.unexpected(),a.computed=!1,a.key=i.startNodeAt(n,r),a.key.name=e,i.finishNode(a.key,"Identifier"),!1))}var a=this.startNode();a.kind="method",a.static=a5b("static");var t=this.eat(m.star),n=!1;t||(8<=this.options.ecmaVersion&&a5b("async",!0)?(n=!0,t=9<=this.options.ecmaVersion&&this.eat(m.star)):a5b("get")?a.kind="get":a5b("set")&&(a.kind="set")),a.key||this.parsePropertyName(a);var r=a.key,o=!1;return a.computed||a.static||!("Identifier"===r.type&&"constructor"===r.name||"Literal"===r.type&&"constructor"===r.value)?a.static&&"Identifier"===r.type&&"prototype"===r.name&&this.raise(r.start,"Classes may not have a static property named prototype"):("method"!==a.kind&&this.raise(r.start,"Constructor can't have get/set modifier"),t&&this.raise(r.start,"Constructor can't be a generator"),n&&this.raise(r.start,"Constructor can't be an async method"),a.kind="constructor",o=e),this.parseClassMethod(a,t,n,o),"get"===a.kind&&0!==a.value.params.length&&this.raiseRecoverable(a.value.start,"getter should have no params"),"set"===a.kind&&1!==a.value.params.length&&this.raiseRecoverable(a.value.start,"setter should have exactly one param"),"set"===a.kind&&"RestElement"===a.value.params[0].type&&this.raiseRecoverable(a.value.params[0].start,"Setter cannot use rest params"),a},R.parseClassMethod=function(e,t,n,r){return e.value=this.parseMethod(t,n,r),this.finishNode(e,"MethodDefinition")},R.parseClassId=function(e,t){this.type===m.name?(e.id=this.parseIdent(),t&&this.checkLVal(e.id,2,!1)):(!0===t&&this.unexpected(),e.id=null)},R.parseClassSuper=function(e){e.superClass=this.eat(m._extends)?this.parseExprSubscripts():null},R.parseExport=function(e,t){if(this.next(),this.eat(m.star))return this.expectContextual("from"),this.type!==m.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(m._default)){var n;if(this.checkExport(t,"default",this.lastTokStart),this.type===m._function||(n=this.isAsyncFunction())){var r=this.startNode();this.next(),n&&this.next(),e.declaration=this.parseFunction(r,4|F,!1,n)}else if(this.type===m._class){var i=this.startNode();e.declaration=this.parseClass(i,"nullableID")}else e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(null),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id.name,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==m.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var a=0,o=e.specifiers;a<o.length;a+=1){var s=o[a];this.checkUnreserved(s.local),this.checkLocalExport(s.local)}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},R.checkExport=function(e,t,n){e&&(has(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},R.checkPatternExport=function(e,t){var n=t.type;if("Identifier"===n)this.checkExport(e,t.name,t.start);else if("ObjectPattern"===n)for(var r=0,i=t.properties;r<i.length;r+=1){var a=i[r];this.checkPatternExport(e,a)}else if("ArrayPattern"===n)for(var o=0,s=t.elements;o<s.length;o+=1){var l=s[o];l&&this.checkPatternExport(e,l)}else"Property"===n?this.checkPatternExport(e,t.value):"AssignmentPattern"===n?this.checkPatternExport(e,t.left):"RestElement"===n?this.checkPatternExport(e,t.argument):"ParenthesizedExpression"===n&&this.checkPatternExport(e,t.expression)},R.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}},R.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},R.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(m.braceL);!this.eat(m.braceR);){if(n)n=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;var r=this.startNode();r.local=this.parseIdent(!0),r.exported=this.eatContextual("as")?this.parseIdent(!0):r.local,this.checkExport(e,r.exported.name,r.exported.start),t.push(this.finishNode(r,"ExportSpecifier"))}return t},R.parseImport=function(e){return this.next(),this.type===m.string?(e.specifiers=D,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===m.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},R.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===m.name){var n=this.startNode();if(n.local=this.parseIdent(),this.checkLVal(n.local,2),e.push(this.finishNode(n,"ImportDefaultSpecifier")),!this.eat(m.comma))return e}if(this.type===m.star){var r=this.startNode();return this.next(),this.expectContextual("as"),r.local=this.parseIdent(),this.checkLVal(r.local,2),e.push(this.finishNode(r,"ImportNamespaceSpecifier")),e}for(this.expect(m.braceL);!this.eat(m.braceR);){if(t)t=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;var i=this.startNode();i.imported=this.parseIdent(!0),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLVal(i.local,2),e.push(this.finishNode(i,"ImportSpecifier"))}return e},R.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},R.isDirectiveCandidate=function(e){return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var j=I.prototype;j.toAssignable=function(e,t,n){if(6<=this.options.ecmaVersion&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var a=i[r];this.toAssignable(a,t),"RestElement"!==a.type||"ArrayPattern"!==a.argument.type&&"ObjectPattern"!==a.argument.type||this.raise(a.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e},j.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var a=e[n-1];6===this.options.ecmaVersion&&t&&a&&"RestElement"===a.type&&"Identifier"!==a.argument.type&&this.unexpected(a.argument.start)}return e},j.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},j.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==m.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},j.parseBindingAtom=function(){if(6<=this.options.ecmaVersion)switch(this.type){case m.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(m.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case m.braceL:return this.parseObj(!0)}return this.parseIdent()},j.parseBindingList=function(e,t,n){for(var r=[],i=!0;!this.eat(e);)if(i?i=!1:this.expect(m.comma),t&&this.type===m.comma)r.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===m.ellipsis){var a=this.parseRestBinding();this.parseBindingListItem(a),r.push(a),this.type===m.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}var o=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(o),r.push(o)}return r},j.parseBindingListItem=function(e){return e},j.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(m.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")},j.checkLVal=function(e,t,n){switch(void 0===t&&(t=0),e.type){case"Identifier":2===t&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(t?"Binding ":"Assigning to ")+e.name+" in strict mode"),n&&(has(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),0!==t&&5!==t&&this.declareName(e.name,t,e.start);break;case"MemberExpression":t&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var a=i[r];this.checkLVal(a,t,n)}break;case"Property":this.checkLVal(e.value,t,n);break;case"ArrayPattern":for(var o=0,s=e.elements;o<s.length;o+=1){var l=s[o];l&&this.checkLVal(l,t,n)}break;case"AssignmentPattern":this.checkLVal(e.left,t,n);break;case"RestElement":this.checkLVal(e.argument,t,n);break;case"ParenthesizedExpression":this.checkLVal(e.expression,t,n);break;default:this.raise(e.start,(t?"Binding":"Assigning to")+" rvalue")}};var B=I.prototype;B.checkPropClash=function(e,t,n){if(!(9<=this.options.ecmaVersion&&"SpreadElement"===e.type||6<=this.options.ecmaVersion&&(e.computed||e.method||e.shorthand))){var r,i=e.key;switch(i.type){case"Identifier":r=i.name;break;case"Literal":r=String(i.value);break;default:return}var a=e.kind;if(6<=this.options.ecmaVersion)"__proto__"===r&&"init"===a&&(t.proto&&(n&&n.doubleProto<0?n.doubleProto=i.start:this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),t.proto=!0);else{var o=t[r="$"+r];if(o)("init"===a?this.strict&&o.init||o.get||o.set:o.init||o[a])&&this.raiseRecoverable(i.start,"Redefinition of property");else o=t[r]={init:!1,get:!1,set:!1};o[a]=!0}}},B.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type!==m.comma)return i;var a=this.startNodeAt(n,r);for(a.expressions=[i];this.eat(m.comma);)a.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(a,"SequenceExpression")},B.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,a=-1,o=-1;t?(i=t.parenthesizedAssign,a=t.trailingComma,o=t.shorthandAssign,t.parenthesizedAssign=t.trailingComma=t.shorthandAssign=-1):(t=new DestructuringErrors,r=!0);var s=this.start,l=this.startLoc;this.type!==m.parenL&&this.type!==m.name||(this.potentialArrowAt=this.start);var u=this.parseMaybeConditional(e,t);if(n&&(u=n.call(this,u,s,l)),this.type.isAssign){var c=this.startNodeAt(s,l);return c.operator=this.value,c.left=this.type===m.eq?this.toAssignable(u,!1,t):u,r||DestructuringErrors.call(t),t.shorthandAssign=-1,this.checkLVal(u),this.next(),c.right=this.parseMaybeAssign(e),this.finishNode(c,"AssignmentExpression")}return r&&this.checkExpressionErrors(t,!0),-1<i&&(t.parenthesizedAssign=i),-1<a&&(t.trailingComma=a),-1<o&&(t.shorthandAssign=o),u},B.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(m.question)){var a=this.startNodeAt(n,r);return a.test=i,a.consequent=this.parseMaybeAssign(),this.expect(m.colon),a.alternate=this.parseMaybeAssign(e),this.finishNode(a,"ConditionalExpression")}return i},B.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1);return this.checkExpressionErrors(t)?i:i.start===n&&"ArrowFunctionExpression"===i.type?i:this.parseExprOp(i,n,r,-1,e)},B.parseExprOp=function(e,t,n,r,i){var a=this.type.binop;if(null==a||i&&this.type===m._in||!(r<a))return e;var o=this.type===m.logicalOR||this.type===m.logicalAND,s=this.value;this.next();var l=this.start,u=this.startLoc,c=this.parseExprOp(this.parseMaybeUnary(null,!1),l,u,a,i),h=this.buildBinary(t,n,e,c,s,o);return this.parseExprOp(h,t,n,r,i)},B.buildBinary=function(e,t,n,r,i,a){var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,a?"LogicalExpression":"BinaryExpression")},B.parseMaybeUnary=function(e,t){var n,r=this.start,i=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))n=this.parseAwait(),t=!0;else if(this.type.prefix){var a=this.startNode(),o=this.type===m.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),o?this.checkLVal(a.argument):this.strict&&"delete"===a.operator&&"Identifier"===a.argument.type?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):t=!0,n=this.finishNode(a,o?"UpdateExpression":"UnaryExpression")}else{if(n=this.parseExprSubscripts(e),this.checkExpressionErrors(e))return n;for(;this.type.postfix&&!this.canInsertSemicolon();){var s=this.startNodeAt(r,i);s.operator=this.value,s.prefix=!1,s.argument=n,this.checkLVal(n),this.next(),n=this.finishNode(s,"UpdateExpression")}}return!t&&this.eat(m.starstar)?this.buildBinary(r,i,n,this.parseMaybeUnary(null,!1),"**",!1):n},B.parseExprSubscripts=function(e){var t=this.start,n=this.startLoc,r=this.parseExprAtom(e),i="ArrowFunctionExpression"===r.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd);if(this.checkExpressionErrors(e)||i)return r;var a=this.parseSubscripts(r,t,n);return e&&"MemberExpression"===a.type&&(e.parenthesizedAssign>=a.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=a.start&&(e.parenthesizedBind=-1)),a},B.parseSubscripts=function(e,t,n,r){for(var i=8<=this.options.ecmaVersion&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&"async"===this.input.slice(e.start,e.end);;){var a=this.parseSubscript(e,t,n,r,i);if(a===e||"ArrowFunctionExpression"===a.type)return a;e=a}},B.parseSubscript=function(e,t,n,r,i){var a=this.eat(m.bracketL);if(a||this.eat(m.dot)){var o=this.startNodeAt(t,n);o.object=e,o.property=a?this.parseExpression():this.parseIdent("never"!==this.options.allowReserved),o.computed=!!a,a&&this.expect(m.bracketR),e=this.finishNode(o,"MemberExpression")}else if(!r&&this.eat(m.parenL)){var s=new DestructuringErrors,l=this.yieldPos,u=this.awaitPos,c=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var h=this.parseExprList(m.parenR,8<=this.options.ecmaVersion,!1,s);if(i&&!this.canInsertSemicolon()&&this.eat(m.arrow))return this.checkPatternErrors(s,!1),this.checkYieldAwaitInDefaultParams(),0<this.awaitIdentPos&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=l,this.awaitPos=u,this.awaitIdentPos=c,this.parseArrowExpression(this.startNodeAt(t,n),h,!0);this.checkExpressionErrors(s,!0),this.yieldPos=l||this.yieldPos,this.awaitPos=u||this.awaitPos,this.awaitIdentPos=c||this.awaitIdentPos;var d=this.startNodeAt(t,n);d.callee=e,d.arguments=h,e=this.finishNode(d,"CallExpression")}else if(this.type===m.backQuote){var p=this.startNodeAt(t,n);p.tag=e,p.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(p,"TaggedTemplateExpression")}return e},B.parseExprAtom=function(e){this.type===m.slash&&this.readRegexp();var t,n=this.potentialArrowAt===this.start;switch(this.type){case m._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),t=this.startNode(),this.next(),this.type!==m.parenL||this.allowDirectSuper||this.raise(t.start,"super() call outside constructor of a subclass"),this.type!==m.dot&&this.type!==m.bracketL&&this.type!==m.parenL&&this.unexpected(),this.finishNode(t,"Super");case m._this:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case m.name:var r=this.start,i=this.startLoc,a=this.containsEsc,o=this.parseIdent(!1);if(8<=this.options.ecmaVersion&&!a&&"async"===o.name&&!this.canInsertSemicolon()&&this.eat(m._function))return this.parseFunction(this.startNodeAt(r,i),0,!1,!0);if(n&&!this.canInsertSemicolon()){if(this.eat(m.arrow))return this.parseArrowExpression(this.startNodeAt(r,i),[o],!1);if(8<=this.options.ecmaVersion&&"async"===o.name&&this.type===m.name&&!a)return o=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(m.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(r,i),[o],!0)}return o;case m.regexp:var s=this.value;return(t=this.parseLiteral(s.value)).regex={pattern:s.pattern,flags:s.flags},t;case m.num:case m.string:return this.parseLiteral(this.value);case m._null:case m._true:case m._false:return(t=this.startNode()).value=this.type===m._null?null:this.type===m._true,t.raw=this.type.keyword,this.next(),this.finishNode(t,"Literal");case m.parenL:var l=this.start,u=this.parseParenAndDistinguishExpression(n);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(u)&&(e.parenthesizedAssign=l),e.parenthesizedBind<0&&(e.parenthesizedBind=l)),u;case m.bracketL:return t=this.startNode(),this.next(),t.elements=this.parseExprList(m.bracketR,!0,!0,e),this.finishNode(t,"ArrayExpression");case m.braceL:return this.parseObj(!1,e);case m._function:return t=this.startNode(),this.next(),this.parseFunction(t,0);case m._class:return this.parseClass(this.startNode(),!1);case m._new:return this.parseNew();case m.backQuote:return this.parseTemplate();case m._import:return 11<=this.options.ecmaVersion?this.parseExprImport():this.unexpected();default:this.unexpected()}},B.parseExprImport=function(){var e=this.startNode();switch(this.next(),this.type){case m.parenL:return this.parseDynamicImport(e);default:this.unexpected()}},B.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(m.parenR)){var t=this.start;this.eat(m.comma)&&this.eat(m.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},B.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=t.raw.slice(0,-1)),this.next(),this.finishNode(t,"Literal")},B.parseParenExpression=function(){this.expect(m.parenL);var e=this.parseExpression();return this.expect(m.parenR),e},B.parseParenAndDistinguishExpression=function(e){var t,n=this.start,r=this.startLoc,i=8<=this.options.ecmaVersion;if(6<=this.options.ecmaVersion){this.next();var a,o=this.start,s=this.startLoc,l=[],u=!0,c=!1,h=new DestructuringErrors,d=this.yieldPos,p=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==m.parenR;){if(u?u=!1:this.expect(m.comma),i&&this.afterTrailingComma(m.parenR,!0)){c=!0;break}if(this.type===m.ellipsis){a=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===m.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}l.push(this.parseMaybeAssign(!1,h,this.parseParenItem))}var f=this.start,g=this.startLoc;if(this.expect(m.parenR),e&&!this.canInsertSemicolon()&&this.eat(m.arrow))return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=p,this.parseParenArrowList(n,r,l);l.length&&!c||this.unexpected(this.lastTokStart),a&&this.unexpected(a),this.checkExpressionErrors(h,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=p||this.awaitPos,1<l.length?((t=this.startNodeAt(o,s)).expressions=l,this.finishNodeAt(t,"SequenceExpression",f,g)):t=l[0]}else t=this.parseParenExpression();if(this.options.preserveParens){var v=this.startNodeAt(n,r);return v.expression=t,this.finishNode(v,"ParenthesizedExpression")}return t},B.parseParenItem=function(e){return e},B.parseParenArrowList=function(e,t,n){return this.parseArrowExpression(this.startNodeAt(e,t),n)};var z=[];B.parseNew=function(){var e=this.startNode(),t=this.parseIdent(!0);if(6<=this.options.ecmaVersion&&this.eat(m.dot)){e.meta=t;var n=this.containsEsc;return e.property=this.parseIdent(!0),"target"===e.property.name&&!n||this.raiseRecoverable(e.property.start,"The only valid meta property for new is new.target"),this.inNonArrowFunction()||this.raiseRecoverable(e.start,"new.target can only be used in functions"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc,a=this.type===m._import;return e.callee=this.parseSubscripts(this.parseExprAtom(),r,i,!0),a&&"ImportExpression"===e.callee.type&&this.raise(r,"Cannot use new with import()"),this.eat(m.parenL)?e.arguments=this.parseExprList(m.parenR,8<=this.options.ecmaVersion,!1):e.arguments=z,this.finishNode(e,"NewExpression")},B.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===m.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===m.backQuote,this.finishNode(n,"TemplateElement")},B.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===m.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(m.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(m.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")},B.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===m.name||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword||9<=this.options.ecmaVersion&&this.type===m.star)&&!_.test(this.input.slice(this.lastTokEnd,this.start))},B.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(m.braceR);){if(r)r=!1;else if(this.expect(m.comma),5<=this.options.ecmaVersion&&this.afterTrailingComma(m.braceR))break;var a=this.parseProperty(e,t);e||this.checkPropClash(a,i,t),n.properties.push(a)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},B.parseProperty=function(e,t){var n,r,i,a,o=this.startNode();if(9<=this.options.ecmaVersion&&this.eat(m.ellipsis))return e?(o.argument=this.parseIdent(!1),this.type===m.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(o,"RestElement")):(this.type===m.parenL&&t&&(t.parenthesizedAssign<0&&(t.parenthesizedAssign=this.start),t.parenthesizedBind<0&&(t.parenthesizedBind=this.start)),o.argument=this.parseMaybeAssign(!1,t),this.type===m.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(o,"SpreadElement"));6<=this.options.ecmaVersion&&(o.method=!1,o.shorthand=!1,(e||t)&&(i=this.start,a=this.startLoc),e||(n=this.eat(m.star)));var s=this.containsEsc;return this.parsePropertyName(o),!e&&!s&&8<=this.options.ecmaVersion&&!n&&this.isAsyncProp(o)?(r=!0,n=9<=this.options.ecmaVersion&&this.eat(m.star),this.parsePropertyName(o,t)):r=!1,this.parsePropertyValue(o,e,n,r,i,a,t,s),this.finishNode(o,"Property")},B.parsePropertyValue=function(e,t,n,r,i,a,o,s){if((n||r)&&this.type===m.colon&&this.unexpected(),this.eat(m.colon))e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init";else if(6<=this.options.ecmaVersion&&this.type===m.parenL)t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r);else if(t||s||!(5<=this.options.ecmaVersion)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===m.comma||this.type===m.braceR)6<=this.options.ecmaVersion&&!e.computed&&"Identifier"===e.key.type?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,a,e.key):this.type===m.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,a,e.key)):e.value=e.key,e.shorthand=!0):this.unexpected();else{(n||r)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var l="get"===e.kind?0:1;if(e.value.params.length!==l){var u=e.value.start;"get"===e.kind?this.raiseRecoverable(u,"getter should have no params"):this.raiseRecoverable(u,"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")}},B.parsePropertyName=function(e){if(6<=this.options.ecmaVersion){if(this.eat(m.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(m.bracketR),e.key;e.computed=!1}return e.key=this.type===m.num||this.type===m.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},B.initFunction=function(e){e.id=null,6<=this.options.ecmaVersion&&(e.generator=e.expression=!1),8<=this.options.ecmaVersion&&(e.async=!1)},B.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),6<=this.options.ecmaVersion&&(r.generator=e),8<=this.options.ecmaVersion&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|functionFlags(t,r.generator)|(n?128:0)),this.expect(m.parenL),r.params=this.parseBindingList(m.parenR,!1,8<=this.options.ecmaVersion),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0),this.yieldPos=i,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")},B.parseArrowExpression=function(e,t,n){var r=this.yieldPos,i=this.awaitPos,a=this.awaitIdentPos;return this.enterScope(16|functionFlags(n,!1)),this.initFunction(e),8<=this.options.ecmaVersion&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1),this.yieldPos=r,this.awaitPos=i,this.awaitIdentPos=a,this.finishNode(e,"ArrowFunctionExpression")},B.parseFunctionBody=function(e,t,n){var r=t&&this.type!==m.braceL,i=this.strict,a=!1;if(r)e.body=this.parseMaybeAssign(),e.expression=!0,this.checkParams(e,!1);else{var o=7<=this.options.ecmaVersion&&!this.isSimpleParamList(e.params);i&&!o||(a=this.strictDirective(this.end))&&o&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var s=this.labels;this.labels=[],a&&(this.strict=!0),this.checkParams(e,!i&&!a&&!t&&!n&&this.isSimpleParamList(e.params)),e.body=this.parseBlock(!1),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=s}this.exitScope(),this.strict&&e.id&&this.checkLVal(e.id,5),this.strict=i},B.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){if("Identifier"!==n[t].type)return!1}return!0},B.checkParams=function(e,t){for(var n={},r=0,i=e.params;r<i.length;r+=1){var a=i[r];this.checkLVal(a,1,t?null:n)}},B.parseExprList=function(e,t,n,r){for(var i=[],a=!0;!this.eat(e);){if(a)a=!1;else if(this.expect(m.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===m.comma?o=null:this.type===m.ellipsis?(o=this.parseSpread(r),r&&this.type===m.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i},B.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;this.inGenerator&&"yield"===r&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===r&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(t,n).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(r)&&(this.inAsync||"await"!==r||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))},B.parseIdent=function(e,t){var n=this.startNode();return this.type===m.name?n.name=this.value:this.type.keyword?(n.name=this.type.keyword,"class"!==n.name&&"function"!==n.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(),this.finishNode(n,"Identifier"),e||(this.checkUnreserved(n),"await"!==n.name||this.awaitIdentPos||(this.awaitIdentPos=n.start)),n},B.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===m.semi||this.canInsertSemicolon()||this.type!==m.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(m.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},B.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0),this.finishNode(e,"AwaitExpression")};var U=I.prototype;U.raise=function(e,t){var n=getLineInfo(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r},U.raiseRecoverable=U.raise,U.curPosition=function(){if(this.options.locations)return new k(this.curLine,this.pos-this.lineStart)};function k1b(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[]}var W=I.prototype;W.enterScope=function(e){this.scopeStack.push(new k1b(e))},W.exitScope=function(){this.scopeStack.pop()},W.treatFunctionsAsVarInScope=function(e){return 2&e.flags||!this.inModule&&1&e.flags},W.declareName=function(e,t,n){var r=!1;if(2===t){var i=this.currentScope();r=-1<i.lexical.indexOf(e)||-1<i.functions.indexOf(e)||-1<i.var.indexOf(e),i.lexical.push(e),this.inModule&&1&i.flags&&delete this.undefinedExports[e]}else if(4===t){this.currentScope().lexical.push(e)}else if(3===t){var a=this.currentScope();r=this.treatFunctionsAsVar?-1<a.lexical.indexOf(e):-1<a.lexical.indexOf(e)||-1<a.var.indexOf(e),a.functions.push(e)}else for(var o=this.scopeStack.length-1;0<=o;--o){var s=this.scopeStack[o];if(-1<s.lexical.indexOf(e)&&!(32&s.flags&&s.lexical[0]===e)||!this.treatFunctionsAsVarInScope(s)&&-1<s.functions.indexOf(e)){r=!0;break}if(s.var.push(e),this.inModule&&1&s.flags&&delete this.undefinedExports[e],3&s.flags)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")},W.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0].var.indexOf(e.name)&&(this.undefinedExports[e.name]=e)},W.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},W.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(3&t.flags)return t}},W.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(3&t.flags&&!(16&t.flags))return t}};var q=function Node(e,t,n){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new T(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},Q=I.prototype;function finishNodeAt(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}Q.startNode=function(){return new q(this,this.start,this.startLoc)},Q.startNodeAt=function(e,t){return new q(this,e,t)},Q.finishNode=function(e,t){return finishNodeAt.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},Q.finishNodeAt=function(e,t,n,r){return finishNodeAt.call(this,e,t,n,r)};var H=function TokContext(e,t,n,r,i){this.token=e,this.isExpr=!!t,this.preserveSpace=!!n,this.override=r,this.generator=!!i},G={b_stat:new H("{",!1),b_expr:new H("{",!0),b_tmpl:new H("${",!1),p_stat:new H("(",!1),p_expr:new H("(",!0),q_tmpl:new H("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new H("function",!1),f_expr:new H("function",!0),f_expr_gen:new H("function",!0,!1,null,!0),f_gen:new H("function",!1,!1,null,!0)},K=I.prototype;K.initialContext=function(){return[G.b_stat]},K.braceIsBlock=function(e){var t=this.curContext();return t===G.f_expr||t===G.f_stat||(e!==m.colon||t!==G.b_stat&&t!==G.b_expr?e===m._return||e===m.name&&this.exprAllowed?_.test(this.input.slice(this.lastTokEnd,this.start)):e===m._else||e===m.semi||e===m.eof||e===m.parenR||e===m.arrow||(e===m.braceL?t===G.b_stat:e!==m._var&&e!==m._const&&e!==m.name&&!this.exprAllowed):!t.isExpr)},K.inGeneratorContext=function(){for(var e=this.context.length-1;1<=e;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},K.updateContext=function(e){var t,n=this.type;n.keyword&&e===m.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},m.parenR.updateContext=m.braceR.updateContext=function(){if(1!==this.context.length){var e=this.context.pop();e===G.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr}else this.exprAllowed=!0},m.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?G.b_stat:G.b_expr),this.exprAllowed=!0},m.dollarBraceL.updateContext=function(){this.context.push(G.b_tmpl),this.exprAllowed=!0},m.parenL.updateContext=function(e){var t=e===m._if||e===m._for||e===m._with||e===m._while;this.context.push(t?G.p_stat:G.p_expr),this.exprAllowed=!0},m.incDec.updateContext=function(){},m._function.updateContext=m._class.updateContext=function(e){!e.beforeExpr||e===m.semi||e===m._else||e===m._return&&_.test(this.input.slice(this.lastTokEnd,this.start))||(e===m.colon||e===m.braceL)&&this.curContext()===G.b_stat?this.context.push(G.f_stat):this.context.push(G.f_expr),this.exprAllowed=!1},m.backQuote.updateContext=function(){this.curContext()===G.q_tmpl?this.context.pop():this.context.push(G.q_tmpl),this.exprAllowed=!1},m.star.updateContext=function(e){if(e===m._function){var t=this.context.length-1;this.context[t]===G.f_expr?this.context[t]=G.f_expr_gen:this.context[t]=G.f_gen}this.exprAllowed=!0},m.name.updateContext=function(e){var t=!1;6<=this.options.ecmaVersion&&e!==m.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var $="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Y=$+" Extended_Pictographic",J={9:$,10:Y,11:"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS Extended_Pictographic"},Z="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",X="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ee=X+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",te={9:X,10:ee,11:"Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho"},ne={};function buildUnicodeData(e){var t=ne[e]={binary:wordsRegexp(J[e]+" "+Z),nonBinary:{General_Category:wordsRegexp(Z),Script:wordsRegexp(te[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}buildUnicodeData(9),buildUnicodeData(10),buildUnicodeData(11);function B1b(e){this.parser=e,this.validFlags="gim"+(6<=e.options.ecmaVersion?"uy":"")+(9<=e.options.ecmaVersion?"s":""),this.unicodeProperties=ne[11<=e.options.ecmaVersion?11:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]}var re=I.prototype;function codePointToString(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function isSyntaxCharacter(e){return 36===e||40<=e&&e<=43||46===e||63===e||91<=e&&e<=94||123<=e&&e<=125}function isControlLetter(e){return 65<=e&&e<=90||97<=e&&e<=122}function isUnicodePropertyNameCharacter(e){return isControlLetter(e)||95===e}function isDecimalDigit(e){return 48<=e&&e<=57}function isHexDigit(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function hexToInt(e){return 65<=e&&e<=70?e-65+10:97<=e&&e<=102?e-97+10:e-48}function isOctalDigit(e){return 48<=e&&e<=55}B1b.prototype.reset=function reset(e,t,n){var r=-1!==n.indexOf("u");this.start=0|e,this.source=t+"",this.flags=n,this.switchU=r&&6<=this.parser.options.ecmaVersion,this.switchN=r&&9<=this.parser.options.ecmaVersion},B1b.prototype.raise=function raise(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},B1b.prototype.at=function at(e){var t=this.source,n=t.length;if(n<=e)return-1;var r=t.charCodeAt(e);return!this.switchU||r<=55295||57344<=r||n<=e+1?r:(r<<10)+t.charCodeAt(e+1)-56613888},B1b.prototype.nextIndex=function nextIndex(e){var t=this.source,n=t.length;if(n<=e)return n;var r=t.charCodeAt(e);return!this.switchU||r<=55295||57344<=r||n<=e+1?e+1:e+2},B1b.prototype.current=function current(){return this.at(this.pos)},B1b.prototype.lookahead=function lookahead(){return this.at(this.nextIndex(this.pos))},B1b.prototype.advance=function advance(){this.pos=this.nextIndex(this.pos)},B1b.prototype.eat=function eat(e){return this.current()===e&&(this.advance(),!0)},re.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=0;r<n.length;r++){var i=n.charAt(r);-1===t.indexOf(i)&&this.raise(e.start,"Invalid regular expression flag"),-1<n.indexOf(i,r+1)&&this.raise(e.start,"Duplicate regular expression flag")}},re.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&9<=this.options.ecmaVersion&&0<e.groupNames.length&&(e.switchN=!0,this.regexp_pattern(e))},re.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];-1===e.groupNames.indexOf(r)&&e.raise("Invalid named capture referenced")}},re.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},re.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},re.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!(e.switchU?!this.regexp_eatAtom(e):!this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},re.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(9<=this.options.ecmaVersion&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1},re.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},re.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},re.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return-1!==i&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1},re.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},re.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},re.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},re.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(9<=this.options.ecmaVersion?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},re.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},re.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},re.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!isSyntaxCharacter(t)&&(e.lastIntValue=t,e.advance(),!0)},re.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;-1!==(n=e.current())&&!isSyntaxCharacter(n);)e.advance();return e.pos!==t},re.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return!(-1===t||36===t||40<=t&&t<=43||46===t||63===t||91===t||94===t||124===t)&&(e.advance(),!0)},re.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e))return-1!==e.groupNames.indexOf(e.lastStringValue)&&e.raise("Duplicate capture group name"),void e.groupNames.push(e.lastStringValue);e.raise("Invalid group")}},re.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},re.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=codePointToString(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=codePointToString(e.lastIntValue);return!0}return!1},re.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=e.current();return e.advance(),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(e)&&(n=e.lastIntValue),function isRegExpIdentifierStart(e){return isIdentifierStart(e,!0)||36===e||95===e}(n)?(e.lastIntValue=n,!0):(e.pos=t,!1)},re.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=e.current();return e.advance(),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(e)&&(n=e.lastIntValue),function isRegExpIdentifierPart(e){return isIdentifierChar(e,!0)||36===e||95===e||8204===e||8205===e}(n)?(e.lastIntValue=n,!0):(e.pos=t,!1)},re.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},re.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1},re.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},re.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},re.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},re.regexp_eatZero=function(e){return 48===e.current()&&!isDecimalDigit(e.lookahead())&&(e.lastIntValue=0,e.advance(),!0)},re.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},re.regexp_eatControlLetter=function(e){var t=e.current();return!!isControlLetter(t)&&(e.lastIntValue=t%32,e.advance(),!0)},re.regexp_eatRegExpUnicodeEscapeSequence=function(e){var t=e.pos;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var n=e.lastIntValue;if(e.switchU&&55296<=n&&n<=56319){var r=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(56320<=i&&i<=57343)return e.lastIntValue=1024*(n-55296)+(i-56320)+65536,!0}e.pos=r,e.lastIntValue=n}return!0}if(e.switchU&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&function isValidUnicode(e){return 0<=e&&e<=1114111}(e.lastIntValue))return!0;e.switchU&&e.raise("Invalid unicode escape"),e.pos=t}return!1},re.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return!(99===t||e.switchN&&107===t)&&(e.lastIntValue=t,e.advance(),!0)},re.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(49<=t&&t<=57){for(;e.lastIntValue=10*e.lastIntValue+(t-48),e.advance(),48<=(t=e.current())&&t<=57;);return!0}return!1},re.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(function isCharacterClassEscape(e){return 100===e||68===e||115===e||83===e||119===e||87===e}(t))return e.lastIntValue=-1,e.advance(),!0;if(e.switchU&&9<=this.options.ecmaVersion&&(80===t||112===t)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(e)&&e.eat(125))return!0;e.raise("Invalid property name")}return!1},re.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),!0}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i),!0}return!1},re.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){has(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")},re.regexp_validateUnicodePropertyNameOrValue=function(e,t){e.unicodeProperties.binary.test(t)||e.raise("Invalid property name")},re.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";isUnicodePropertyNameCharacter(t=e.current());)e.lastStringValue+=codePointToString(t),e.advance();return""!==e.lastStringValue},re.regexp_eatUnicodePropertyValue=function(e){var t,n=0;for(e.lastStringValue="";isUnicodePropertyNameCharacter(t=n=e.current())||isDecimalDigit(t);)e.lastStringValue+=codePointToString(n),e.advance();return""!==e.lastStringValue},re.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},re.regexp_eatCharacterClass=function(e){if(e.eat(91)){if(e.eat(94),this.regexp_classRanges(e),e.eat(93))return!0;e.raise("Unterminated character class")}return!1},re.regexp_classRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;!e.switchU||-1!==t&&-1!==n||e.raise("Invalid character class"),-1!==t&&-1!==n&&n<t&&e.raise("Range out of order in character class")}}},re.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();99!==n&&!isOctalDigit(n)||e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return 93!==r&&(e.lastIntValue=r,e.advance(),!0)},re.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},re.regexp_eatClassControlLetter=function(e){var t=e.current();return!(!isDecimalDigit(t)&&95!==t)&&(e.lastIntValue=t%32,e.advance(),!0)},re.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},re.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;isDecimalDigit(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t},re.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;isHexDigit(n=e.current());)e.lastIntValue=16*e.lastIntValue+hexToInt(n),e.advance();return e.pos!==t},re.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=64*t+8*n+e.lastIntValue:e.lastIntValue=8*t+n}else e.lastIntValue=t;return!0}return!1},re.regexp_eatOctalDigit=function(e){var t=e.current();return isOctalDigit(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},re.regexp_eatFixedHexDigits=function(e,t){for(var n=e.pos,r=e.lastIntValue=0;r<t;++r){var i=e.current();if(!isHexDigit(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+hexToInt(i),e.advance()}return!0};var ie=function Token(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new T(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},ae=I.prototype;function codePointToString$1(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}ae.next=function(){this.options.onToken&&this.options.onToken(new ie(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},ae.getToken=function(){return this.next(),new ie(this)},"undefined"!=typeof Symbol&&(ae[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===m.eof,value:e}}}}),ae.curContext=function(){return this.context[this.context.length-1]},ae.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(m.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},ae.readToken=function(e){return isIdentifierStart(e,6<=this.options.ecmaVersion)||92===e?this.readWord():this.getTokenFromCode(e)},ae.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);return e<=55295||57344<=e?e:(e<<10)+this.input.charCodeAt(this.pos+1)-56613888},ae.skipBlockComment=function(){var e,t=this.options.onComment&&this.curPosition(),n=this.pos,r=this.input.indexOf("*/",this.pos+=2);if(-1===r&&this.raise(this.pos-2,"Unterminated comment"),this.pos=r+2,this.options.locations)for(y.lastIndex=n;(e=y.exec(this.input))&&e.index<this.pos;)++this.curLine,this.lineStart=e.index+e[0].length;this.options.onComment&&this.options.onComment(!0,this.input.slice(n+2,r),n,this.pos,t,this.curPosition())},ae.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!isNewLine(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},ae.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(8<e&&e<14||5760<=e&&b.test(String.fromCharCode(e))))break e;++this.pos}}},ae.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},ae.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(48<=e&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return 6<=this.options.ecmaVersion&&46===e&&46===t?(this.pos+=3,this.finishToken(m.ellipsis)):(++this.pos,this.finishToken(m.dot))},ae.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(m.assign,2):this.finishOp(m.slash,1)},ae.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=42===e?m.star:m.modulo;return 7<=this.options.ecmaVersion&&42===e&&42===t&&(++n,r=m.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(m.assign,n+1):this.finishOp(r,n)},ae.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?this.finishOp(124===e?m.logicalOR:m.logicalAND,2):61===t?this.finishOp(m.assign,2):this.finishOp(124===e?m.bitwiseOR:m.bitwiseAND,1)},ae.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(m.assign,2):this.finishOp(m.bitwiseXOR,1)},ae.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45!==t||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!_.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(m.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===t?this.finishOp(m.assign,2):this.finishOp(m.plusMin,1)},ae.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(m.assign,n+1):this.finishOp(m.bitShift,n)):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(n=2),this.finishOp(m.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},ae.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(m.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&6<=this.options.ecmaVersion?(this.pos+=2,this.finishToken(m.arrow)):this.finishOp(61===e?m.eq:m.prefix,1)},ae.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(m.parenL);case 41:return++this.pos,this.finishToken(m.parenR);case 59:return++this.pos,this.finishToken(m.semi);case 44:return++this.pos,this.finishToken(m.comma);case 91:return++this.pos,this.finishToken(m.bracketL);case 93:return++this.pos,this.finishToken(m.bracketR);case 123:return++this.pos,this.finishToken(m.braceL);case 125:return++this.pos,this.finishToken(m.braceR);case 58:return++this.pos,this.finishToken(m.colon);case 63:return++this.pos,this.finishToken(m.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(m.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(6<=this.options.ecmaVersion){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 126:return this.finishOp(m.prefix,1)}this.raise(this.pos,"Unexpected character '"+codePointToString$1(e)+"'")},ae.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)},ae.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(_.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if("["===r)t=!0;else if("]"===r&&t)t=!1;else if("/"===r&&!t)break;e="\\"===r}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var a=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(a);var s=this.regexpState||(this.regexpState=new B1b(this));s.reset(n,i,o),this.validateRegExpFlags(s),this.validateRegExpPattern(s);var l=null;try{l=new RegExp(i,o)}catch(e){}return this.finishToken(m.regexp,{pattern:i,flags:o,value:l})},ae.readInt=function(e,t){for(var n=this.pos,r=0,i=0,a=null==t?1/0:t;i<a;++i){var o=this.input.charCodeAt(this.pos),s=void 0;if(e<=(s=97<=o?o-97+10:65<=o?o-65+10:48<=o&&o<=57?o-48:1/0))break;++this.pos,r=r*e+s}return this.pos===n||null!=t&&this.pos-n!==t?null:r},ae.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return null==n&&this.raise(this.start+2,"Expected number in radix "+e),11<=this.options.ecmaVersion&&110===this.input.charCodeAt(this.pos)?(n="undefined"!=typeof BigInt?BigInt(this.input.slice(t,this.pos)):null,++this.pos):isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,n)},ae.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10)||this.raise(t,"Invalid number");var n=2<=this.pos-t&&48===this.input.charCodeAt(t);n&&this.strict&&this.raise(t,"Invalid number"),n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1);var r=this.input.charCodeAt(this.pos);if(!n&&!e&&11<=this.options.ecmaVersion&&110===r){var i=this.input.slice(t,this.pos),a="undefined"!=typeof BigInt?BigInt(i):null;return++this.pos,isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,a)}46!==r||n||(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),69!==r&&101!==r||n||(43!==(r=this.input.charCodeAt(++this.pos))&&45!==r||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var o=this.input.slice(t,this.pos),s=n?parseInt(o,8):parseFloat(o);return this.finishToken(m.num,s)},ae.readCodePoint=function(){var e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,1114111<e&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e},ae.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;92===r?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):(isNewLine(r,10<=this.options.ecmaVersion)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(m.string,t)};var oe={};ae.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e!==oe)throw e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},ae.invalidStringToken=function(e,t){if(this.inTemplateElement&&9<=this.options.ecmaVersion)throw oe;this.raise(e,t)},ae.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==m.template&&this.type!==m.invalidTemplate?(e+=this.input.slice(t,this.pos),this.finishToken(m.template,e)):36===n?(this.pos+=2,this.finishToken(m.dollarBraceL)):(++this.pos,this.finishToken(m.backQuote));if(92===n)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(isNewLine(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(n)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},ae.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(m.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},ae.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return codePointToString$1(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(48<=t&&t<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(n,8);return 255<r&&(n=n.slice(0,-1),r=parseInt(n,8)),this.pos+=n.length-1,t=this.input.charCodeAt(this.pos),"0"===n&&56!==t&&57!==t||!this.strict&&!e||this.invalidStringToken(this.pos-1-n.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return isNewLine(t)?"":String.fromCharCode(t)}},ae.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return null===n&&this.invalidStringToken(t,"Bad character escape sequence"),n},ae.readWord1=function(){for(var e="",t=!(this.containsEsc=!1),n=this.pos,r=6<=this.options.ecmaVersion;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(isIdentifierChar(i,r))this.pos+=i<=65535?1:2;else{if(92!==i)break;this.containsEsc=!0,e+=this.input.slice(n,this.pos);var a=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?isIdentifierStart:isIdentifierChar)(o,r)||this.invalidStringToken(a,"Invalid Unicode escape"),e+=codePointToString$1(o),n=this.pos}t=!1}return e+this.input.slice(n,this.pos)},ae.readWord=function(){var e=this.readWord1(),t=m.name;return this.keywords.test(e)&&(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+e),t=v[e]),this.finishToken(t,e)};var se="7.1.0";function parse(e,t){return I.parse(e,t)}function parseExpressionAt(e,t,n){return I.parseExpressionAt(e,t,n)}function tokenizer(e,t){return I.tokenizer(e,t)}I.acorn={Parser:I,version:se,defaultOptions:P,Position:k,SourceLocation:T,getLineInfo:getLineInfo,Node:q,TokenType:p,tokTypes:m,keywordTypes:v,TokContext:H,tokContexts:G,isIdentifierChar:isIdentifierChar,isIdentifierStart:isIdentifierStart,Token:ie,isNewLine:isNewLine,lineBreak:_,lineBreakG:y,nonASCIIwhitespace:b}},viRO:function(e,t,n){"use strict";
/** @license React v16.12.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c=n("MgzW"),r="function"==typeof Symbol&&Symbol.for,h=r?Symbol.for("react.element"):60103,l=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,o=r?Symbol.for("react.profiler"):60114,s=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113;r&&Symbol.for("react.suspense_list");var f=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116;r&&Symbol.for("react.fundamental"),r&&Symbol.for("react.responder"),r&&Symbol.for("react.scope");var v="function"==typeof Symbol&&Symbol.iterator;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function E(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||m}function F(){}function G(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||m}E.prototype.isReactComponent={},E.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(B(85));this.updater.enqueueSetState(this,e,t,"setState")},E.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},F.prototype=E.prototype;var y=G.prototype=new F;y.constructor=G,c(y,E.prototype),y.isPureReactComponent=!0;var b={current:null},w={current:null},C=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,n){var r,i={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,r)&&!x.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:h,type:e,key:a,ref:o,props:i,_owner:w.current}}function N(e){return"object"==typeof e&&null!==e&&e.$$typeof===h}var k=/\/+/g,P=[];function Q(e,t,n,r){if(P.length){var i=P.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function R(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,P.length<10&&P.push(e)}function U(e,t,n){return null==e?0:function S(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var a=!1;if(null===e)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case h:case l:a=!0}}if(a)return n(r,e,""===t?"."+T(e,0):t),1;if(a=0,t=""===t?".":t+":",Array.isArray(e))for(var o=0;o<e.length;o++){var s=t+T(i=e[o],o);a+=S(i,s,n,r)}else if("function"==typeof(s=null===e||"object"!=typeof e?null:"function"==typeof(s=v&&e[v]||e["@@iterator"])?s:null))for(e=s.call(e),o=0;!(i=e.next()).done;)a+=S(i=i.value,s=t+T(i,o++),n,r);else if("object"===i)throw n=""+e,Error(B(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return a}(e,"",t,n)}function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function escape(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function ca(e,t){e.func.call(e.context,t,e.count++)}function da(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?V(e,r,n,function(e){return e}):null!=e&&(N(e)&&(e=function ba(e,t){return{$$typeof:h,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(k,"$&/")+"/")+n)),r.push(e))}function V(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(k,"$&/")+"/"),U(e,da,t=Q(t,a,r,i)),R(t)}function W(){var e=b.current;if(null===e)throw Error(B(321));return e}var I={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return V(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;U(e,ca,t=Q(null,null,t,n)),R(t)},count:function(e){return U(e,function(){return null},null)},toArray:function(e){var t=[];return V(e,t,null,function(e){return e}),t},only:function(e){if(!N(e))throw Error(B(143));return e}},createRef:function(){return{current:null}},Component:E,PureComponent:G,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:d,render:e}},lazy:function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return W().useCallback(e,t)},useContext:function(e,t){return W().useContext(e,t)},useEffect:function(e,t){return W().useEffect(e,t)},useImperativeHandle:function(e,t,n){return W().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return W().useLayoutEffect(e,t)},useMemo:function(e,t){return W().useMemo(e,t)},useReducer:function(e,t,n){return W().useReducer(e,t,n)},useRef:function(e){return W().useRef(e)},useState:function(e){return W().useState(e)},Fragment:i,Profiler:o,StrictMode:a,Suspense:p,createElement:M,cloneElement:function(e,t,n){if(null==e)throw Error(B(267,e));var r=c({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=w.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)C.call(t,l)&&!x.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:h,type:e.type,key:i,ref:a,props:r,_owner:o}},createFactory:function(e){var t=M.bind(null,e);return t.type=e,t},isValidElement:N,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:b,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:c}},O=I;e.exports=O.default||O},wj3C:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,d=n("mrSG"),p=n("zVF4"),u=n("S+S0"),i=n("q/0M"),a=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),f=new p.ErrorFactory("app","Firebase",a),o="[DEFAULT]",g=new i.Logger("@firebase/app"),s=(Object.defineProperty(FirebaseAppImpl.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(FirebaseAppImpl.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(FirebaseAppImpl.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),FirebaseAppImpl.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(e){return e.delete()}))}).then(function(){t.isDeleted_=!0})},FirebaseAppImpl.prototype._getService=function(e,t){return void 0===t&&(t=o),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},FirebaseAppImpl.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=o),this.container.getProvider(e).clearInstance(t)},FirebaseAppImpl.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){g.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},FirebaseAppImpl.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},FirebaseAppImpl.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw f.create("app-deleted",{appName:this.name_})},FirebaseAppImpl);function FirebaseAppImpl(e,t,n){var r,i,a=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=p.deepCopy(e),this.container=new u.ComponentContainer(t.name),this._addComponent(new u.Component("app",function(){return a},"PUBLIC"));try{for(var o=d.__values(this.firebase_.INTERNAL.components.values()),s=o.next();!s.done;s=o.next()){var l=s.value;this._addComponent(l)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}}s.prototype.name&&s.prototype.options||s.prototype.delete||console.log("dc");var v="7.5.1";
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createFirebaseNamespaceCore(l){var u={},c=new Map,h={__esModule:!0,initializeApp:function initializeApp(e,t){void 0===t&&(t={});if("object"!=typeof t||null===t){t={name:t}}var n=t;void 0===n.name&&(n.name=o);var r=n.name;if("string"!=typeof r||!r)throw f.create("bad-app-name",{appName:String(r)});if(p.contains(u,r))throw f.create("duplicate-app",{appName:r});var i=new l(e,n,h);return u[r]=i},app:app,apps:null,SDK_VERSION:v,INTERNAL:{registerComponent:function registerComponent(n){var t,e,r=n.name;if(c.has(r))return g.debug("There were multiple attempts to register component "+r+"."),"PUBLIC"===n.type?h[r]:null;if(c.set(r,n),"PUBLIC"===n.type){var i=function(e){if(void 0===e&&(e=app()),"function"!=typeof e[r])throw f.create("invalid-app-argument",{appName:r});return e[r]()};void 0!==n.serviceProps&&p.deepExtend(i,n.serviceProps),h[r]=i,l.prototype[r]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,r).apply(this,n.multipleInstances?e:[])}}try{for(var a=d.__values(Object.keys(u)),o=a.next();!o.done;o=a.next()){var s=o.value;u[s]._addComponent(n)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return"PUBLIC"===n.type?h[r]:null},removeApp:function removeApp(e){delete u[e]},components:c,useAsService:function useAsService(e,t){return"serverAuth"!==t?t:null}}};function app(e){if(e=e||o,!p.contains(u,e))throw f.create("no-app",{appName:e});return u[e]}return h.default=h,Object.defineProperty(h,"apps",{get:function getApps(){return Object.keys(u).map(function(e){return u[e]})}}),app.App=l,h}
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l=function createFirebaseNamespace(){var t=createFirebaseNamespaceCore(s);return t.INTERNAL=d.__assign(d.__assign({},t.INTERNAL),{createFirebaseNamespace:createFirebaseNamespace,extendNamespace:function extendNamespace(e){p.deepExtend(t,e)},createSubscribe:p.createSubscribe,ErrorFactory:p.ErrorFactory,deepExtend:p.deepExtend}),t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(p.isBrowser()&&void 0!==self.firebase){g.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var c=self.firebase.SDK_VERSION;c&&0<=c.indexOf("LITE")&&g.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var h=l.initializeApp;l.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return p.isNode()&&g.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),h.apply(void 0,e)};var m=l;t.default=m,t.firebase=m},yLpj:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},yl30:function(t,n,r){"use strict";
/** @license React v16.12.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=r("q1tI"),v=r("MgzW"),a=r("QCnb");function u(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(u(227));var p=null,_={};function da(){if(p)for(var e in _){var t=_[e],n=p.indexOf(e);if(!(-1<n))throw Error(u(96,e));if(!w[n]){if(!t.extractEvents)throw Error(u(97,e));for(var r in n=(w[n]=t).eventTypes){var i=void 0,a=n[r],o=t,s=r;if(x.hasOwnProperty(s))throw Error(u(99,s));var l=(x[s]=a).phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&ha(l[i],o,s);i=!0}else i=!!a.registrationName&&(ha(a.registrationName,o,s),!0);if(!i)throw Error(u(98,r,e))}}}}function ha(e,t,n){if(S[e])throw Error(u(100,e));S[e]=t,s[e]=t.eventTypes[n].dependencies}var w=[],x={},S={},s={};var T=!1,P=null,O=!1,N=null,A={onError:function(e){T=!0,P=e}};function qa(e,t,n,r,i,a,o,s,l){T=!1,P=null,function ka(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}.apply(A,arguments)}var o=null,M=null,D=null;function wa(e,t,n){var r=e.type||"unknown-event";e.currentTarget=D(n),function ra(e,t,n,r,i,a,o,s,l){if(qa.apply(this,arguments),T){if(!T)throw Error(u(198));var c=P;T=!1,P=null,O||(O=!0,N=c)}}(r,t,void 0,e),e.currentTarget=null}function xa(e,t){if(null==t)throw Error(u(30));return null==e?t:Array.isArray(e)?(Array.isArray(t)?e.push.apply(e,t):e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ya(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var V=null;function Aa(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)wa(e,t[r],n[r]);else t&&wa(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function Ba(e){if(null!==e&&(V=xa(V,e)),e=V,V=null,e){if(ya(e,Aa),V)throw Error(u(95));if(O)throw e=N,O=!1,N=null,e}}var j={injectEventPluginOrder:function(e){if(p)throw Error(u(101));p=Array.prototype.slice.call(e),da()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!_.hasOwnProperty(t)||_[t]!==r){if(_[t])throw Error(u(102,t));_[t]=r,n=!0}}n&&da()}};function Da(e,t){var n=e.stateNode;if(!n)return null;var r=o(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(u(231,t,typeof n));return n}var z=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;z.hasOwnProperty("ReactCurrentDispatcher")||(z.ReactCurrentDispatcher={current:null}),z.hasOwnProperty("ReactCurrentBatchConfig")||(z.ReactCurrentBatchConfig={suspense:null});var U=/^(.*)[\\\/]/,W="function"==typeof Symbol&&Symbol.for,q=W?Symbol.for("react.element"):60103,K=W?Symbol.for("react.portal"):60106,$=W?Symbol.for("react.fragment"):60107,Y=W?Symbol.for("react.strict_mode"):60108,J=W?Symbol.for("react.profiler"):60114,X=W?Symbol.for("react.provider"):60109,ee=W?Symbol.for("react.context"):60110,te=W?Symbol.for("react.concurrent_mode"):60111,ie=W?Symbol.for("react.forward_ref"):60112,le=W?Symbol.for("react.suspense"):60113,ue=W?Symbol.for("react.suspense_list"):60120,he=W?Symbol.for("react.memo"):60115,pe=W?Symbol.for("react.lazy"):60116;W&&Symbol.for("react.fundamental"),W&&Symbol.for("react.responder"),W&&Symbol.for("react.scope");var ve="function"==typeof Symbol&&Symbol.iterator;function Ua(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=ve&&e[ve]||e["@@iterator"])?e:null}function Wa(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case $:return"Fragment";case K:return"Portal";case J:return"Profiler";case Y:return"StrictMode";case le:return"Suspense";case ue:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ee:return"Context.Consumer";case X:return"Context.Provider";case ie:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case he:return Wa(e.type);case pe:if(e=1===e._status?e._result:null)return Wa(e)}return null}function Xa(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=Wa(e.type);n=null,r&&(n=Wa(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(U,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}var me=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),_e=null,we=null,Se=null;function bb(e){if(e=M(e)){if("function"!=typeof _e)throw Error(u(280));var t=o(e.stateNode);_e(e.stateNode,e.type,t)}}function cb(e){we?Se?Se.push(e):Se=[e]:we=e}function db(){if(we){var e=we,t=Se;if(Se=we=null,bb(e),t)for(e=0;e<t.length;e++)bb(t[e])}}function eb(e,t){return e(t)}function fb(e,t,n,r){return e(t,n,r)}function gb(){}var Ee=eb,ke=!1,Te=!1;function kb(){null===we&&null===Se||(gb(),db())}new Map;var Pe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ie=Object.prototype.hasOwnProperty,Ae={},Le={};function rb(e,t,n,r){if(null==t||function qb(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||t<1}return!1}function B(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Me[e]=new B(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Me[t]=new B(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Me[e]=new B(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Me[e]=new B(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Me[e]=new B(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Me[e]=new B(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){Me[e]=new B(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){Me[e]=new B(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){Me[e]=new B(e,5,!1,e.toLowerCase(),null,!1)});var De=/[\-:]([a-z])/g;function tb(e){return e[1].toUpperCase()}function ub(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function vb(e,t,n,r){var i=Me.hasOwnProperty(t)?Me[t]:null;(null!==i?0!==i.type:r||(!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1]))&&(rb(t,n,i,r)&&(n=null),r||null===i?function pb(e){return!!Ie.call(Le,e)||!Ie.call(Ae,e)&&(Pe.test(e)?Le[e]=!0:!(Ae[e]=!0))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function wb(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function yb(e){e._valueTracker||(e._valueTracker=function xb(e){var t=wb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function zb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=wb(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ab(e,t){var n=t.checked;return v({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Bb(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ub(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Cb(e,t){null!=(t=t.checked)&&vb(e,"checked",t,!1)}function Eb(e,t){Cb(e,t);var n=ub(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Fb(e,t.type,n):t.hasOwnProperty("defaultValue")&&Fb(e,t.type,ub(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Gb(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Fb(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ib(e,t){return e=v({children:void 0},t),(t=function Hb(e){var t="";return i.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Jb(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ub(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Kb(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(u(91));return v({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Lb(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw Error(u(92));if(Array.isArray(t)){if(!(t.length<=1))throw Error(u(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:ub(n)}}function Mb(e,t){var n=ub(t.value),r=ub(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Nb(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(De,tb);Me[t]=new B(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(De,tb);Me[t]=new B(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(De,tb);Me[t]=new B(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){Me[e]=new B(e,1,!1,e.toLowerCase(),null,!1)}),Me.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){Me[e]=new B(e,1,!1,e.toLowerCase(),null,!0)});var Fe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Pb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qb(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Pb(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ve,je,Be=(je=function(e,t){if(e.namespaceURI!==Fe.svg||"innerHTML"in e)e.innerHTML=t;else{for((Ve=Ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return je(e,t)})}:je);function Tb(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ub(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ze={animationend:Ub("Animation","AnimationEnd"),animationiteration:Ub("Animation","AnimationIteration"),animationstart:Ub("Animation","AnimationStart"),transitionend:Ub("Transition","TransitionEnd")},qe={},He={};function Yb(e){if(qe[e])return qe[e];if(!ze[e])return e;var t,n=ze[e];for(t in n)if(n.hasOwnProperty(t)&&t in He)return qe[e]=n[t];return e}me&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete ze.animationend.animation,delete ze.animationiteration.animation,delete ze.animationstart.animation),"TransitionEvent"in window||delete ze.transitionend.transition);var Ge=Yb("animationend"),Ke=Yb("animationiteration"),Ye=Yb("animationstart"),Je=Yb("transitionend"),Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");function ec(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else for(e=t;0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return;);return 3===t.tag?n:null}function fc(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function gc(e){if(ec(e)!==e)throw Error(u(188))}function ic(e){if(!(e=function hc(e){var t=e.alternate;if(!t){if(null===(t=ec(e)))throw Error(u(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null!==a){if(i.child===a.child){for(a=i.child;a;){if(a===n)return gc(i),e;if(a===r)return gc(i),t;a=a.sibling}throw Error(u(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(u(189))}}if(n.alternate!==r)throw Error(u(190))}else{if(null===(r=i.return))break;n=r}}if(3!==n.tag)throw Error(u(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t=(t.child.return=t).child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var et,tt,nt,rt=!1,it=[],at=null,ot=null,st=null,lt=new Map,ut=new Map,ct=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),dt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function zc(e,t,n,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r}}function Ac(e,t){switch(e){case"focus":case"blur":at=null;break;case"dragenter":case"dragleave":ot=null;break;case"mouseover":case"mouseout":st=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function Bc(e,t,n,r,i){return null===e||e.nativeEvent!==i?(e=zc(t,n,r,i),null===t||null!==(t=Cc(t))&&tt(t)):e.eventSystemFlags|=r,e}function Ec(e){var t=Fc(e.target);if(null!==t){var n=ec(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=fc(n)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,function(){nt(n)})}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Gc(e){if(null!==e.blockedOn)return!1;var t=Hc(e.topLevelType,e.eventSystemFlags,e.nativeEvent);if(null===t)return!0;var n=Cc(t);return null!==n&&tt(n),e.blockedOn=t,!1}function Ic(e,t,n){Gc(e)&&n.delete(t)}function Jc(){for(rt=!1;0<it.length;){var e=it[0];if(null!==e.blockedOn){null!==(e=Cc(e.blockedOn))&&et(e);break}var t=Hc(e.topLevelType,e.eventSystemFlags,e.nativeEvent);null!==t?e.blockedOn=t:it.shift()}null!==at&&Gc(at)&&(at=null),null!==ot&&Gc(ot)&&(ot=null),null!==st&&Gc(st)&&(st=null),lt.forEach(Ic),ut.forEach(Ic)}function Kc(e,t){e.blockedOn===t&&(e.blockedOn=null,rt||(rt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Jc)))}function Lc(t){function b(e){return Kc(e,t)}if(0<it.length){Kc(it[0],t);for(var e=1;e<it.length;e++){var n=it[e];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==at&&Kc(at,t),null!==ot&&Kc(ot,t),null!==st&&Kc(st,t),lt.forEach(b),ut.forEach(b),e=0;e<ct.length;e++)(n=ct[e]).blockedOn===t&&(n.blockedOn=null);for(;0<ct.length&&null===(e=ct[0]).blockedOn;)Ec(e),null===e.blockedOn&&ct.shift()}function Mc(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Nc(e){for(;(e=e.return)&&5!==e.tag;);return e||null}function Oc(e,t,n){(t=Da(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=xa(n._dispatchListeners,t),n._dispatchInstances=xa(n._dispatchInstances,e))}function Pc(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Nc(t);for(t=n.length;0<t--;)Oc(n[t],"captured",e);for(t=0;t<n.length;t++)Oc(n[t],"bubbled",e)}}function Qc(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Da(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=xa(n._dispatchListeners,t),n._dispatchInstances=xa(n._dispatchInstances,e))}function Rc(e){e&&e.dispatchConfig.registrationName&&Qc(e._targetInst,null,e)}function Sc(e){ya(e,Pc)}function Tc(){return!0}function Uc(){return!1}function E(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Tc:Uc,this.isPropagationStopped=Uc,this}function Wc(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Xc(e){if(!(e instanceof this))throw Error(u(279));e.destructor(),this.eventPool.length<10&&this.eventPool.push(e)}function Vc(e){e.eventPool=[],e.getPooled=Wc,e.release=Xc}v(E.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Tc)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Tc)},persist:function(){this.isPersistent=Tc},isPersistent:Uc,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Uc,this._dispatchInstances=this._dispatchListeners=null}}),E.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},E.extend=function(e){function b(){}function c(){return t.apply(this,arguments)}var t=this;b.prototype=t.prototype;var n=new b;return v(n,c.prototype),((c.prototype=n).constructor=c).Interface=v({},t.Interface,e),c.extend=t.extend,Vc(c),c},Vc(E);var pt=E.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ft=E.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gt=E.extend({view:null,detail:null}),vt=gt.extend({relatedTarget:null});function bd(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var mt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_t={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=yt[e])&&!!t[e]}function hd(){return gd}for(var bt=gt.extend({key:function(e){if(e.key){var t=mt[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=bd(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_t[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:hd,charCode:function(e){return"keypress"===e.type?bd(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?bd(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),wt=0,Ct=0,xt=!1,St=!1,Et=gt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:hd,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=wt;return wt=e.screenX,xt?"mousemove"===e.type?e.screenX-t:0:(xt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ct;return Ct=e.screenY,St?"mousemove"===e.type?e.screenY-t:0:(St=!0,0)}}),kt=Et.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Tt=Et.extend({dataTransfer:null}),Pt=gt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:hd}),It=E.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Ot=Et.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Nt=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Ge,"animationEnd",2],[Ke,"animationIteration",2],[Ye,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Je,"transitionEnd",2],["waiting","waiting",2]],At={},Rt={},Lt=0;Lt<Nt.length;Lt++){var Mt=Nt[Lt],Dt=Mt[0],Ft=Mt[1],Vt=Mt[2],jt="on"+(Ft[0].toUpperCase()+Ft.slice(1)),Bt={phasedRegistrationNames:{bubbled:jt,captured:jt+"Capture"},dependencies:[Dt],eventPriority:Vt};At[Ft]=Bt,Rt[Dt]=Bt}var zt={eventTypes:At,getEventPriority:function(e){return void 0!==(e=Rt[e])?e.eventPriority:2},extractEvents:function(e,t,n,r){var i=Rt[e];if(!i)return null;switch(e){case"keypress":if(0===bd(n))return null;case"keydown":case"keyup":e=bt;break;case"blur":case"focus":e=vt;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Et;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=Tt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Pt;break;case Ge:case Ke:case Ye:e=pt;break;case Je:e=It;break;case"scroll":e=gt;break;case"wheel":e=Ot;break;case"copy":case"cut":case"paste":e=ft;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=kt;break;default:e=E}return Sc(t=e.getPooled(i,t,n,r)),t}},Ut=a.unstable_UserBlockingPriority,Wt=a.unstable_runWithPriority,qt=zt.getEventPriority,Qt=10,Ht=[];function Kd(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Fc(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=Mc(e.nativeEvent);r=e.topLevelType;for(var a=e.nativeEvent,o=e.eventSystemFlags,s=null,l=0;l<w.length;l++){var u=w[l];(u=u&&u.extractEvents(r,t,a,i,o))&&(s=xa(s,u))}Ba(s)}}var Gt=!0;function F(e,t){Md(t,e,!1)}function Md(e,t,n){switch(qt(t)){case 0:var r=function Nd(e,t,n){ke||gb();var r=Pd,i=ke;ke=!0;try{fb(r,e,t,n)}finally{(ke=i)||kb()}}.bind(null,t,1);break;case 1:r=function Od(e,t,n){Wt(Ut,Pd.bind(null,e,t,n))}.bind(null,t,1);break;default:r=Pd.bind(null,t,1)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Qd(e,t,n,r){if(Ht.length){var i=Ht.pop();i.topLevelType=e,i.eventSystemFlags=t,i.nativeEvent=n,i.targetInst=r,e=i}else e={topLevelType:e,eventSystemFlags:t,nativeEvent:n,targetInst:r,ancestors:[]};try{if(t=Kd,n=e,Te)t(n,void 0);else{Te=!0;try{Ee(t,n,void 0)}finally{Te=!1,kb()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,Ht.length<Qt&&Ht.push(e)}}function Pd(e,t,n){if(Gt)if(0<it.length&&-1<ht.indexOf(e))e=zc(null,e,t,n),it.push(e);else{var r=Hc(e,t,n);null===r?Ac(e,n):-1<ht.indexOf(e)?(e=zc(r,e,t,n),it.push(e)):function Dc(e,t,n,r){switch(t){case"focus":return at=Bc(at,e,t,n,r),!0;case"dragenter":return ot=Bc(ot,e,t,n,r),!0;case"mouseover":return st=Bc(st,e,t,n,r),!0;case"pointerover":var i=r.pointerId;return lt.set(i,Bc(lt.get(i)||null,e,t,n,r)),!0;case"gotpointercapture":return i=r.pointerId,ut.set(i,Bc(ut.get(i)||null,e,t,n,r)),!0}return!1}(r,e,t,n)||(Ac(e,n),Qd(e,t,n,null))}}function Hc(e,t,n){var r=Mc(n);if(null!==(r=Fc(r))){var i=ec(r);if(null===i)r=null;else{var a=i.tag;if(13===a){if(null!==(r=fc(i)))return r;r=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Qd(e,t,n,r),null}function Rd(e){if(!me)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var Kt=new("function"==typeof WeakMap?WeakMap:Map);function xc(e){var t=Kt.get(e);return void 0===t&&(t=new Set,Kt.set(e,t)),t}function yc(e,t,n){if(!n.has(e)){switch(e){case"scroll":Md(t,"scroll",!0);break;case"focus":case"blur":Md(t,"focus",!0),Md(t,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":Rd(e)&&Md(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Xe.indexOf(e)&&F(e,t)}n.add(e)}}var $t={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yt=["Webkit","ms","Moz","O"];function Vd(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||$t.hasOwnProperty(e)&&$t[e]?(""+t).trim():t+"px"}function Wd(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Vd(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys($t).forEach(function(t){Yt.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$t[e]=$t[t]})});var Jt=v({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yd(e,t){if(t){if(Jt[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(u(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(u(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(u(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(u(62,""))}}function Zd(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function $d(e,t){var n=xc(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=s[t];for(var r=0;r<t.length;r++)yc(t[r],e,n)}function ae(){}function be(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function ce(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function de(e,t){var n,r=ce(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&t<=n)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ce(r)}}function fe(){for(var e=window,t=be();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=be((e=t.contentWindow).document)}return t}function ge(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Zt="$",Xt="/$",en="$?",tn="$!",nn=null,rn=null;function ne(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function oe(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var an="function"==typeof setTimeout?setTimeout:void 0,on="function"==typeof clearTimeout?clearTimeout:void 0;function re(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function se(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Zt||n===tn||n===en){if(0===t)return e;t--}else n===Xt&&t++}e=e.previousSibling}return null}var sn=Math.random().toString(36).slice(2),ln="__reactInternalInstance$"+sn,un="__reactEventHandlers$"+sn,cn="__reactContainere$"+sn;function Fc(e){var t=e[ln];if(t)return t;for(var n=e.parentNode;n;){if(t=n[cn]||n[ln]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=se(e);null!==e;){if(n=e[ln])return n;e=se(e)}return t}n=(e=n).parentNode}return null}function Cc(e){return!(e=e[ln]||e[cn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xe(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(u(33))}function ye(e){return e[un]||null}var hn=null,dn=null,pn=null;function Ce(){if(pn)return pn;var e,t,n=dn,r=n.length,i="value"in hn?hn.value:hn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return pn=i.slice(e,1<t?1-t:void 0)}var fn=E.extend({data:null}),gn=E.extend({data:null}),vn=[9,13,27,32],mn=me&&"CompositionEvent"in window,_n=null;me&&"documentMode"in document&&(_n=document.documentMode);var yn=me&&"TextEvent"in window&&!_n,bn=me&&(!mn||_n&&8<_n&&_n<=11),wn=String.fromCharCode(32),Cn={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},xn=!1;function Ne(e,t){switch(e){case"keyup":return-1!==vn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Oe(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Sn=!1;var En={eventTypes:Cn,extractEvents:function(e,t,n,r){var i;if(mn)e:{switch(e){case"compositionstart":var a=Cn.compositionStart;break e;case"compositionend":a=Cn.compositionEnd;break e;case"compositionupdate":a=Cn.compositionUpdate;break e}a=void 0}else Sn?Ne(e,n)&&(a=Cn.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=Cn.compositionStart);return i=a?(bn&&"ko"!==n.locale&&(Sn||a!==Cn.compositionStart?a===Cn.compositionEnd&&Sn&&(i=Ce()):(dn="value"in(hn=r)?hn.value:hn.textContent,Sn=!0)),a=fn.getPooled(a,t,n,r),i?a.data=i:null!==(i=Oe(n))&&(a.data=i),Sc(a),a):null,(e=yn?function Qe(e,t){switch(e){case"compositionend":return Oe(t);case"keypress":return 32!==t.which?null:(xn=!0,wn);case"textInput":return(e=t.data)===wn&&xn?null:e;default:return null}}(e,n):function Re(e,t){if(Sn)return"compositionend"===e||!mn&&Ne(e,t)?(e=Ce(),pn=dn=hn=null,Sn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=gn.getPooled(Cn.beforeInput,t,n,r)).data=e,Sc(t)):t=null,null===i?t:null===t?i:[i,t]}},kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ue(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!kn[e.type]:"textarea"===t}var Tn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function We(e,t,n){return(e=E.getPooled(Tn.change,e,t,n)).type="change",cb(n),Sc(e),e}var Pn=null,In=null;function Ze(e){Ba(e)}function $e(e){if(zb(xe(e)))return e}function af(e,t){if("change"===e)return t}var On=!1;function cf(){Pn&&(Pn.detachEvent("onpropertychange",df),In=Pn=null)}function df(e){if("value"===e.propertyName&&$e(In))if(e=We(In,e,Mc(e)),ke)Ba(e);else{ke=!0;try{eb(Ze,e)}finally{ke=!1,kb()}}}function ef(e,t,n){"focus"===e?(cf(),In=n,(Pn=t).attachEvent("onpropertychange",df)):"blur"===e&&cf()}function ff(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $e(In)}function gf(e,t){if("click"===e)return $e(t)}function hf(e,t){if("input"===e||"change"===e)return $e(t)}me&&(On=Rd("input")&&(!document.documentMode||9<document.documentMode));var Nn,An={eventTypes:Tn,_isInputEventSupported:On,extractEvents:function(e,t,n,r){var i=t?xe(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=af;else if(Ue(i))if(On)o=hf;else{o=ff;var s=ef}else!(a=i.nodeName)||"input"!==a.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type||(o=gf);if(o=o&&o(e,t))return We(o,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Fb(i,"number",i.value)}},Rn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ln={eventTypes:Rn,extractEvents:function(e,t,n,r,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?Fc(t):null)&&(t!==(a=ec(t))||5!==t.tag&&6!==t.tag)&&(t=null)):o=null,o===t)return null;if("mouseout"===e||"mouseover"===e)var s=Et,l=Rn.mouseLeave,u=Rn.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=kt,l=Rn.pointerLeave,u=Rn.pointerEnter,c="pointer");if(e=null==o?i:xe(o),i=null==t?i:xe(t),(l=s.getPooled(l,o,n,r)).type=c+"leave",l.target=e,l.relatedTarget=i,(r=s.getPooled(u,t,n,r)).type=c+"enter",r.target=i,r.relatedTarget=e,c=t,(s=o)&&c)e:{for(e=c,o=0,t=u=s;t;t=Nc(t))o++;for(t=0,i=e;i;i=Nc(i))t++;for(;0<o-t;)u=Nc(u),o--;for(;0<t-o;)e=Nc(e),t--;for(;o--;){if(u===e||u===e.alternate)break e;u=Nc(u),e=Nc(e)}u=null}else u=null;for(e=u,u=[];s&&s!==e&&(null===(o=s.alternate)||o!==e);)u.push(s),s=Nc(s);for(s=[];c&&c!==e&&(null===(o=c.alternate)||o!==e);)s.push(c),c=Nc(c);for(c=0;c<u.length;c++)Qc(u[c],"bubbled",l);for(c=s.length;0<c--;)Qc(s[c],"captured",r);return n===Nn?(Nn=null,[l]):(Nn=n,[l,r])}};var Mn="function"==typeof Object.is?Object.is:function nf(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Dn=Object.prototype.hasOwnProperty;function qf(e,t){if(Mn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Dn.call(t,n[r])||!Mn(e[n[r]],t[n[r]]))return!1;return!0}var Fn=me&&"documentMode"in document&&document.documentMode<=11,Vn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},jn=null,Bn=null,zn=null,Un=!1;function xf(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Un||null==jn||jn!==be(n)?null:(n="selectionStart"in(n=jn)&&ge(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},zn&&qf(zn,n)?null:(zn=n,(e=E.getPooled(Vn.select,Bn,e,t)).type="select",e.target=jn,Sc(e),e))}var Wn={eventTypes:Vn,extractEvents:function(e,t,n,r){var i,a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!a)){e:{a=xc(a),i=s.onSelect;for(var o=0;o<i.length;o++)if(!a.has(i[o])){a=!1;break e}a=!0}i=!a}if(i)return null;switch(a=t?xe(t):window,e){case"focus":!Ue(a)&&"true"!==a.contentEditable||(jn=a,Bn=t,zn=null);break;case"blur":zn=Bn=jn=null;break;case"mousedown":Un=!0;break;case"contextmenu":case"mouseup":case"dragend":return Un=!1,xf(n,r);case"selectionchange":if(Fn)break;case"keydown":case"keyup":return xf(n,r)}return null}};j.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),o=ye,M=Cc,D=xe,j.injectEventPluginsByName({SimpleEventPlugin:zt,EnterLeaveEventPlugin:Ln,ChangeEventPlugin:An,SelectEventPlugin:Wn,BeforeInputEventPlugin:En}),new Set;var qn=[],Qn=-1;function G(e){Qn<0||(e.current=qn[Qn],qn[Qn]=null,Qn--)}function I(e,t){qn[++Qn]=e.current,e.current=t}var Hn={},Gn={current:Hn},Kn={current:!1},$n=Hn;function Ef(e,t){var n=e.type.contextTypes;if(!n)return Hn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function L(e){return null!=(e=e.childContextTypes)}function Ff(){G(Kn),G(Gn)}function Gf(){G(Kn),G(Gn)}function Hf(e,t,n){if(Gn.current!==Hn)throw Error(u(168));I(Gn,t),I(Kn,n)}function If(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(u(108,Wa(t)||"Unknown",i));return v({},n,{},r)}function Jf(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Hn,$n=Gn.current,I(Gn,t),I(Kn,Kn.current),!0}function Kf(e,t,n){var r=e.stateNode;if(!r)throw Error(u(169));n?(t=If(e,t,$n),r.__reactInternalMemoizedMergedChildContext=t,G(Kn),G(Gn),I(Gn,t)):G(Kn),I(Kn,n)}var Yn=a.unstable_runWithPriority,Jn=a.unstable_scheduleCallback,Zn=a.unstable_cancelCallback,Xn=a.unstable_shouldYield,er=a.unstable_requestPaint,tr=a.unstable_now,nr=a.unstable_getCurrentPriorityLevel,rr=a.unstable_ImmediatePriority,ir=a.unstable_UserBlockingPriority,ar=a.unstable_NormalPriority,or=a.unstable_LowPriority,sr=a.unstable_IdlePriority,lr={},ur=void 0!==er?er:function(){},cr=null,hr=null,dr=!1,pr=tr(),fr=pr<1e4?tr:function(){return tr()-pr};function dg(){switch(nr()){case rr:return 99;case ir:return 98;case ar:return 97;case or:return 96;case sr:return 95;default:throw Error(u(332))}}function eg(e){switch(e){case 99:return rr;case 98:return ir;case 97:return ar;case 96:return or;case 95:return sr;default:throw Error(u(332))}}function fg(e,t){return e=eg(e),Yn(e,t)}function gg(e,t,n){return e=eg(e),Jn(e,t,n)}function hg(e){return null===cr?(cr=[e],hr=Jn(rr,ig)):cr.push(e),lr}function jg(){if(null!==hr){var e=hr;hr=null,Zn(e)}ig()}function ig(){if(!dr&&null!==cr){dr=!0;var t=0;try{var n=cr;fg(99,function(){for(;t<n.length;t++)for(var e=n[t];null!==(e=e(!0)););}),cr=null}catch(e){throw null!==cr&&(cr=cr.slice(t+1)),Jn(rr,jg),e}finally{dr=!1}}}var gr=3;function lg(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function mg(e,t){if(e&&e.defaultProps)for(var n in t=v({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var vr={current:null},mr=null,_r=null,yr=null;function rg(){yr=_r=mr=null}function sg(e,t){var n=e.type._context;I(vr,n._currentValue),n._currentValue=t}function tg(e){var t=vr.current;G(vr),e.type._context._currentValue=t}function ug(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function vg(e,t){yr=_r=null,null!==(e=(mr=e).dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(ei=!0),e.firstContext=null)}function xg(e,t){if(yr!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(yr=e,t=1073741823),t={context:e,observedBits:t,next:null},null===_r){if(null===mr)throw Error(u(308));_r=t,mr.dependencies={expirationTime:0,firstContext:t,responders:null}}else _r=_r.next=t;return e._currentValue}var br=!1;function zg(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ag(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Bg(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Cg(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Dg(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=zg(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=zg(e.memoizedState),i=n.updateQueue=zg(n.memoizedState)):r=e.updateQueue=Ag(i):null===i&&(i=n.updateQueue=Ag(r));null===i||r===i?Cg(r,t):null===r.lastUpdate||null===i.lastUpdate?(Cg(r,t),Cg(i,t)):(Cg(r,t),i.lastUpdate=t)}function Eg(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=zg(e.memoizedState):Fg(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Fg(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Ag(t)),t}function Gg(e,t,n,r,i,a){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(a,r,i):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null==(i="function"==typeof(e=n.payload)?e.call(a,r,i):e))break;return v({},r,i);case 2:br=!0}return r}function Hg(e,t,n,r,i){br=!1;for(var a=(t=Fg(e,t)).baseState,o=null,s=0,l=t.firstUpdate,u=a;null!==l;){var c=l.expirationTime;c<i?(null===o&&(o=l,a=u),s<c&&(s=c)):(Ig(c,l.suspenseConfig),u=Gg(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,(l.nextEffect=null)===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(c=null,l=t.firstCapturedUpdate;null!==l;){var h=l.expirationTime;h<i?(null===c&&(c=l,null===o&&(a=u)),s<h&&(s=h)):(u=Gg(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,(l.nextEffect=null)===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===o&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===o&&null===c&&(a=u),t.baseState=a,t.firstUpdate=o,t.firstCapturedUpdate=c,Jg(s),e.expirationTime=s,e.memoizedState=u}function Kg(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Lg(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Lg(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Lg(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;if("function"!=typeof n)throw Error(u(191,n));n.call(r)}e=e.nextEffect}}var wr=z.ReactCurrentBatchConfig,Cr=(new i.Component).refs;function Og(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:v({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var xr={isMounted:function(e){return!!(e=e._reactInternalFiber)&&ec(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Pg(),i=wr.suspense;(i=Bg(r=Qg(r,e,i),i)).payload=t,null!=n&&(i.callback=n),Dg(e,i),Rg(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Pg(),i=wr.suspense;(i=Bg(r=Qg(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),Dg(e,i),Rg(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Pg(),r=wr.suspense;(r=Bg(n=Qg(n,e,r),r)).tag=2,null!=t&&(r.callback=t),Dg(e,r),Rg(e,n)}};function Tg(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!qf(n,r)||!qf(i,a))}function Ug(e,t,n){var r=!1,i=Hn,a=t.contextType;return t=new t(n,a="object"==typeof a&&null!==a?xg(a):(i=L(t)?$n:Gn.current,(r=null!=(r=t.contextTypes))?Ef(e,i):Hn)),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=xr,(e.stateNode=t)._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Vg(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xr.enqueueReplaceState(t,t.state,null)}function Wg(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Cr;var a=t.contextType;"object"==typeof a&&null!==a?i.context=xg(a):(a=L(t)?$n:Gn.current,i.context=Ef(e,a)),null!==(a=e.updateQueue)&&(Hg(e,a,n,i,r),i.state=e.memoizedState),"function"==typeof(a=t.getDerivedStateFromProps)&&(Og(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&xr.enqueueReplaceState(i,i.state,null),null!==(a=e.updateQueue)&&(Hg(e,a,n,i,r),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var Sr=Array.isArray;function Yg(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(u(309));var r=n.stateNode}if(!r)throw Error(u(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Cr&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(u(284));if(!n._owner)throw Error(u(290,e))}return e}function Zg(e,t){if("textarea"!==e.type)throw Error(u(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function $g(v){function b(e,t){if(v){var n=e.lastEffect;null!==n?(n.nextEffect=t,e.lastEffect=t):e.firstEffect=e.lastEffect=t,t.nextEffect=null,t.effectTag=8}}function c(e,t){if(!v)return null;for(;null!==t;)b(e,t),t=t.sibling;return null}function d(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function e(e,t){return(e=ah(e,t)).index=0,e.sibling=null,e}function f(e,t,n){return e.index=n,v?null!==(n=e.alternate)?(n=n.index)<t?(e.effectTag=2,t):n:(e.effectTag=2,t):t}function g(e){return v&&null===e.alternate&&(e.effectTag=2),e}function h(t,n,r,i){return null===n||6!==n.tag?(n=bh(r,t.mode,i)).return=t:(n=e(n,r)).return=t,n}function k(t,n,r,i){return null!==n&&n.elementType===r.type?(i=e(n,r.props)).ref=Yg(t,n,r):(i=ch(r.type,r.key,r.props,null,t.mode,i)).ref=Yg(t,n,r),i.return=t,i}function l(t,n,r,i){return null===n||4!==n.tag||n.stateNode.containerInfo!==r.containerInfo||n.stateNode.implementation!==r.implementation?(n=dh(r,t.mode,i)).return=t:(n=e(n,r.children||[])).return=t,n}function m(t,n,r,i,a){return null===n||7!==n.tag?(n=eh(r,t.mode,i,a)).return=t:(n=e(n,r)).return=t,n}function C(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=bh(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case q:return(n=ch(t.type,t.key,t.props,null,e.mode,n)).ref=Yg(e,null,t),n.return=e,n;case K:return(t=dh(t,e.mode,n)).return=e,t}if(Sr(t)||Ua(t))return(t=eh(t,e.mode,n,null)).return=e,t;Zg(e,t)}return null}function y(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:h(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case q:return n.key===i?n.type===$?m(e,t,n.props.children,r,i):k(e,t,n,r):null;case K:return n.key===i?l(e,t,n,r):null}if(Sr(n)||Ua(n))return null!==i?null:m(e,t,n,r,null);Zg(e,n)}return null}function H(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return h(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case q:return e=e.get(null===r.key?n:r.key)||null,r.type===$?m(t,e,r.props.children,i,r.key):k(t,e,r,i);case K:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Sr(r)||Ua(r))return m(t,e=e.get(n)||null,r,i,null);Zg(t,r)}return null}return function(t,n,r,i){var a="object"==typeof r&&null!==r&&r.type===$&&null===r.key;a&&(r=r.props.children);var o="object"==typeof r&&null!==r;if(o)switch(r.$$typeof){case q:e:{for(o=r.key,a=n;null!==a;){if(a.key===o){if(7===a.tag?r.type===$:a.elementType===r.type){c(t,a.sibling),(n=e(a,r.type===$?r.props.children:r.props)).ref=Yg(t,a,r),n.return=t,t=n;break e}c(t,a);break}b(t,a),a=a.sibling}t=r.type===$?((n=eh(r.props.children,t.mode,i,r.key)).return=t,n):((i=ch(r.type,r.key,r.props,null,t.mode,i)).ref=Yg(t,n,r),i.return=t,i)}return g(t);case K:e:{for(a=r.key;null!==n;){if(n.key===a){if(4===n.tag&&n.stateNode.containerInfo===r.containerInfo&&n.stateNode.implementation===r.implementation){c(t,n.sibling),(n=e(n,r.children||[])).return=t,t=n;break e}c(t,n);break}b(t,n),n=n.sibling}(n=dh(r,t.mode,i)).return=t,t=n}return g(t)}if("string"==typeof r||"number"==typeof r)return r=""+r,g(t=((n=null!==n&&6===n.tag?(c(t,n.sibling),e(n,r)):(c(t,n),bh(r,t.mode,i))).return=t,n));if(Sr(r))return function z(t,e,n,r){for(var i=null,a=null,o=e,s=e=0,l=null;null!==o&&s<n.length;s++){o.index>s?(l=o,o=null):l=o.sibling;var u=y(t,o,n[s],r);if(null===u){null===o&&(o=l);break}v&&o&&null===u.alternate&&b(t,o),e=f(u,e,s),null===a?i=u:a.sibling=u,a=u,o=l}if(s===n.length)return c(t,o),i;if(null===o){for(;s<n.length;s++)null!==(o=C(t,n[s],r))&&(e=f(o,e,s),null===a?i=o:a.sibling=o,a=o);return i}for(o=d(t,o);s<n.length;s++)null!==(l=H(o,t,s,n[s],r))&&(v&&null!==l.alternate&&o.delete(null===l.key?s:l.key),e=f(l,e,s),null===a?i=l:a.sibling=l,a=l);return v&&o.forEach(function(e){return b(t,e)}),i}(t,n,r,i);if(Ua(r))return function ta(t,e,n,r){var i=Ua(n);if("function"!=typeof i)throw Error(u(150));if(null==(n=i.call(n)))throw Error(u(151));for(var a=i=null,o=e,s=e=0,l=null,h=n.next();null!==o&&!h.done;s++,h=n.next()){o.index>s?(l=o,o=null):l=o.sibling;var p=y(t,o,h.value,r);if(null===p){null===o&&(o=l);break}v&&o&&null===p.alternate&&b(t,o),e=f(p,e,s),null===a?i=p:a.sibling=p,a=p,o=l}if(h.done)return c(t,o),i;if(null===o){for(;!h.done;s++,h=n.next())null!==(h=C(t,h.value,r))&&(e=f(h,e,s),null===a?i=h:a.sibling=h,a=h);return i}for(o=d(t,o);!h.done;s++,h=n.next())null!==(h=H(o,t,s,h.value,r))&&(v&&null!==h.alternate&&o.delete(null===h.key?s:h.key),e=f(h,e,s),null===a?i=h:a.sibling=h,a=h);return v&&o.forEach(function(e){return b(t,e)}),i}(t,n,r,i);if(o&&Zg(t,r),void 0===r&&!a)switch(t.tag){case 1:case 0:throw t=t.type,Error(u(152,t.displayName||t.name||"Component"))}return c(t,n)}}var Er=$g(!0),kr=$g(!1),Tr={},Pr={current:Tr},Ir={current:Tr},Or={current:Tr};function lh(e){if(e===Tr)throw Error(u(174));return e}function mh(e,t){I(Or,t),I(Ir,e),I(Pr,Tr);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qb(null,"");break;default:t=Qb(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}G(Pr),I(Pr,t)}function nh(){G(Pr),G(Ir),G(Or)}function oh(e){lh(Or.current);var t=lh(Pr.current),n=Qb(t,e.type);t!==n&&(I(Ir,e),I(Pr,n))}function ph(e){Ir.current===e&&(G(Pr),G(Ir))}var Nr={current:0};function qh(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===en||n.data===tn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t=(t.child.return=t).child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function rh(e,t){return{responder:e,props:t}}var Ar=z.ReactCurrentDispatcher,Rr=z.ReactCurrentBatchConfig,Lr=0,Mr=null,Dr=null,Fr=null,Vr=null,jr=null,Br=null,zr=0,Ur=null,Wr=0,qr=!1,Qr=null,Hr=0;function Q(){throw Error(u(321))}function Hh(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mn(e[n],t[n]))return!1;return!0}function Ih(e,t,n,r,i,a){if(Lr=a,Mr=t,Fr=null!==e?e.memoizedState:null,Ar.current=null===Fr?Kr:$r,t=n(r,i),qr){for(;qr=!1,Hr+=1,Fr=null!==e?e.memoizedState:null,Br=Vr,Ur=jr=Dr=null,Ar.current=$r,t=n(r,i),qr;);Qr=null,Hr=0}if(Ar.current=Gr,(e=Mr).memoizedState=Vr,e.expirationTime=zr,e.updateQueue=Ur,e.effectTag|=Wr,e=null!==Dr&&null!==Dr.next,Br=jr=Vr=Fr=Dr=Mr=null,Ur=null,Wr=zr=Lr=0,e)throw Error(u(300));return t}function Mh(){Ar.current=Gr,Br=jr=Vr=Fr=Dr=Mr=null,qr=!1,Qr=Ur=null,Hr=Wr=zr=Lr=0}function Nh(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===jr?Vr=jr=e:jr=jr.next=e,jr}function Oh(){if(null!==Br)Br=(jr=Br).next,Fr=null!==(Dr=Fr)?Dr.next:null;else{if(null===Fr)throw Error(u(310));var e={memoizedState:(Dr=Fr).memoizedState,baseState:Dr.baseState,queue:Dr.queue,baseUpdate:Dr.baseUpdate,next:null};jr=null===jr?Vr=e:jr.next=e,Fr=Dr.next}return jr}function Ph(e,t){return"function"==typeof t?t(e):t}function Qh(e){var t=Oh(),n=t.queue;if(null===n)throw Error(u(311));if(n.lastRenderedReducer=e,0<Hr){var r=n.dispatch;if(null!==Qr){var i=Qr.get(n);if(void 0!==i){Qr.delete(n);for(var a=t.memoizedState;a=e(a,i.action),null!==(i=i.next););return Mn(a,t.memoizedState)||(ei=!0),t.memoizedState=a,t.baseUpdate===n.last&&(t.baseState=a),[n.lastRenderedState=a,r]}}return[t.memoizedState,r]}r=n.last;var o=t.baseUpdate;if(a=t.baseState,null!==(r=null!==o?(null!==r&&(r.next=null),o.next):null!==r?r.next:null)){var s=i=null,l=r,c=!1;do{var h=l.expirationTime;h<Lr?(c||(c=!0,s=o,i=a),zr<h&&Jg(zr=h)):(Ig(h,l.suspenseConfig),a=l.eagerReducer===e?l.eagerState:e(a,l.action)),l=(o=l).next}while(null!==l&&l!==r);c||(s=o,i=a),Mn(a,t.memoizedState)||(ei=!0),t.memoizedState=a,t.baseUpdate=s,t.baseState=i,n.lastRenderedState=a}return[t.memoizedState,n.dispatch]}function Rh(e){var t=Nh();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:Ph,lastRenderedState:e}).dispatch=Sh.bind(null,Mr,e),[t.memoizedState,e]}function Th(e){return Qh(Ph)}function Uh(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Ur?(Ur={lastEffect:null}).lastEffect=e.next=e:null===(t=Ur.lastEffect)?Ur.lastEffect=e.next=e:(n=t.next,(t.next=e).next=n,Ur.lastEffect=e),e}function Vh(e,t,n,r){var i=Nh();Wr|=e,i.memoizedState=Uh(t,n,void 0,void 0===r?null:r)}function Wh(e,t,n,r){var i=Oh();r=void 0===r?null:r;var a=void 0;if(null!==Dr){var o=Dr.memoizedState;if(a=o.destroy,null!==r&&Hh(r,o.deps))return void Uh(0,n,a,r)}Wr|=e,i.memoizedState=Uh(t,n,a,r)}function Xh(e,t){return Vh(516,192,e,t)}function Yh(e,t){return Wh(516,192,e,t)}function Zh(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $h(){}function ai(e,t){return Nh().memoizedState=[e,void 0===t?null:t],e}function bi(e,t){var n=Oh();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Hh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Sh(e,t,n){if(!(Hr<25))throw Error(u(301));var r=e.alternate;if(e===Mr||null!==r&&r===Mr)if(qr=!0,e={expirationTime:Lr,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===Qr&&(Qr=new Map),void 0===(n=Qr.get(t)))Qr.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var i=Pg(),a=wr.suspense;a={expirationTime:i=Qg(i,e,a),suspenseConfig:a,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.last;if(null===o)a.next=a;else{var s=o.next;null!==s&&(a.next=s),o.next=a}if(t.last=a,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var l=t.lastRenderedState,c=r(l,n);if(a.eagerReducer=r,a.eagerState=c,Mn(c,l))return}catch(e){}Rg(e,i)}}var Gr={readContext:xg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useResponder:Q,useDeferredValue:Q,useTransition:Q},Kr={readContext:xg,useCallback:ai,useContext:xg,useEffect:Xh,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Vh(4,36,Zh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vh(4,36,e,t)},useMemo:function(e,t){var n=Nh();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Nh();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Sh.bind(null,Mr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Nh().memoizedState=e},useState:Rh,useDebugValue:$h,useResponder:rh,useDeferredValue:function(t,n){var e=Rh(t),r=e[0],i=e[1];return Xh(function(){a.unstable_next(function(){var e=Rr.suspense;Rr.suspense=void 0===n?null:n;try{i(t)}finally{Rr.suspense=e}})},[t,n]),r},useTransition:function(n){var e=Rh(!1),t=e[0],r=e[1];return[ai(function(t){r(!0),a.unstable_next(function(){var e=Rr.suspense;Rr.suspense=void 0===n?null:n;try{r(!1),t()}finally{Rr.suspense=e}})},[n,t]),t]}},$r={readContext:xg,useCallback:bi,useContext:xg,useEffect:Yh,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Wh(4,36,Zh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wh(4,36,e,t)},useMemo:function(e,t){var n=Oh();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Hh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:Qh,useRef:function(){return Oh().memoizedState},useState:Th,useDebugValue:$h,useResponder:rh,useDeferredValue:function(t,n){var e=Th(),r=e[0],i=e[1];return Yh(function(){a.unstable_next(function(){var e=Rr.suspense;Rr.suspense=void 0===n?null:n;try{i(t)}finally{Rr.suspense=e}})},[t,n]),r},useTransition:function(n){var e=Th(),t=e[0],r=e[1];return[bi(function(t){r(!0),a.unstable_next(function(){var e=Rr.suspense;Rr.suspense=void 0===n?null:n;try{r(!1),t()}finally{Rr.suspense=e}})},[n,t]),t]}},Yr=null,Jr=null,Zr=!1;function fi(e,t){var n=gi(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function hi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ii(e){if(Zr){var t=Jr;if(t){var n=t;if(!hi(e,t)){if(!(t=re(n.nextSibling))||!hi(e,t))return e.effectTag=-1025&e.effectTag|2,Zr=!1,void(Yr=e);fi(Yr,n)}Yr=e,Jr=re(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Zr=!1,Yr=e}}function ji(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Yr=e}function ki(e){if(e!==Yr)return!1;if(!Zr)return ji(e),!(Zr=!0);var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!oe(t,e.memoizedProps))for(t=Jr;t;)fi(e,t),t=re(t.nextSibling);if(ji(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(u(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Xt){if(0===t){Jr=re(e.nextSibling);break e}t--}else n!==Zt&&n!==tn&&n!==en||t++}e=e.nextSibling}Jr=null}}else Jr=Yr?re(e.stateNode.nextSibling):null;return!0}function li(){Jr=Yr=null,Zr=!1}var Xr=z.ReactCurrentOwner,ei=!1;function R(e,t,n,r){t.child=null===e?kr(t,null,n,r):Er(t,e.child,n,r)}function ni(e,t,n,r,i){n=n.render;var a=t.ref;return vg(t,i),r=Ih(e,t,n,r,a,i),null===e||ei?(t.effectTag|=1,R(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),oi(e,t,i))}function pi(e,t,n,r,i,a){if(null!==e)return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:qf)(i,r)&&e.ref===t.ref)?oi(e,t,a):(t.effectTag|=1,(e=ah(o,r)).ref=t.ref,(e.return=t).child=e);var o=n.type;return"function"!=typeof o||qi(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ch(n.type,null,r,null,t.mode,a)).ref=t.ref,(e.return=t).child=e):(t.tag=15,t.type=o,ri(e,t,o,r,i,a))}function ri(e,t,n,r,i,a){return null!==e&&qf(e.memoizedProps,r)&&e.ref===t.ref&&(ei=!1,i<a)?oi(e,t,a):si(e,t,n,r,a)}function ti(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function si(e,t,n,r,i){var a=L(n)?$n:Gn.current;return a=Ef(t,a),vg(t,i),n=Ih(e,t,n,r,a,i),null===e||ei?(t.effectTag|=1,R(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),oi(e,t,i))}function ui(e,t,n,r,i){if(L(n)){var a=!0;Jf(t)}else a=!1;if(vg(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Ug(t,n,r),Wg(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;u="object"==typeof u&&null!==u?xg(u):Ef(t,u=L(n)?$n:Gn.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||s===r&&l===u||Vg(t,o,r,u),br=!1;var d=t.memoizedState;l=o.state=d;var p=t.updateQueue;null!==p&&(Hg(t,p,r,o,i),l=t.memoizedState),r=s!==r||d!==l||Kn.current||br?("function"==typeof c&&(Og(t,n,c,r),l=t.memoizedState),(s=br||Tg(t,n,s,r,d,l,u))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.effectTag|=4)):("function"==typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,s):("function"==typeof o.componentDidMount&&(t.effectTag|=4),!1)}else o=t.stateNode,s=t.memoizedProps,o.props=t.type===t.elementType?s:mg(t.type,s),l=o.context,u="object"==typeof(u=n.contextType)&&null!==u?xg(u):Ef(t,u=L(n)?$n:Gn.current),(h="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s===r&&l===u||Vg(t,o,r,u)),br=!1,l=t.memoizedState,d=o.state=l,null!==(p=t.updateQueue)&&(Hg(t,p,r,o,i),d=t.memoizedState),r=s!==r||l!==d||Kn.current||br?("function"==typeof c&&(Og(t,n,c,r),d=t.memoizedState),(c=br||Tg(t,n,s,r,l,d,u))?(h||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,d,u),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,d,u)),"function"==typeof o.componentDidUpdate&&(t.effectTag|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),o.props=r,o.state=d,o.context=u,c):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),!1);return vi(e,t,n,r,a,i)}function vi(e,t,n,r,i,a){ti(e,t);var o=0!=(64&t.effectTag);if(!r&&!o)return i&&Kf(t,n,!1),oi(e,t,a);r=t.stateNode,Xr.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=Er(t,e.child,null,a),t.child=Er(t,null,s,a)):R(e,t,s,a),t.memoizedState=r.state,i&&Kf(t,n,!0),t.child}function wi(e){var t=e.stateNode;t.pendingContext?Hf(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Hf(0,t.context,!1),mh(e,t.containerInfo)}var ci,di,mi,_i,xi={dehydrated:null,retryTime:0};function yi(e,t,n){var r,i=t.mode,a=t.pendingProps,o=Nr.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&o)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),I(Nr,1&o),null===e){if(void 0!==a.fallback&&ii(t),s){if(s=a.fallback,0==(2&((a=eh(null,i,0,null)).return=t).mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=eh(s,i,n,null)).return=t,a.sibling=n,t.memoizedState=xi,t.child=a,n}return i=a.children,t.memoizedState=null,t.child=kr(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(a=a.fallback,0==(2&((n=ah(e,e.pendingProps)).return=t).mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=ah(i,a,i.expirationTime)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=xi,t.child=n,i}return n=Er(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=a.fallback,(a=eh(null,i,0,null)).return=t,null!==(a.child=e)&&(e.return=a),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=eh(s,i,n,null)).return=t,(a.sibling=n).effectTag|=2,a.childExpirationTime=0,t.memoizedState=xi,t.child=a,n}return t.memoizedState=null,t.child=Er(t,e,a.children,n)}function zi(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ug(e.return,t)}function Ai(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function Bi(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(R(e,t,r.children,n),0!=(2&(r=Nr.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zi(e,n);else if(19===e.tag)zi(e,n);else if(null!==e.child){e=(e.child.return=e).child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(I(Nr,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===qh(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ai(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===qh(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ai(t,!0,n,null,a,t.lastEffect);break;case"together":Ai(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function oi(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&Jg(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(u(153));if(null!==t.child){for(n=ah(e=t.child,e.pendingProps,e.expirationTime),(t.child=n).return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ah(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Ci(e){e.effectTag|=4}function Li(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Mi(e){switch(e.tag){case 1:L(e.type)&&Ff();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(nh(),Gf(),0!=(64&(t=e.effectTag)))throw Error(u(285));return e.effectTag=-4097&t|64,e;case 5:return ph(e),null;case 13:return G(Nr),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return G(Nr),null;case 4:return nh(),null;case 10:return tg(e),null;default:return null}}function Ni(e,t){return{value:e,source:t,stack:Xa(t)}}ci=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n=(n.child.return=n).child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},di=function(){},mi=function(e,t,n,r,i){var a=e.memoizedProps;if(a!==r){var o,s,l=t.stateNode;switch(lh(Pr.current),e=null,n){case"input":a=Ab(l,a),r=Ab(l,r),e=[];break;case"option":a=Ib(l,a),r=Ib(l,r),e=[];break;case"select":a=v({},a,{value:void 0}),r=v({},r,{value:void 0}),e=[];break;case"textarea":a=Kb(l,a),r=Kb(l,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(l.onclick=ae)}for(o in Yd(n,r),n=null,a)if(!r.hasOwnProperty(o)&&a.hasOwnProperty(o)&&null!=a[o])if("style"===o)for(s in l=a[o])l.hasOwnProperty(s)&&((n=n||{})[s]="");else"dangerouslySetInnerHTML"!==o&&"children"!==o&&"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(S.hasOwnProperty(o)?e=e||[]:(e=e||[]).push(o,null));for(o in r){var u=r[o];if(l=null!=a?a[o]:void 0,r.hasOwnProperty(o)&&u!==l&&(null!=u||null!=l))if("style"===o)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||((n=n||{})[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&((n=n||{})[s]=u[s])}else n||(e=e||[]).push(o,n),n=u;else"dangerouslySetInnerHTML"===o?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(e=e||[]).push(o,""+u)):"children"===o?l===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(o,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&(S.hasOwnProperty(o)?(null!=u&&$d(i,o),e||l===u||(e=[])):(e=e||[]).push(o,u))}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&Ci(t)}},_i=function(e,t,n,r){n!==r&&Ci(t)};var Ei="function"==typeof WeakSet?WeakSet:Set;function Pi(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=Xa(n)),null!==n&&Wa(n.type),t=t.value,null!==e&&1===e.tag&&Wa(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function Si(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){Ri(t,e)}else e.current=null}function Ti(e,t){switch(t.tag){case 0:case 11:case 15:Ui(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:mg(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(u(163))}}function Ui(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!=(r.tag&e)){var i=r.destroy;(r.destroy=void 0)!==i&&i()}0!=(r.tag&t)&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function Vi(e,r,t){switch("function"==typeof za&&za(r),r.tag){case 0:case 11:case 14:case 15:if(null!==(e=r.updateQueue)&&null!==(e=e.lastEffect)){var i=e.next;fg(97<t?97:t,function(){var e=i;do{var t=e.destroy;if(void 0!==t){var n=r;try{t()}catch(e){Ri(n,e)}}e=e.next}while(e!==i)})}break;case 1:Si(r),"function"==typeof(t=r.stateNode).componentWillUnmount&&function Qi(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Ri(t,e)}}(r,t);break;case 5:Si(r);break;case 4:Xi(e,r,t)}}function Yi(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,(e.memoizedProps=null)!==t&&Yi(t)}function Zi(e){return 5===e.tag||3===e.tag||4===e.tag}function $i(e){e:{for(var t=e.return;null!==t;){if(Zi(t)){var n=t;break e}t=t.return}throw Error(u(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(u(161))}16&n.effectTag&&(Tb(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Zi(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n=(n.child.return=n).child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){var a=5===i.tag||6===i.tag;if(a){var o=a?i.stateNode:i.stateNode.instance;if(n)if(r){var s=o;o=n,8===(a=t).nodeType?a.parentNode.insertBefore(s,o):a.insertBefore(s,o)}else t.insertBefore(o,n);else r?(8===(s=t).nodeType?(a=s.parentNode).insertBefore(o,s):(a=s).appendChild(o),null!=(s=s._reactRootContainer)||null!==a.onclick||(a.onclick=ae)):t.appendChild(o)}else if(4!==i.tag&&null!==i.child){i=(i.child.return=i).child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Xi(e,t,n){for(var r,i,a=t,o=!1;;){if(!o){o=a.return;e:for(;;){if(null===o)throw Error(u(160));switch(r=o.stateNode,o.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}o=o.return}o=!0}if(5===a.tag||6===a.tag){e:for(var s=e,l=a,c=n,h=l;;)if(Vi(s,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===l)break;for(;null===h.sibling;){if(null===h.return||h.return===l)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(s=r,l=a.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a=(a.child.return=a).child;continue}}else if(Vi(e,a,n),null!==a.child){a=(a.child.return=a).child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function aj(e,t){switch(t.tag){case 0:case 11:case 14:case 15:Ui(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if((t.updateQueue=null)!==a){for(n[un]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Cb(n,r),Zd(e,i),t=Zd(e,r),i=0;i<a.length;i+=2){var o=a[i],s=a[i+1];"style"===o?Wd(n,s):"dangerouslySetInnerHTML"===o?Be(n,s):"children"===o?Tb(n,s):vb(n,o,s,t)}switch(e){case"input":Eb(n,r);break;case"textarea":Mb(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Jb(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Jb(n,!!r.multiple,r.defaultValue,!0):Jb(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw Error(u(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:(t=t.stateNode).hydrate&&(t.hydrate=!1,Lc(t.containerInfo));break;case 12:break;case 13:if(null===(n=t).memoizedState?r=!1:(r=!0,n=t.child,Sa=fr()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"==typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,a.style.display=Vd("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e=(e.child.return=e).child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}cj(t);break;case 19:cj(t);break;case 17:case 20:case 21:break;default:throw Error(u(163))}}function cj(n){var e=n.updateQueue;if(null!==e){n.updateQueue=null;var r=n.stateNode;null===r&&(r=n.stateNode=new Ei),e.forEach(function(e){var t=function dj(e,t){var n=e.stateNode;null!==n&&n.delete(t),(t=0)===t&&(t=Qg(t=Pg(),e,null)),null!==(e=Kj(e,t))&&Z(e)}.bind(null,n,e);r.has(e)||(r.add(e),e.then(t,t))})}}var Ii="function"==typeof WeakMap?WeakMap:Map;function fj(e,t,n){(n=Bg(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ta||(Ta=!0,Pa=r),Pi(e,t)},n}function ij(t,n,e){(e=Bg(e,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=n.value;e.payload=function(){return Pi(t,n),r(i)}}var a=t.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(e.callback=function(){"function"!=typeof r&&(null===Ia?Ia=new Set([this]):Ia.add(this),Pi(t,n));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})}),e}var Oi,Di=Math.ceil,Fi=z.ReactCurrentDispatcher,Wi=z.ReactCurrentOwner,Hi=0,Gi=8,Ki=16,Ji=32,ea=0,na=1,ia=2,aa=3,oa=4,sa=5,la=Hi,ua=null,ca=null,pa=0,fa=ea,ga=null,va=1073741823,ma=1073741823,_a=null,ba=0,Ca=!1,Sa=0,Ea=500,ka=null,Ta=!1,Pa=null,Ia=null,Oa=!1,Na=null,Ra=90,La=null,Ma=0,Fa=null,Va=0;function Pg(){return(la&(Ki|Ji))!==Hi?1073741821-(fr()/10|0):0!==Va?Va:Va=1073741821-(fr()/10|0)}function Qg(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=dg();if(0==(4&t))return 99===r?1073741823:1073741822;if((la&Ki)!==Hi)return pa;if(null!==n)e=lg(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=lg(e,150,100);break;case 97:case 96:e=lg(e,5e3,250);break;case 95:e=2;break;default:throw Error(u(326))}return null!==ua&&e===pa&&--e,e}function Rg(e,t){if(50<Ma)throw Ma=0,Fa=null,Error(u(185));if(null!==(e=Kj(e,t))){var n=dg();1073741823===t?(la&Gi)!==Hi&&(la&(Ki|Ji))===Hi?Lj(e):(Z(e),la===Hi&&jg()):Z(e),(4&la)===Hi||98!==n&&99!==n||(null===La?La=new Map([[e,t]]):(void 0===(n=La.get(e))||t<n)&&La.set(e,t))}}function Kj(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(ua===i&&(Jg(t),fa===oa&&Mj(i,pa)),Nj(i,t)),i}function Oj(e){var t=e.lastExpiredTime;return 0!==t?t:Pj(e,t=e.firstPendingTime)?(t=e.lastPingedTime,(e=e.nextKnownPendingLevel)<t?t:e):t}function Z(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=hg(Lj.bind(null,e));else{var t=Oj(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Pg();if(r=1073741823===t?99:1===t||2===t?95:(r=10*(1073741821-t)-10*(1073741821-r))<=0?99:r<=250?98:r<=5250?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&r<=i)return;n!==lr&&Zn(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?hg(Lj.bind(null,e)):gg(r,function Qj(t,e){Va=0;if(e)return e=Pg(),Rj(t,e),Z(t),null;var n=Oj(t);if(0!==n){if(e=t.callbackNode,(la&(Ki|Ji))!==Hi)throw Error(u(327));if(Sj(),t===ua&&n===pa||Tj(t,n),null!==ca){var r=la;la|=Ki;for(var i=Uj();;)try{Vj();break}catch(e){Wj(t,e)}if(rg(),la=r,Fi.current=i,fa===na)throw e=ga,Tj(t,n),Mj(t,n),Z(t),e;if(null===ca)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,r=fa,ua=null,r){case ea:case na:throw Error(u(345));case ia:Rj(t,2<n?2:n);break;case aa:if(Mj(t,n),r=t.lastSuspendedTime,n===r&&(t.nextKnownPendingLevel=Xj(i)),1073741823===va&&10<(i=Sa+Ea-fr())){if(Ca){var a=t.lastPingedTime;if(0===a||n<=a){t.lastPingedTime=n,Tj(t,n);break}}if(0!==(a=Oj(t))&&a!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=an(Yj.bind(null,t),i);break}Yj(t);break;case oa:if(Mj(t,n),r=t.lastSuspendedTime,n===r&&(t.nextKnownPendingLevel=Xj(i)),Ca&&(0===(i=t.lastPingedTime)||n<=i)){t.lastPingedTime=n,Tj(t,n);break}if(0!==(i=Oj(t))&&i!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}if(1073741823!==ma?r=10*(1073741821-ma)-fr():1073741823===va?r=0:(r=10*(1073741821-va)-5e3,i=fr(),n=10*(1073741821-n)-i,(r=i-r)<0&&(r=0),r=(r<120?120:r<480?480:r<1080?1080:r<1920?1920:r<3e3?3e3:r<4320?4320:1960*Di(r/1960))-r,n<r&&(r=n)),10<r){t.timeoutHandle=an(Yj.bind(null,t),r);break}Yj(t);break;case sa:if(1073741823!==va&&null!==_a){a=va;var o=_a;if(10<(r=(r=0|o.busyMinDurationMs)<=0?0:(i=0|o.busyDelayMs,(a=fr()-(10*(1073741821-a)-(0|o.timeoutMs||5e3)))<=i?0:i+r-a))){Mj(t,n),t.timeoutHandle=an(Yj.bind(null,t),r);break}}Yj(t);break;default:throw Error(u(329))}if(Z(t),t.callbackNode===e)return Qj.bind(null,t)}}return null}.bind(null,e),{timeout:10*(1073741821-t)-fr()}),e.callbackNode=t}}}function Lj(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,t.finishedExpirationTime===e)Yj(t);else{if((la&(Ki|Ji))!==Hi)throw Error(u(327));if(Sj(),t===ua&&e===pa||Tj(t,e),null!==ca){var n=la;la|=Ki;for(var r=Uj();;)try{Zj();break}catch(e){Wj(t,e)}if(rg(),la=n,Fi.current=r,fa===na)throw n=ga,Tj(t,e),Mj(t,e),Z(t),n;if(null!==ca)throw Error(u(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,ua=null,Yj(t),Z(t)}}return null}function bk(e,t){var n=la;la|=1;try{return e(t)}finally{(la=n)===Hi&&jg()}}function ck(e,t){var n=la;la&=-2,la|=Gi;try{return e(t)}finally{(la=n)===Hi&&jg()}}function Tj(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,on(n)),null!==ca)for(n=ca.return;null!==n;){var r=n;switch(r.tag){case 1:var i=r.type.childContextTypes;null!=i&&Ff();break;case 3:nh(),Gf();break;case 5:ph(r);break;case 4:nh();break;case 13:case 19:G(Nr);break;case 10:tg(r)}n=n.return}ca=ah((ua=e).current,null),pa=t,fa=ea,ma=va=1073741823,_a=ga=null,ba=0,Ca=!1}function Wj(e,t){for(;;){try{if(rg(),Mh(),null===ca||null===ca.return)return fa=na,ga=t,null;e:{var n=e,r=ca.return,i=ca,a=t;if(t=pa,i.effectTag|=2048,i.firstEffect=i.lastEffect=null,null!==a&&"object"==typeof a&&"function"==typeof a.then){var o=a,s=0!=(1&Nr.current),l=r;do{var u;if(u=13===l.tag){var c=l.memoizedState;if(null!==c)u=null!==c.dehydrated;else{var h=l.memoizedProps;u=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!s)}}if(u){var d=l.updateQueue;if(null===d){var p=new Set;p.add(o),l.updateQueue=p}else d.add(o);if(0==(2&l.mode)){if(l.effectTag|=64,i.effectTag&=-2981,1===i.tag)if(null===i.alternate)i.tag=17;else{var f=Bg(1073741823,null);f.tag=2,Dg(i,f)}i.expirationTime=1073741823;break e}a=void 0,i=t;var g=n.pingCache;if(null===g?(g=n.pingCache=new Ii,a=new Set,g.set(o,a)):void 0===(a=g.get(o))&&(a=new Set,g.set(o,a)),!a.has(i)){a.add(i);var v=dk.bind(null,n,o,i);o.then(v,v)}l.effectTag|=4096,l.expirationTime=t;break e}l=l.return}while(null!==l);a=Error((Wa(i.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Xa(i))}fa!==sa&&(fa=ia),a=Ni(a,i),l=r;do{switch(l.tag){case 3:o=a,l.effectTag|=4096,l.expirationTime=t,Eg(l,fj(l,o,t));break e;case 1:o=a;var m=l.type,_=l.stateNode;if(0==(64&l.effectTag)&&("function"==typeof m.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===Ia||!Ia.has(_)))){l.effectTag|=4096,l.expirationTime=t,Eg(l,ij(l,o,t));break e}}l=l.return}while(null!==l)}ca=ek(ca)}catch(e){t=e;continue}break}}function Uj(){var e=Fi.current;return Fi.current=Gr,null===e?Gr:e}function Ig(e,t){e<va&&2<e&&(va=e),null!==t&&e<ma&&2<e&&(ma=e,_a=t)}function Jg(e){ba<e&&(ba=e)}function Zj(){for(;null!==ca;)ca=fk(ca)}function Vj(){for(;null!==ca&&!Xn();)ca=fk(ca)}function fk(e){var t=Oi(e.alternate,e,pa);return e.memoizedProps=e.pendingProps,null===t&&(t=ek(e)),Wi.current=null,t}function ek(e){ca=e;do{var t=ca.alternate;if(e=ca.return,0==(2048&ca.effectTag)){e:{var n=t,r=pa,i=(t=ca).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:L(t.type)&&Ff();break;case 3:nh(),Gf(),(i=t.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==n&&null!==n.child||!ki(t)||Ci(t),di(t);break;case 5:ph(t),r=lh(Or.current);var a=t.type;if(null!==n&&null!=t.stateNode)mi(n,t,a,i,r),n.ref!==t.ref&&(t.effectTag|=128);else if(i){var o=lh(Pr.current);if(ki(t)){var s=(i=t).stateNode;n=i.type;var l=i.memoizedProps,c=r;switch(s[ln]=i,s[un]=l,a=void 0,r=s,n){case"iframe":case"object":case"embed":F("load",r);break;case"video":case"audio":for(s=0;s<Xe.length;s++)F(Xe[s],r);break;case"source":F("error",r);break;case"img":case"image":case"link":F("error",r),F("load",r);break;case"form":F("reset",r),F("submit",r);break;case"details":F("toggle",r);break;case"input":Bb(r,l),F("invalid",r),$d(c,"onChange");break;case"select":r._wrapperState={wasMultiple:!!l.multiple},F("invalid",r),$d(c,"onChange");break;case"textarea":Lb(r,l),F("invalid",r),$d(c,"onChange")}for(a in Yd(n,l),s=null,l)l.hasOwnProperty(a)&&(o=l[a],"children"===a?"string"==typeof o?r.textContent!==o&&(s=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(s=["children",""+o]):S.hasOwnProperty(a)&&null!=o&&$d(c,a));switch(n){case"input":yb(r),Gb(r,l,!0);break;case"textarea":yb(r),Nb(r);break;case"select":case"option":break;default:"function"==typeof l.onClick&&(r.onclick=ae)}a=s,i.updateQueue=a,(i=null!==a)&&Ci(t)}else{n=t,c=a,l=i,s=9===r.nodeType?r:r.ownerDocument,o===Fe.html&&(o=Pb(c)),o===Fe.html?"script"===c?((l=s.createElement("div")).innerHTML="<script><\/script>",s=l.removeChild(l.firstChild)):"string"==typeof l.is?s=s.createElement(c,{is:l.is}):(s=s.createElement(c),"select"===c&&(c=s,l.multiple?c.multiple=!0:l.size&&(c.size=l.size))):s=s.createElementNS(o,c),(l=s)[ln]=n,l[un]=i,ci(l,t,!1,!1),t.stateNode=l;var h=r,d=Zd(c=a,n=i);switch(c){case"iframe":case"object":case"embed":F("load",l),r=n;break;case"video":case"audio":for(r=0;r<Xe.length;r++)F(Xe[r],l);r=n;break;case"source":F("error",l),r=n;break;case"img":case"image":case"link":F("error",l),F("load",l),r=n;break;case"form":F("reset",l),F("submit",l),r=n;break;case"details":F("toggle",l),r=n;break;case"input":Bb(l,n),r=Ab(l,n),F("invalid",l),$d(h,"onChange");break;case"option":r=Ib(l,n);break;case"select":l._wrapperState={wasMultiple:!!n.multiple},r=v({},n,{value:void 0}),F("invalid",l),$d(h,"onChange");break;case"textarea":Lb(l,n),r=Kb(l,n),F("invalid",l),$d(h,"onChange");break;default:r=n}Yd(c,r),s=void 0,o=c;var p=l,f=r;for(s in f)if(f.hasOwnProperty(s)){var g=f[s];"style"===s?Wd(p,g):"dangerouslySetInnerHTML"===s?null!=(g=g?g.__html:void 0)&&Be(p,g):"children"===s?"string"==typeof g?"textarea"===o&&""===g||Tb(p,g):"number"==typeof g&&Tb(p,""+g):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?null!=g&&$d(h,s):null!=g&&vb(p,s,g,d))}switch(c){case"input":yb(l),Gb(l,n,!1);break;case"textarea":yb(l),Nb(l);break;case"option":null!=n.value&&l.setAttribute("value",""+ub(n.value));break;case"select":(r=l).multiple=!!n.multiple,null!=(l=n.value)?Jb(r,!!n.multiple,l,!1):null!=n.defaultValue&&Jb(r,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof r.onClick&&(l.onclick=ae)}(i=ne(a,i))&&Ci(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw Error(u(166));break;case 6:if(n&&null!=t.stateNode)_i(n,t,n.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(u(166));r=lh(Or.current),lh(Pr.current),ki(t)?(a=(i=t).stateNode,r=i.memoizedProps,a[ln]=i,(i=a.nodeValue!==r)&&Ci(t)):(a=t,(i=(9===r.nodeType?r:r.ownerDocument).createTextNode(i))[ln]=a,t.stateNode=i)}break;case 11:break;case 13:if(G(Nr),i=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=r;break e}i=null!==i,a=!1,null===n?void 0!==t.memoizedProps.fallback&&ki(t):(a=null!==(r=n.memoizedState),i||null===r||null!==(r=n.child.sibling)&&(null!==(l=t.firstEffect)?(t.firstEffect=r).nextEffect=l:(t.firstEffect=t.lastEffect=r,r.nextEffect=null),r.effectTag=8)),i&&!a&&0!=(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Nr.current)?fa===ea&&(fa=aa):(fa!==ea&&fa!==aa||(fa=oa),0!==ba&&null!==ua&&(Mj(ua,pa),Nj(ua,ba)))),(i||a)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:nh(),di(t);break;case 10:tg(t);break;case 9:case 14:break;case 17:L(t.type)&&Ff();break;case 19:if(G(Nr),null===(i=t.memoizedState))break;if(a=0!=(64&t.effectTag),null===(l=i.rendering)){if(a)Li(i,!1);else if(fa!==ea||null!==n&&0!=(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(l=qh(n))){for(t.effectTag|=64,Li(i,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=r,a=t.child;null!==a;)n=i,(r=a).effectTag&=2,r.nextEffect=null,r.firstEffect=null,(r.lastEffect=null)===(l=r.alternate)?(r.childExpirationTime=0,r.expirationTime=n,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null):(r.childExpirationTime=l.childExpirationTime,r.expirationTime=l.expirationTime,r.child=l.child,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,n=l.dependencies,r.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),a=a.sibling;I(Nr,1&Nr.current|2),t=t.child;break e}n=n.sibling}}else{if(!a)if(null!==(n=qh(l))){if(t.effectTag|=64,a=!0,null!==(r=n.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),Li(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate){null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null);break}}else fr()>i.tailExpiration&&1<r&&(t.effectTag|=64,Li(i,!(a=!0)),t.expirationTime=t.childExpirationTime=r-1);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=i.last)?r.sibling=l:t.child=l,i.last=l)}if(null===i.tail)break;0===i.tailExpiration&&(i.tailExpiration=fr()+500),r=i.tail,i.rendering=r,i.tail=r.sibling,i.lastEffect=t.lastEffect,r.sibling=null,i=Nr.current,I(Nr,i=a?1&i|2:1&i),t=r;break e;case 20:case 21:break;default:throw Error(u(156,t.tag))}t=null}if(i=ca,1===pa||1!==i.childExpirationTime){for(a=0,r=i.child;null!==r;)a<(n=r.expirationTime)&&(a=n),a<(l=r.childExpirationTime)&&(a=l),r=r.sibling;i.childExpirationTime=a}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=ca.firstEffect),null!==ca.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=ca.firstEffect),e.lastEffect=ca.lastEffect),1<ca.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=ca:e.firstEffect=ca,e.lastEffect=ca))}else{if(null!==(t=Mi(ca)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=ca.sibling))return t;ca=e}while(null!==ca);return fa===ea&&(fa=sa),null}function Xj(e){var t=e.expirationTime;return(e=e.childExpirationTime)<t?t:e}function Yj(e){var t=dg();return fg(99,function ik(e,t){for(;Sj(),null!==Na;);if((la&(Ki|Ji))!==Hi)throw Error(u(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(u(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Xj(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===ua&&(ca=ua=null,pa=0),i=1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,n.firstEffect):n:n.firstEffect,null!==i){var a=la;la|=Ji,Wi.current=null,nn=Gt;var o=fe();if(ge(o)){if("selectionStart"in o)var s={start:o.selectionStart,end:o.selectionEnd};else e:{var l=(s=(s=o.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(l&&0!==l.rangeCount){s=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{s.nodeType,h.nodeType}catch(e){s=null;break e}var d=0,p=-1,f=-1,g=0,v=0,m=o,_=null;t:for(;;){for(var y;m!==s||0!==c&&3!==m.nodeType||(p=d+c),m!==h||0!==l&&3!==m.nodeType||(f=d+l),3===m.nodeType&&(d+=m.nodeValue.length),null!==(y=m.firstChild);)_=m,m=y;for(;;){if(m===o)break t;if(_===s&&++g===c&&(p=d),_===h&&++v===l&&(f=d),null!==(y=m.nextSibling))break;_=(m=_).parentNode}m=y}s=-1===p||-1===f?null:{start:p,end:f}}else s=null}s=s||{start:0,end:0}}else s=null;Gt=!(rn={focusedElem:o,selectionRange:s}),ka=i;do{try{jk()}catch(e){if(null===ka)throw Error(u(330));Ri(ka,e),ka=ka.nextEffect}}while(null!==ka);ka=i;do{try{for(o=e,s=t;null!==ka;){var b=ka.effectTag;if(16&b&&Tb(ka.stateNode,""),128&b){var w=ka.alternate;if(null!==w){var C=w.ref;null!==C&&("function"==typeof C?C(null):C.current=null)}}switch(1038&b){case 2:$i(ka),ka.effectTag&=-3;break;case 6:$i(ka),ka.effectTag&=-3,aj(ka.alternate,ka);break;case 1024:ka.effectTag&=-1025;break;case 1028:ka.effectTag&=-1025,aj(ka.alternate,ka);break;case 4:aj(ka.alternate,ka);break;case 8:Xi(o,c=ka,s),Yi(c)}ka=ka.nextEffect}}catch(e){if(null===ka)throw Error(u(330));Ri(ka,e),ka=ka.nextEffect}}while(null!==ka);if(C=rn,w=fe(),b=C.focusedElem,s=C.selectionRange,w!==b&&b&&b.ownerDocument&&function ee(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ee(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}(b.ownerDocument.documentElement,b)){null!==s&&ge(b)&&(w=s.start,void 0===(C=s.end)&&(C=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(C,b.value.length)):(C=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(C=C.getSelection(),c=b.textContent.length,o=Math.min(s.start,c),s=void 0===s.end?o:Math.min(s.end,c),!C.extend&&s<o&&(c=s,s=o,o=c),c=de(b,o),h=de(b,s),c&&h&&(1!==C.rangeCount||C.anchorNode!==c.node||C.anchorOffset!==c.offset||C.focusNode!==h.node||C.focusOffset!==h.offset)&&((w=w.createRange()).setStart(c.node,c.offset),C.removeAllRanges(),s<o?(C.addRange(w),C.extend(h.node,h.offset)):(w.setEnd(h.node,h.offset),C.addRange(w))))),w=[];for(C=b;C=C.parentNode;)1===C.nodeType&&w.push({element:C,left:C.scrollLeft,top:C.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(C=w[b]).element.scrollLeft=C.left,C.element.scrollTop=C.top}Gt=!!nn,nn=rn=null,e.current=n,ka=i;do{try{for(b=r;null!==ka;){var x=ka.effectTag;if(36&x){var S=ka.alternate;switch(C=b,(w=ka).tag){case 0:case 11:case 15:Ui(16,32,w);break;case 1:var E=w.stateNode;if(4&w.effectTag)if(null===S)E.componentDidMount();else{var k=w.elementType===w.type?S.memoizedProps:mg(w.type,S.memoizedProps);E.componentDidUpdate(k,S.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var T=w.updateQueue;null!==T&&Kg(0,T,E);break;case 3:var P=w.updateQueue;if(null!==P){if((o=null)!==w.child)switch(w.child.tag){case 5:o=w.child.stateNode;break;case 1:o=w.child.stateNode}Kg(0,P,o)}break;case 5:var I=w.stateNode;null===S&&4&w.effectTag&&ne(w.type,w.memoizedProps)&&I.focus();break;case 6:case 4:case 12:break;case 13:if(null===w.memoizedState){var O=w.alternate;if(null!==O){var N=O.memoizedState;if(null!==N){var A=N.dehydrated;null!==A&&Lc(A)}}}break;case 19:case 17:case 20:case 21:break;default:throw Error(u(163))}}if(128&x){w=void 0;var R=ka.ref;if(null!==R){var L=ka.stateNode;switch(ka.tag){case 5:w=L;break;default:w=L}"function"==typeof R?R(w):R.current=w}}ka=ka.nextEffect}}catch(e){if(null===ka)throw Error(u(330));Ri(ka,e),ka=ka.nextEffect}}while(null!==ka);ka=null,ur(),la=a}else e.current=n;if(Oa)Oa=!1,Na=e,Ra=t;else for(ka=i;null!==ka;)t=ka.nextEffect,ka.nextEffect=null,ka=t;if(0===(t=e.firstPendingTime)&&(Ia=null),1073741823===t?e===Fa?Ma++:(Ma=0,Fa=e):Ma=0,"function"==typeof ja&&ja(n.stateNode,r),Z(e),Ta)throw Ta=!1,e=Pa,Pa=null,e;return(la&Gi)!==Hi||jg(),null}.bind(null,e,t)),null}function jk(){for(;null!==ka;){var e=ka.effectTag;0!=(256&e)&&Ti(ka.alternate,ka),0==(512&e)||Oa||(Oa=!0,gg(97,function(){return Sj(),null})),ka=ka.nextEffect}}function Sj(){if(90!==Ra){var e=97<Ra?97:Ra;return Ra=90,fg(e,lk)}}function lk(){if(null===Na)return!1;var t=Na;if(Na=null,(la&(Ki|Ji))!==Hi)throw Error(u(331));var e=la;for(la|=Ji,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:Ui(128,0,n),Ui(0,64,n)}}catch(e){if(null===t)throw Error(u(330));Ri(t,e)}n=t.nextEffect,t.nextEffect=null,t=n}return la=e,jg(),!0}function mk(e,t,n){Dg(e,t=fj(e,t=Ni(n,t),1073741823)),null!==(e=Kj(e,1073741823))&&Z(e)}function Ri(e,t){if(3===e.tag)mk(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){mk(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ia||!Ia.has(r))){Dg(n,e=ij(n,e=Ni(t,e),1073741823)),null!==(n=Kj(n,1073741823))&&Z(n);break}}n=n.return}}function dk(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),ua===e&&pa===n?fa===oa||fa===aa&&1073741823===va&&fr()-Sa<Ea?Tj(e,pa):Ca=!0:Pj(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),Z(e)))}Oi=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||Kn.current)ei=!0;else{if(r<n){switch(ei=!1,t.tag){case 3:wi(t),li();break;case 5:if(oh(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:L(t.type)&&Jf(t);break;case 4:mh(t,t.stateNode.containerInfo);break;case 10:sg(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&n<=r?yi(e,t,n):(I(Nr,1&Nr.current),null!==(t=oi(e,t,n))?t.sibling:null);I(Nr,1&Nr.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return Bi(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),I(Nr,Nr.current),!r)return null}return oi(e,t,n)}ei=!1}}else ei=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=Ef(t,Gn.current),vg(t,n),i=Ih(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,Mh(),L(r)){var a=!0;Jf(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var o=r.getDerivedStateFromProps;"function"==typeof o&&Og(t,r,o,e),i.updater=xr,Wg((t.stateNode=i)._reactInternalFiber=t,r,e,n),t=vi(null,t,r,!0,a,n)}else t.tag=0,R(null,t,i,n),t=t.child;return t;case 16:if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function Va(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),(t._result=e).then(function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)},function(e){0===t._status&&(t._status=2,t._result=e)})}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function nk(e){if("function"==typeof e)return qi(e)?1:0;if(null!=e){if((e=e.$$typeof)===ie)return 11;if(e===he)return 14}return 2}(i),e=mg(i,e),a){case 0:t=si(null,t,i,e,n);break;case 1:t=ui(null,t,i,e,n);break;case 11:t=ni(null,t,i,e,n);break;case 14:t=pi(null,t,i,mg(i.type,e),r,n);break;default:throw Error(u(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,si(e,t,r,i=t.elementType===r?i:mg(r,i),n);case 1:return r=t.type,i=t.pendingProps,ui(e,t,r,i=t.elementType===r?i:mg(r,i),n);case 3:if(wi(t),null===(r=t.updateQueue))throw Error(u(282));if(i=null!==(i=t.memoizedState)?i.element:null,Hg(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i)li(),t=oi(e,t,n);else{if((i=t.stateNode.hydrate)&&(Jr=re(t.stateNode.containerInfo.firstChild),Yr=t,i=Zr=!0),i)for(n=kr(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else R(e,t,r,n),li();t=t.child}return t;case 5:return oh(t),null===e&&ii(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,oe(r,i)?o=null:null!==a&&oe(r,a)&&(t.effectTag|=16),ti(e,t),t=4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,null):(R(e,t,o,n),t.child);case 6:return null===e&&ii(t),null;case 13:return yi(e,t,n);case 4:return mh(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Er(t,null,r,n):R(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ni(e,t,r,i=t.elementType===r?i:mg(r,i),n);case 7:return R(e,t,t.pendingProps,n),t.child;case 8:case 12:return R(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,sg(t,a=i.value),null!==o){var s=o.value;if(0===(a=Mn(s,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(o.children===i.children&&!Kn.current){t=oi(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&a)){1===s.tag&&((c=Bg(n,null)).tag=2,Dg(s,c)),s.expirationTime<n&&(s.expirationTime=n),null!==(c=s.alternate)&&c.expirationTime<n&&(c.expirationTime=n),ug(s.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else o=10===s.tag&&s.type===t.type?null:s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}R(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,vg(t,n),r=r(i=xg(i,a.unstable_observedBits)),t.effectTag|=1,R(e,t,r,n),t.child;case 14:return a=mg(i=t.type,t.pendingProps),pi(e,t,i,a=mg(i.type,a),r,n);case 15:return ri(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mg(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,L(r)?(e=!0,Jf(t)):e=!1,vg(t,n),Ug(t,r,i),Wg(t,r,i,n),vi(null,t,r,!0,e,n);case 19:return Bi(e,t,n)}throw Error(u(156,t.tag))};var ja=null,za=null;function pk(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function gi(e,t,n,r){return new pk(e,t,n,r)}function qi(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ah(e,t){var n=e.alternate;return null===n?((n=gi(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,(n.alternate=e).alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ch(e,t,n,r,i,a){var o=2;if("function"==typeof(r=e))qi(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case $:return eh(n.children,i,a,t);case te:o=8,i|=7;break;case Y:o=8,i|=1;break;case J:return(e=gi(12,n,t,8|i)).elementType=J,e.type=J,e.expirationTime=a,e;case le:return(e=gi(13,n,t,i)).type=le,e.elementType=le,e.expirationTime=a,e;case ue:return(e=gi(19,n,t,i)).elementType=ue,e.expirationTime=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case X:o=10;break e;case ee:o=9;break e;case ie:o=11;break e;case he:o=14;break e;case pe:o=16,r=null;break e}throw Error(u(130,null==e?e:typeof e,""))}return(t=gi(o,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function eh(e,t,n,r){return(e=gi(7,e,r,t)).expirationTime=n,e}function bh(e,t,n){return(e=gi(6,e,null,t)).expirationTime=n,e}function dh(e,t,n){return(t=gi(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qk(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Pj(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&t<=n&&e<=t}function Mj(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(t<r||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Nj(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(n<=t?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Rj(e,t){var n=e.lastExpiredTime;(0===n||t<n)&&(e.lastExpiredTime=t)}function rk(e,t,n,r){var i=t.current,a=Pg(),o=wr.suspense;a=Qg(a,i,o);e:if(n){t:{if(ec(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(u(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(L(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(u(171))}if(1===n.tag){var l=n.type;if(L(l)){n=If(n,l,s);break e}}n=s}else n=Hn;return null===t.context?t.context=n:t.pendingContext=n,(t=Bg(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),Dg(i,t),Rg(i,a),a}function sk(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function tk(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function uk(e,t){tk(e,t),(e=e.alternate)&&tk(e,t)}function vk(e,t,n){var r=new qk(e,t,n=null!=n&&!0===n.hydrate),i=gi(3,null,null,2===t?7:1===t?3:0);(r.current=i).stateNode=r,e[cn]=r.current,n&&0!==t&&function wc(t){var n=xc(t);ht.forEach(function(e){yc(e,t,n)}),dt.forEach(function(e){yc(e,t,n)})}(9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function wk(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function zk(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=sk(o);s.call(e)}}rk(t,o,e,i)}else{if(a=n._reactRootContainer=function yk(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new vk(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"==typeof i){var l=i;i=function(){var e=sk(o);l.call(e)}}ck(function(){rk(t,o,e,i)})}return sk(o)}function Bk(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!wk(t))throw Error(u(200));return function Ak(e,t,n,r){var i=3<arguments.length&&void 0!==r?r:null;return{$$typeof:K,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}vk.prototype.render=function(e,t){rk(e,this._internalRoot,null,void 0===t?null:t)},vk.prototype.unmount=function(e){var t=this._internalRoot,n=void 0===e?null:e,r=t.containerInfo;rk(null,t,null,function(){(r[cn]=null)!==n&&n()})},et=function(e){if(13===e.tag){var t=lg(Pg(),150,100);Rg(e,t),uk(e,t)}},tt=function(e){if(13===e.tag){Pg();var t=gr++;Rg(e,t),uk(e,t)}},nt=function(e){if(13===e.tag){var t=Pg();Rg(e,t=Qg(t,e,null)),uk(e,t)}},_e=function(e,t,n){switch(t){case"input":if(Eb(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ye(r);if(!i)throw Error(u(90));zb(r),Eb(r,i)}}}break;case"textarea":Mb(e,n);break;case"select":null!=(t=n.value)&&Jb(e,!!n.multiple,t,!1)}},fb=function(e,t,n,r){var i=la;la|=4;try{return fg(98,e.bind(null,t,n,r))}finally{(la=i)===Hi&&jg()}},gb=function(){(la&(1|Ki|Ji))===Hi&&(function ak(){if(null!==La){var e=La;La=null,e.forEach(function(e,t){Rj(t,e),Z(t)}),jg()}}(),Sj())};var Qa,Ha,Ga={createPortal:Bk,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0!==t)return e=null===(e=ic(t))?null:e.stateNode;if("function"==typeof e.render)throw Error(u(188));throw Error(u(268,Object.keys(e)))},hydrate:function(e,t,n){if(!wk(t))throw Error(u(200));return zk(null,e,t,!0,n)},render:function(e,t,n){if(!wk(t))throw Error(u(200));return zk(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!wk(n))throw Error(u(200));if(null==e||void 0===e._reactInternalFiber)throw Error(u(38));return zk(e,t,n,!1,r)},unmountComponentAtNode:function(e){if(!wk(e))throw Error(u(40));return!!e._reactRootContainer&&(ck(function(){zk(null,null,e,!1,function(){e._reactRootContainer=null,e[cn]=null})}),!0)},unstable_createPortal:function(){return Bk.apply(void 0,arguments)},unstable_batchedUpdates:eb=bk,flushSync:function(e,t){if((la&(Ki|Ji))!==Hi)throw Error(u(187));var n=la;la|=1;try{return fg(99,e.bind(null,t))}finally{la=n,jg()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[Cc,xe,ye,j.injectEventPluginsByName,x,Sc,function(e){ya(e,Rc)},cb,db,Pd,Ba,Sj,{current:!(Ee=function(e,t){var n=la;la|=2;try{return e(t)}finally{(la=n)===Hi&&jg()}})}]}};Ha=(Qa={findFiberByHostInstance:Fc,bundleType:0,version:"16.12.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function ok(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);ja=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},za=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}return!0}(v({},Qa,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ic(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Ha?Ha(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}));var Ka=Ga;t.exports=Ka.default||Ka},zVF4:function(e,c,h){"use strict";(function(e){Object.defineProperty(c,"__esModule",{value:!0});function vOc(e,t){if(!e)throw r(t)}function xOc(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t}function BOc(e){try{return i.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}var t=h("mrSG"),n={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},r=function(e){return new Error("Firebase Database ("+n.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=a>>2,h=(3&a)<<4|s>>4,d=(15&s)<<2|u>>6,p=63&u;l||(p=64,o||(d=64)),r.push(n[c],n[h],n[d],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(xOc(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(191<i&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(239<i&&i<365){var o=((7&i)<<18|(63&(a=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{a=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,l=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==l)throw Error();var u=a<<2|o>>4;if(r.push(u),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==l){var h=s<<6&192|l;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function deepExtend(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=deepExtend(e[n],t[n]));return e}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a=(Deferred.prototype.wrapCallback=function(n){var r=this;return function(e,t){e?r.reject(e):r.resolve(t),"function"==typeof n&&(r.promise.catch(function(){}),1===n.length?n(e):n(e,t))}},Deferred);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Deferred(){var n=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,t){n.resolve=e,n.reject=t})}function getUA(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var o,d=(o=Error,t.__extends(FirebaseError,o),FirebaseError);function FirebaseError(e,t){var n=o.call(this,t)||this;return n.code=e,n.name="FirebaseError",Object.setPrototypeOf(n,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(n,s.prototype.create),n}var s=(ErrorFactory.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,a=this.errors[e],o=a?function replaceTemplate(e,r){return e.replace(p,function(e,t){var n=r[t];return null!=n?n.toString():"<"+t+"?>"})}(a,r):"Error",s=this.serviceName+": "+o+" ("+i+").",l=new d(i,s),u=0,c=Object.keys(r);u<c.length;u++){var h=c[u];"_"!==h.slice(-1)&&(h in l&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),l[h]=r[h])}return l},ErrorFactory);function ErrorFactory(e,t,n){this.service=e,this.serviceName=t,this.errors=n}var p=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonEval(e){return JSON.parse(e)}function HOc(e){var t={},n={},r={},i="";try{var a=e.split(".");t=jsonEval(BOc(a[0])||""),n=jsonEval(BOc(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var l=(Sha1.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Sha1.prototype.compress_=function(e,t){t=t||0;var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var a,o,s=this.chain_[0],l=this.chain_[1],u=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)o=r<40?r<20?(a=c^l&(u^c),1518500249):(a=l^u^c,1859775393):r<60?(a=l&u|c&(l|u),2400959708):(a=l^u^c,3395469782),i=(s<<5|s>>>27)+a+h+o+n[r]&4294967295,h=c,c=u,u=4294967295&(l<<30|l>>>2),l=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},Sha1.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}},Sha1.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;56<=n;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;0<=i;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},Sha1);function Sha1(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}var u=(ObserverProxy.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},ObserverProxy.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},ObserverProxy.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},ObserverProxy.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function implementsAnyMethods(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=noop),void 0===r.error&&(r.error=noop),void 0===r.complete&&(r.complete=noop);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),a},ObserverProxy.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},ObserverProxy.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},ObserverProxy.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})},ObserverProxy.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},ObserverProxy);function ObserverProxy(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}function noop(){}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function errorPrefix(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}c.CONSTANTS=n,c.Deferred=a,c.ErrorFactory=s,c.FirebaseError=d,c.Sha1=l,c.assert=vOc,c.assertionError=r,c.async=function async(n,r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Promise.resolve(!0).then(function(){n.apply(void 0,e)}).catch(function(e){r&&r(e)})}},c.base64=i,c.base64Decode=BOc,c.base64Encode=function(e){var t=xOc(e);return i.encodeByteArray(t,!0)},c.contains=
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function contains(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.createSubscribe=function createSubscribe(e,t){var n=new u(e,t);return n.subscribe.bind(n)},c.decode=HOc,c.deepCopy=
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function deepCopy(e){return deepExtend(void 0,e)},c.deepExtend=deepExtend,c.errorPrefix=errorPrefix,c.getUA=getUA,c.isAdmin=function(e){var t=HOc(e).claims;return"object"==typeof t&&!0===t.admin},c.isBrowser=function isBrowser(){return"object"==typeof self&&self.self===self},c.isEmpty=function isEmpty(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},c.isMobileCordova=function isMobileCordova(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())},c.isNode=function isNode(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(e){return!1}},c.isNodeSdk=function isNodeSdk(){return!0===n.NODE_CLIENT||!0===n.NODE_ADMIN},c.isReactNative=function isReactNative(){return"object"==typeof navigator&&"ReactNative"===navigator.product},c.isValidFormat=function(e){var t=HOc(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},c.isValidTimestamp=function(e){var t=HOc(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&r<=n&&n<=i},c.issuedAtTime=function(e){var t=HOc(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},c.jsonEval=jsonEval,c.map=function map(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,c.querystring=function querystring(e){for(var n=[],t=function(t,e){Array.isArray(e)?e.forEach(function(e){n.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}):n.push(encodeURIComponent(t)+"="+encodeURIComponent(e))},r=0,i=Object.entries(e);r<i.length;r++){var a=i[r];t(a[0],a[1])}return n.length?"&"+n.join("&"):""},c.querystringDecode=function querystringDecode(e){var n={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var t=e.split("=");n[t[0]]=t[1]}}),n},c.safeGet=function safeGet(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},c.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:55296<=r&&r<=56319?(t+=4,n++):t+=3}return t},c.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(55296<=i&&i<=56319){var a=i-55296;vOc(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(i<65536?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},c.stringify=function stringify(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,c.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:n<r&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},c.validateCallback=function validateCallback(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(errorPrefix(e,t,r)+"must be a valid function.")},c.validateContextObject=function validateContextObject(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(errorPrefix(e,t,r)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,c.validateNamespace=function validateNamespace(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(errorPrefix(e,t,r)+"must be a valid firebase namespace.")}}).call(this,h("yLpj"))}}]);
//# sourceMappingURL=vendors.d41fefa0.js.map